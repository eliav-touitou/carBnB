{"version":3,"sources":["reducers/cars.js","reducers/carsApi.js","reducers/modelsApi.js","reducers/yearsFilter.js","reducers/priceFilter.js","reducers/ratingFilter.js","reducers/filteredCars.js","reducers/initialSearch.js","reducers/onLoginPage.js","reducers/promptOrNormal.js","reducers/rentalDetails.js","reducers/notifications.js","reducers/notFoundMessage.js","reducers/notificationCounter.js","reducers/photosArray.js","reducers/showLogin.js","reducers/carToRental.js","reducers/allCitiesApi.js","reducers/spinner.js","actions/index.js","components/SearchBar.js","photos/background-4593643_1920.jpg","photos/top-car.jpeg","photos/top-owner.jpeg","photos/top-location.jpeg","photos/toyota-logo.jpg","photos/mazda-logo.jpg","photos/ford-logo.jpg","photos/tesla-logo.jpg","photos/peugeot-logo.jpg","photos/bmw-logo.jpg","components/TopCarousel.js","components/Home.js","components/Register.js","components/MyCar.js","components/MyCars.js","components/OverviewDetail.js","components/Overview.js","components/Profile.js","components/NotFound.js","components/UploadPhoto.js","components/AddNewCar.js","components/Login.js","components/PromptLogin.js","photos/logo-white.png","photos/no-car-photo.png","components/CarGallery.js","components/Result.js","components/PriceSlider.js","components/YearsSlider.js","components/RatingSlider.js","components/FilterCheck.js","components/Results.js","components/CarDetails.js","components/OrderSummery.js","photos/message-photo.jpg","components/MessageDetails.js","components/Messages.js","components/Notifications.js","components/OrderDetails.js","components/MyOrders.js","components/Avatar.js","photos/logo-black.png","components/FavoriteDetails.js","components/MyFavorite.js","components/CarDetailsFromFavorite.js","photos/top-owner-car.jpeg","photos/city1.jpeg","photos/city2.jpeg","photos/city3.jpeg","photos/city4.jpeg","photos/city5.jpeg","components/Tops.js","components/TopCars.js","components/ResetPassword.js","App.js","reducers/index.js","reducers/auth.js","reducers/availableCars.js","index.js"],"names":["module","exports","carsReducer","state","action","type","payload","allCarsApiReducer","allModelsApiReducer","yearFilterReducer","priceFilterReducer","ratingFilterReducer","filteredCarsReducer","initialSearchReducer","onLoginReducer","promptOrNormalReducer","rentalDetailsReducer","notificationsReducer","notFoundMessageReducer","notificationCounterReducer","photosArrayReducer","showLoginReducer","carToRentalReducer","allCitiesApiReducer","spinnerReducer","setAllCarsApi","dataApi","setAuth","userDetails","setAvailableCars","availableCars","setFilterYears","arr","setFilterPrice","setFilteredCars","setInitialSearch","obj","setOnLoginPage","bool","setRentalDetails","str","setNotifications","messages","setNotFoundMessage","setNotificationCounter","number","setPhotosArray","setShowLogin","setCarToRental","setAuthLicense","setSpinner","SearchBar","dispatch","useDispatch","allCitiesApi","useSelector","initialSearch","notFoundMessage","useState","resultsPage","setResultsPage","startDate","setStartDate","endDate","setEndDate","focusedInput","setFocusedInput","cityRef","useRef","passengersRef","useEffect","setTimeout","search","a","city","current","value","passengers","Number","slice","window","location","href","moment","searchParameters","data","console","log","axios","post","length","response","message","focusInput","e","target","className","childNodes","focus","localName","parentElement","onClick","htmlFor","name","list","ref","defaultValue","undefined","placeholder","id","map","i","startDatePlaceholderText","startDateId","endDatePlaceholderText","endDateId","onDatesChange","onFocusChange","small","Snackbar","anchorOrigin","vertical","horizontal","open","push","to","TopCarousel","src","toyota","ford","tesla","peugeot","mazda","bmw","Home","get","then","temp","result","records","forEach","trim","height","photo","exact","topCar","topOwner","topLocation","Register","passwordRef","passwordValidationRef","auth","addNewUser","form","preventDefault","alert","formData","FormData","user","entries","key","password","newUser","onSubmit","required","MyCar","iconsKey","keys","carId","setMyCarsData","isOpen","setIsOpen","inputRef","updateItem","includes","arrToUpdateUser","axiosRequestToUpdate","updateStates","user_email","cars","autoFocus","some","el","MyCars","myCarData","setIndexPage","indexPage","nextPage","myCarsData","carDetails","setCarDetails","Object","Date","toDateString","prev","car_id","OverviewDetail","firstName","split","lastName","arrToUpdateAuth","email","replace","Overview","setUserDetails","last_name","Profile","brand","year","fuel","price_per_day","gear","available_from","available_until","model","discount_for_week","discount_for_month","first_name","address","phone_number","displayOverview","setDisplayOverview","catch","error","rating","toFixed","number_of_votes","NotFound","Rental","images","setImages","imageToBinary","filesList","Array","from","files","file","reader","FileReader","onloadend","readAsDataURL","for","onChange","multiple","alt","AddNewCar","allCarsApi","allModelsApi","photosArray","spinner","yearsArr","setYearsArr","percentage","setPercentage","redirect","setRedirect","gearType","setGearType","gasType","setGasType","apiCars","seatsOptions","brandRef","modelRef","yearRef","pricePerDayRef","discountPerWeekRef","discountPerMonthRef","Results","err","parseInt","getFullYear","j","onBrandChangeHandler","car","MakeName","toLowerCase","uploadCar","newCar","ownerEmail","until","pricePerDay","discountPerWeek","discountPerMonth","savedCar","status","Model_Name","defaultChecked","seat","percent","Login","forgotPassword","setForgotPassword","snack","setSnack","userNameRef","forgotEmailRef","onLoginHandler","responseSuccessGoogle","tokenId","responseFacebook","accessToken","userId","userID","onForgotHandler","put","userEmail","clientId","render","renderProps","disabled","buttonText","onSuccess","onFailure","cookiePolicy","appId","cssClass","icon","textButton","autoLoad","fields","callback","PromptLogin","rightPanelActive","setRightPanelActive","CarGallery","index","setIndex","Result","resultId","filteredCars","heartButton","setHeartButton","photosData","saveToFavorite","defaultPhoto","seatPassenger","owner_rating","useStyles","makeStyles","root","width","valuetext","RangeSlider","classes","maxPrice","setMaxPrice","tempPrice","setTempPrice","maxPriceFromDB","Math","max","Slider","event","newValue","onChangeCommitted","valueLabelDisplay","getAriaValueText","yearsFilter","maxYear","setMaxYear","minYear","setMinYear","tempYears","setTempYears","maxYearFromDB","minYearFromDB","min","theme","margin","spacing","marks","label","RatingSlider","ratingFilter","tempRating","setTempRating","filterCarByOwnerRate","step","FilterCheck","priceFilter","brandFilterArr","setBrandFilterArr","modelFilterArr","setModelFilterArr","selectedBrandFilterArr","setSelectedBrandFilterArr","selectedModelFilterArr","setSelectedModelFilterArr","selectedGearFilterArr","setSelectedGearFilterArr","selectedFuelFilterArr","setSelectedFuelFilterArr","tempBrands","tempModels","tempResults","filter","options","isMulti","orderBy","setOrderBy","sortBy","parameter","order","sort","b","innerText","class","CarDetails","useParams","showMessage","setShowMessage","isTakenMessage","setIsTakenMessage","image","setImage","cvc","expiry","setData","handleInputChange","getNumberOfRentalDays","round","calculateDiscount","discountAboveWeek","discountAboveMonth","numberOfDaysToRent","price","days","makeOrder","owner_email","renterEmail","totalPrice","license","rentalDetails","rental","resetAvailableCars","style","float","textAlign","maxLength","OrderSummery","carToRental","MessageDetails","messageId","notifications","statusButton","setStatusButton","setValue","listenToUnread","setListenToUnread","transaction_id","title","is_active","updateUnRead","patch","count","read","updateRentalStatus","transactionId","updateRating","String","uniqueRental","prevRating","prevNumberOfVotes","newNumberOfVotes","arrToUpdate","updateUser","messagePhoto","updatedAt","visibility","Typography","component","Rating","size","content","Messages","setVisibility","updateRead","createdAt","message_from","Notifications","OrderDetails","isActive","MyOrders","allOrders","setAllOrders","orderOrRental","Avatar","setAnchorEl","anchorEl","Boolean","handleClose","logoutHandler","Button","currentTarget","Menu","keepMounted","onClose","TransitionComponent","Fade","disableScrollLock","MenuItem","FavoriteDetails","dates","setDates","checkDatesValue","newStart","newEnd","pathname","MyFavorite","myFavorite","setMyFavorite","favorite","useLocation","Tops","top","setTop","city1","city2","city3","city4","city5","photoOfCitiesArr","setPhotoOfCitiesArr","randomSentenceForUsersArr","setRandomSentenceForUsersArr","rand","floor","random","rel","description","substring","toUpperCase","owner","photoOwnerCar","CarsBySelection","ownerCars","setOwnerCars","ResetPassword","newPasswordRef","confirmNewPasswordRef","resetCodeRef","sneck","setSneck","resetPasswordHandler","resetCode","newPassword","require","App","notificationCounter","showLogin","needToLogin","setNeedToLogin","activeStyle","color","Badge","badgeContent","path","CarDetailsFromFavorite","allReducers","combineReducers","allCars","isLoginPage","promptOrNormal","rootReducer","localStorage","removeItem","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","storage","persistedReducer","persistReducer","store","createStore","applyMiddleware","thunk","persistor","persistStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0b8f6276.chunk.js","sourcesContent":["const carsReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"ALLCARS\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { carsReducer };\r\n","const allCarsApiReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"ALLCARSAPI\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { allCarsApiReducer };\r\n","const allModelsApiReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"ALLMODELSAPI\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { allModelsApiReducer };\r\n","const yearFilterReducer = (state = [1990, 2010], action) => {\r\n  switch (action.type) {\r\n    case \"SETYEARS\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { yearFilterReducer };\r\n","const priceFilterReducer = (state = [10, 65], action) => {\r\n  switch (action.type) {\r\n    case \"SETPRICE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { priceFilterReducer };\r\n","const ratingFilterReducer = (state = 0, action) => {\r\n  switch (action.type) {\r\n    case \"SETFILTERRATE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { ratingFilterReducer };\r\n","const filteredCarsReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SETFILTEREDCARS\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { filteredCarsReducer };\r\n","const initialSearchReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SETINITIALSEARCH\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { initialSearchReducer };\r\n","const onLoginReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"LOGINPAGE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { onLoginReducer };\r\n","const promptOrNormalReducer = (state = \"normal\", action) => {\r\n  switch (action.type) {\r\n    case \"SETPROMPTORNORMAL\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { promptOrNormalReducer };\r\n","const rentalDetailsReducer = (state = 0, action) => {\r\n  switch (action.type) {\r\n    case \"SETRENTALDETAILS\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { rentalDetailsReducer };\r\n","const notificationsReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SETNOTIFICATIONS\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { notificationsReducer };\r\n","const notFoundMessageReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"SETNOTFOUNDMESSAGE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { notFoundMessageReducer };\r\n","const notificationCounterReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"SETNOTIFICATIONCOUNTER\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { notificationCounterReducer };\r\n","const photosArrayReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SETPHOTOSARRAY\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { photosArrayReducer };\r\n","const showLoginReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"SETSHOWLOGIN\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { showLoginReducer };\r\n","const carToRentalReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case \"SETCARTORENTAL\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { carToRentalReducer };\r\n","const allCitiesApiReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SETALLCITIESAPI\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { allCitiesApiReducer };\r\n","const spinnerReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"SETSPINNER\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nmodule.exports = { spinnerReducer };\r\n","// ACTION INCREMENT\r\nexport const setCars = (carsObj) => {\r\n  return {\r\n    type: \"ALLCARS\",\r\n    payload: carsObj,\r\n  };\r\n};\r\nexport const setAllCarsApi = (dataApi) => {\r\n  return {\r\n    type: \"ALLCARSAPI\",\r\n    payload: dataApi,\r\n  };\r\n};\r\nexport const setAllModelsApi = (dataApi) => {\r\n  return {\r\n    type: \"ALLMODELSAPI\",\r\n    payload: dataApi,\r\n  };\r\n};\r\n\r\nexport const setAuth = (userDetails) => {\r\n  return {\r\n    type: \"SIGN-IN\",\r\n    payload: userDetails,\r\n  };\r\n};\r\n\r\nexport const setAuthOut = () => {\r\n  return {\r\n    type: \"LOG-OUT\",\r\n    payload: false,\r\n  };\r\n};\r\n\r\nexport const setAvailableCars = (availableCars) => {\r\n  return {\r\n    type: \"SETAVAILABLE\",\r\n    payload: availableCars,\r\n  };\r\n};\r\n\r\nexport const setFilterYears = (arr) => {\r\n  return {\r\n    type: \"SETYEARS\",\r\n    payload: arr,\r\n  };\r\n};\r\n\r\nexport const setFilterPrice = (arr) => {\r\n  return {\r\n    type: \"SETPRICE\",\r\n    payload: arr,\r\n  };\r\n};\r\n\r\nexport const setFilterRate = (arr) => {\r\n  return {\r\n    type: \"SETFILTERRATE\",\r\n    payload: arr,\r\n  };\r\n};\r\n\r\nexport const setFilteredCars = (arr) => {\r\n  return {\r\n    type: \"SETFILTEREDCARS\",\r\n    payload: arr,\r\n  };\r\n};\r\nexport const setInitialSearch = (obj) => {\r\n  return {\r\n    type: \"SETINITIALSEARCH\",\r\n    payload: obj,\r\n  };\r\n};\r\nexport const setOnLoginPage = (bool) => {\r\n  return {\r\n    type: \"LOGINPAGE\",\r\n    payload: bool,\r\n  };\r\n};\r\n\r\nexport const setPromptOrNormal = (str) => {\r\n  return {\r\n    type: \"SETPROMPTORNORMAL\",\r\n    payload: str,\r\n  };\r\n};\r\n\r\nexport const setRentalDetails = (str) => {\r\n  return {\r\n    type: \"SETRENTALDETAILS\",\r\n    payload: str,\r\n  };\r\n};\r\n\r\nexport const setNotifications = (messages) => {\r\n  return {\r\n    type: \"SETNOTIFICATIONS\",\r\n    payload: messages,\r\n  };\r\n};\r\n\r\nexport const setNotFoundMessage = (messages) => {\r\n  return {\r\n    type: \"SETNOTFOUNDMESSAGE\",\r\n    payload: messages,\r\n  };\r\n};\r\n\r\nexport const setNotificationCounter = (number) => {\r\n  return {\r\n    type: \"SETNOTIFICATIONCOUNTER\",\r\n    payload: number,\r\n  };\r\n};\r\n\r\nexport const setPhotosArray = (arr) => {\r\n  return {\r\n    type: \"SETPHOTOSARRAY\",\r\n    payload: arr,\r\n  };\r\n};\r\n\r\nexport const setShowLogin = (bool) => {\r\n  return {\r\n    type: \"SETSHOWLOGIN\",\r\n    payload: bool,\r\n  };\r\n};\r\nexport const setCarToRental = (obj) => {\r\n  return {\r\n    type: \"SETCARTORENTAL\",\r\n    payload: obj,\r\n  };\r\n};\r\nexport const setAllCitiesApi = (obj) => {\r\n  return {\r\n    type: \"SETALLCITIESAPI\",\r\n    payload: obj,\r\n  };\r\n};\r\nexport const setAuthLicense = (str) => {\r\n  return {\r\n    type: \"SETAUTHLICENSE\",\r\n    payload: str,\r\n  };\r\n};\r\nexport const setSpinner = (bool) => {\r\n  return {\r\n    type: \"SETSPINNER\",\r\n    payload: bool,\r\n  };\r\n};\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport {\r\n  setFilteredCars,\r\n  setAvailableCars,\r\n  setInitialSearch,\r\n  setNotFoundMessage,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport moment from \"moment\";\r\n\r\nimport \"react-dates/initialize\";\r\nimport { DateRangePicker } from \"react-dates\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport \"../react_dates_overrides.css\";\r\n\r\nexport default function SearchBar() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const allCitiesApi = useSelector((state) => state.allCitiesApi);\r\n  const initialSearch = useSelector((state) => state.initialSearch);\r\n  const notFoundMessage = useSelector((state) => state.notFoundMessage);\r\n\r\n  // Use states\r\n  const [resultsPage, setResultsPage] = useState(false);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [focusedInput, setFocusedInput] = useState(null);\r\n\r\n  // UseRefs\r\n  const cityRef = useRef(\"\");\r\n  const passengersRef = useRef();\r\n\r\n  useEffect(() => {\r\n    if (notFoundMessage) {\r\n      setTimeout(() => {\r\n        dispatch(setNotFoundMessage(false));\r\n      }, 4500);\r\n    }\r\n  }, [notFoundMessage]);\r\n\r\n  const search = async () => {\r\n    dispatch(setSpinner(true));\r\n    const city = cityRef.current.value;\r\n    const passengers = Number(passengersRef.current.value.slice(0, -1));\r\n\r\n    if (window.location.href !== \"http://localhost:3000/\") {\r\n      setStartDate(moment(initialSearch.startDate));\r\n      setEndDate(moment(initialSearch.endDate));\r\n    } else {\r\n      if (!passengers || !startDate || !endDate) {\r\n        dispatch(setSpinner(false));\r\n        dispatch(setNotFoundMessage(\"You must fill all inputs\"));\r\n        return;\r\n      }\r\n    }\r\n\r\n    const searchParameters = {\r\n      data: {\r\n        city,\r\n        startDate: initialSearch.startDate,\r\n        endDate: initialSearch.endDate,\r\n        passengers,\r\n      },\r\n    };\r\n    console.log(searchParameters);\r\n    try {\r\n      const { data: availableCars } = await axios.post(\r\n        \"/api/v1/search/initial\",\r\n        searchParameters\r\n      );\r\n\r\n      dispatch(setAvailableCars(availableCars.data));\r\n      dispatch(setFilteredCars(availableCars.data));\r\n      if (availableCars.data.length !== 0) {\r\n        dispatch(setInitialSearch(searchParameters.data));\r\n        setResultsPage(true);\r\n        dispatch(setSpinner(false));\r\n      }\r\n    } catch (err) {\r\n      dispatch(setSpinner(false));\r\n      dispatch(setNotFoundMessage(err.response.data.message));\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // Focus on input\r\n  const focusInput = (e) => {\r\n    if (e.target.className === \"search-inputs\") {\r\n      e.target.childNodes[0].childNodes[1].focus();\r\n    }\r\n    if (e.target.localName === \"label\") {\r\n      e.target.childNodes[1].focus();\r\n    }\r\n    if (e.target.className === \"label\") {\r\n      e.target.parentElement.childNodes[1].focus();\r\n    }\r\n  };\r\n\r\n  // Handle dates on changes\r\n  const handleDatesChange = ({ startDate, endDate }) => {\r\n    setStartDate(startDate);\r\n    setEndDate(endDate);\r\n    initialSearch.startDate = moment(startDate);\r\n    initialSearch.endDate = moment(endDate);\r\n  };\r\n\r\n  return (\r\n    <div className=\"top-navigation\">\r\n      <nav className=\"search-nav\">\r\n        <div className=\"search\">\r\n          <div className=\"inputs\">\r\n            <div className=\"search-inputs\" onClick={focusInput}>\r\n              <label htmlFor=\"cities\">\r\n                <div className=\"label\">City:</div>\r\n                <input\r\n                  name=\"cities\"\r\n                  list=\"cities\"\r\n                  ref={cityRef}\r\n                  defaultValue={\r\n                    window.location.href !== \"http://localhost:3000/results\"\r\n                      ? undefined\r\n                      : initialSearch?.city\r\n                  }\r\n                  placeholder=\"Wanted City\"\r\n                ></input>\r\n                <datalist id=\"cities\">\r\n                  {allCitiesApi?.map((city, i) => (\r\n                    <option key={`city-${i}`} value={city} />\r\n                  ))}\r\n                </datalist>\r\n              </label>\r\n            </div>\r\n            <div className=\"separator\"></div>\r\n            <div className=\"search-inputs\">\r\n              <div className=\"label\">Choose Dates:</div>\r\n              <DateRangePicker\r\n                startDate={\r\n                  window.location.href !== \"http://localhost:3000/results\"\r\n                    ? startDate\r\n                    : moment(initialSearch?.startDate)\r\n                }\r\n                startDatePlaceholderText=\"Start date:\"\r\n                startDateId=\"tata-start-date\"\r\n                endDate={\r\n                  window.location.href !== \"http://localhost:3000/results\"\r\n                    ? endDate\r\n                    : moment(initialSearch?.endDate)\r\n                }\r\n                endDatePlaceholderText=\"End date:\"\r\n                endDateId=\"tata-end-date\"\r\n                onDatesChange={handleDatesChange}\r\n                focusedInput={focusedInput}\r\n                onFocusChange={(focusedInput) => setFocusedInput(focusedInput)}\r\n                small={true}\r\n              />\r\n            </div>\r\n            <div className=\"separator\"></div>\r\n            <div className=\"search-inputs\" onClick={focusInput}>\r\n              <label htmlFor=\"passengers\">\r\n                <div className=\"label\">What size of car you need?</div>\r\n                <input\r\n                  name=\"passengers\"\r\n                  list=\"passengers\"\r\n                  ref={passengersRef}\r\n                  defaultValue={\r\n                    window.location.href !== \"http://localhost:3000/results\"\r\n                      ? undefined\r\n                      : initialSearch?.passengers + \"+\"\r\n                  }\r\n                  placeholder=\"Size\"\r\n                ></input>\r\n                <datalist id=\"passengers\">\r\n                  <option value=\"2+\" />\r\n                  <option value=\"4+\" />\r\n                  <option value=\"5+\" />\r\n                  <option value=\"7+\" />\r\n                </datalist>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className=\"search-button\">\r\n            <button className=\"search-btn\" onClick={search}>\r\n              <SearchIcon />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </nav>{\" \"}\r\n      {notFoundMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={notFoundMessage}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      {resultsPage && <Redirect push={true} to={\"/results\"} />}\r\n    </div>\r\n\r\n    // </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/background-4593643_1920.f7b44022.jpg\";","export default __webpack_public_path__ + \"static/media/top-car.219c240b.jpeg\";","export default __webpack_public_path__ + \"static/media/top-owner.9f22d43d.jpeg\";","export default __webpack_public_path__ + \"static/media/top-location.38593913.jpeg\";","export default __webpack_public_path__ + \"static/media/toyota-logo.89418194.jpg\";","export default __webpack_public_path__ + \"static/media/mazda-logo.8da475f6.jpg\";","export default __webpack_public_path__ + \"static/media/ford-logo.5ece7ffe.jpg\";","export default __webpack_public_path__ + \"static/media/tesla-logo.73c29e2d.jpg\";","export default __webpack_public_path__ + \"static/media/peugeot-logo.f8c9c4ff.jpg\";","export default __webpack_public_path__ + \"static/media/bmw-logo.f09bec57.jpg\";","import React from \"react\";\r\nimport toyota from \"../photos/toyota-logo.jpg\";\r\nimport mazda from \"../photos/mazda-logo.jpg\";\r\nimport ford from \"../photos/ford-logo.jpg\";\r\nimport tesla from \"../photos/tesla-logo.jpg\";\r\nimport peugeot from \"../photos/peugeot-logo.jpg\";\r\nimport bmw from \"../photos/bmw-logo.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function TopCarousel() {\r\n  return (\r\n    <div className=\"top-pick-carousel\">\r\n      <h2>Popular Brands</h2>\r\n      <div className=\"carousel-wrapper\">\r\n        <span id=\"item-1\"></span>\r\n        <span id=\"item-2\"></span>\r\n        <span id=\"item-3\"></span>\r\n        <span id=\"item-4\"></span>\r\n        <span id=\"item-5\"></span>\r\n        <span id=\"item-6\"></span>\r\n        <div className=\"carousel-item item-1\">\r\n          <Link push={true} to=\"/top/car/TOYOTA\">\r\n            <div className=\"items-data\">\r\n              <img src={toyota} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-6\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-2\"></a>\r\n        </div>\r\n\r\n        <div className=\"carousel-item item-2\">\r\n          <Link push={true} to=\"/top/car/FORD\">\r\n            <div className=\"items-data\">\r\n              <img src={ford} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-1\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-3\"></a>\r\n        </div>\r\n\r\n        <div className=\"carousel-item item-3\">\r\n          <Link push={true} to=\"/top/car/TESLA\">\r\n            <div className=\"items-data\">\r\n              <img src={tesla} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-2\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-4\"></a>\r\n        </div>\r\n        <div className=\"carousel-item item-4\">\r\n          <Link push={true} to=\"/top/car/PEUGEOT\">\r\n            <div className=\"items-data\">\r\n              <img src={peugeot} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-3\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-5\"></a>\r\n        </div>\r\n        <div className=\"carousel-item item-5\">\r\n          <Link push={true} to=\"/top/car/MAZDA\">\r\n            <div className=\"items-data\">\r\n              <img src={mazda} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-4\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-6\"></a>\r\n        </div>\r\n        <div className=\"carousel-item item-6\">\r\n          <Link push={true} to=\"/top/car/BMW\">\r\n            <div className=\"items-data\">\r\n              <img src={bmw} className=\"top-picks-img\" />\r\n            </div>\r\n          </Link>\r\n          <a className=\"arrow arrow-prev\" href=\"#item-5\"></a>\r\n          <a className=\"arrow arrow-next\" href=\"#item-1\"></a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport { setAllCitiesApi, setSpinner } from \"../actions\";\r\nimport photo from \"../photos/background-4593643_1920.jpg\";\r\nimport topCar from \"../photos/top-car.jpeg\";\r\nimport topOwner from \"../photos/top-owner.jpeg\";\r\nimport topLocation from \"../photos/top-location.jpeg\";\r\nimport TopCarousel from \"./TopCarousel\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    axios\r\n      .get(\r\n        \"https://data.gov.il/api/3/action/datastore_search?resource_id=5c78e9fa-c2e2-4771-93ff-7f400a12f7ba&limit=1271\"\r\n      )\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n        const temp = [];\r\n        data.result.records?.forEach((city) => {\r\n          if (city[\"שם_ישוב_לועזי\"] !== \" \") {\r\n            temp.push(city[\"שם_ישוב_לועזי\"].trim());\r\n          }\r\n        });\r\n        dispatch(setAllCitiesApi(temp));\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home-page-container\">\r\n      <section className=\"land-section\">\r\n        <img className=\"intro-img\" height=\"50%\" src={photo}></img>\r\n        <h1>\r\n          We invite you to start your journey with us, and with many other\r\n          drivers\r\n        </h1>\r\n        <span>\r\n          <a href=\"#search\">Let's Start</a>\r\n        </span>\r\n      </section>\r\n\r\n      <section className=\"search-section\" id=\"search\">\r\n        <SearchBar />\r\n      </section>\r\n      <section className=\"top-pick-section\">\r\n        <h2>Choose the best</h2>\r\n        <div className=\"top-picks-container\">\r\n          <div className=\"top-pick\">\r\n            <Link exact={\"true\"} to=\"/top/cars\">\r\n              <img src={topCar} className=\"top-car-img\" />\r\n              <h4>TOP CARS</h4>\r\n              <p>Extraordinary driving experience. </p>\r\n            </Link>\r\n          </div>\r\n          <div className=\"top-pick\">\r\n            <Link exact={\"true\"} to=\"/top/owners\">\r\n              <img src={topOwner} />\r\n              <h4>TOP OWNERS</h4>\r\n              <p>Lovely owner for the best travel. </p>\r\n            </Link>\r\n          </div>\r\n          <div className=\"top-pick\">\r\n            <Link exact={\"true\"} to=\"/top/locations\">\r\n              <img src={topLocation} />\r\n              <h4>TOP LOCATIONS</h4>\r\n              <p>Peacefully moment in paradise. </p>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <TopCarousel />\r\n      <section className=\"footer-section\">\r\n        <hr />\r\n        <div className=\"upper-footer\">\r\n          <div className=\"support\">\r\n            <h4>Support</h4>\r\n            <ul>\r\n              <li>Contact us</li>\r\n              <li>Cancellation Policy</li>\r\n            </ul>\r\n          </div>\r\n          <div className=\"information\">\r\n            <h4>Info</h4>\r\n            <ul>\r\n              <li>How we started</li>\r\n              <li>Service declaration</li>\r\n              <li>About the Founders</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <hr height=\"100px\" />\r\n        <footer className=\"footer\">\r\n          <div>\r\n            <i className=\"fab fa-github\"></i>\r\n          </div>\r\n          <div>\r\n            <i className=\"fab fa-facebook-f\"></i>\r\n          </div>\r\n          <div>\r\n            <i className=\"far fa-envelope\"></i>\r\n          </div>\r\n          <div>\r\n            <i className=\"fab fa-linkedin\"></i>\r\n          </div>\r\n          <p className=\"instagram\">\r\n            {\" \"}\r\n            <i className=\"fab fa-instagram\"></i>\r\n          </p>\r\n          <div className=\"copyright\">© 2021 J.E.E</div>\r\n        </footer>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setShowLogin, setSpinner } from \"../actions\";\r\n\r\nexport default function Register() {\r\n  const dispatch = useDispatch();\r\n\r\n  // UseRefs\r\n  const passwordRef = useRef();\r\n  const passwordValidationRef = useRef();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use Effect\r\n  useEffect(() => {\r\n    if (auth) dispatch(setShowLogin(false));\r\n  }, [auth]);\r\n\r\n  // Function to save new user to database\r\n  const addNewUser = async (e) => {\r\n    const form = e.target;\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== passwordValidationRef.current.value) {\r\n      alert(\"Passwords doesn't match\");\r\n    }\r\n    try {\r\n      dispatch(setSpinner(true));\r\n      const formData = new FormData(form);\r\n      const user = {};\r\n      for (let [key, value] of formData.entries()) {\r\n        user[key] = value;\r\n        console.log([key, value]);\r\n      }\r\n      user.password = passwordRef.current.value;\r\n      await axios.post(\"/api/v1/users/register\", { newUser: user });\r\n      console.log(\"User Saved!\");\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container sign-up-container\">\r\n      <div\r\n        className=\"x register\"\r\n        onClick={() => {\r\n          dispatch(setShowLogin(false));\r\n        }}\r\n      >\r\n        ✖\r\n      </div>\r\n      <form id=\"register\" onSubmit={addNewUser}>\r\n        <h1 className=\"login-form-title\">Create Account</h1>\r\n        <input\r\n          className=\"login-form-input\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"* Email\"\r\n          required\r\n        ></input>\r\n        <input\r\n          className=\"login-form-input\"\r\n          name=\"firstName\"\r\n          type=\"text\"\r\n          placeholder=\"* Enter first name\"\r\n          required\r\n        ></input>\r\n        <input\r\n          className=\"login-form-input\"\r\n          name=\"lastName\"\r\n          type=\"text\"\r\n          placeholder=\"* Enter last name\"\r\n          required\r\n        ></input>\r\n        <input\r\n          className=\"login-form-input\"\r\n          name=\"phoneNumber\"\r\n          type=\"phone\"\r\n          placeholder=\"Enter your phone\"\r\n        ></input>\r\n        <input\r\n          className=\"login-form-input\"\r\n          name=\"address\"\r\n          type=\"text\"\r\n          placeholder=\"Enter address\"\r\n        ></input>\r\n        <div className=\"password-and-validation\">\r\n          <input\r\n            className=\"login-form-password\"\r\n            type=\"password\"\r\n            ref={passwordRef}\r\n            placeholder=\"* Password\"\r\n            required\r\n          />\r\n          <input\r\n            className=\"login-form-validation\"\r\n            type=\"password\"\r\n            ref={passwordValidationRef}\r\n            placeholder=\"*Re enter Password\"\r\n            required\r\n          />\r\n        </div>\r\n        <span className=\"login-form-span\">Fields with * are required</span>\r\n        <button className=\"login-form-button\" type=\"submit\">\r\n          Sign Up\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport CreateOutlinedIcon from \"@material-ui/icons/CreateOutlined\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { setSpinner } from \"../actions\";\r\n\r\nexport default function MyCar({ iconsKey, keys, value, carId, setMyCarsData }) {\r\n  const includesCondition = [\"available\", \"discount\", \"price\"];\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use states\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  // Use ref\r\n  const inputRef = useRef();\r\n\r\n  // Function for update user details\r\n  const updateItem = async (keys, value) => {\r\n    value = value.trim();\r\n    if (keys.includes(\"discount\")) {\r\n      if (!value.includes(\"%\")) {\r\n        alert(\"must be % sign\");\r\n        return;\r\n      }\r\n    }\r\n    let arrToUpdateUser = [\"Car\", [keys], carId, [value]];\r\n    try {\r\n      dispatch(setSpinner(true));\r\n      await axiosRequestToUpdate(arrToUpdateUser);\r\n      await updateStates();\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  ///////////////// ⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇ need to display the new details after update⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇⬇ //////////////\r\n  const updateStates = async () => {\r\n    dispatch(setSpinner(true));\r\n    try {\r\n      const { data: cars } = await axios.post(\"/api/v1/search/getitem\", {\r\n        data: [\"Car\", [\"owner_email\"], [auth.user_email]],\r\n      });\r\n      setMyCarsData(cars.data);\r\n      setIsOpen(false);\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  // Axios request\r\n  const axiosRequestToUpdate = async (arr) => {\r\n    dispatch(setSpinner(true));\r\n    try {\r\n      await axios.post(\"/api/v1/users/updateitems\", {\r\n        data: arr,\r\n      });\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!isOpen ? (\r\n        <li>\r\n          <div className=\"data-and-icon\">\r\n            <span>{iconsKey[keys]}</span>\r\n            <span> {value}</span>\r\n          </div>\r\n          <span className=\"pencil-profile\">\r\n            {includesCondition.some((el) => keys.includes(el)) && (\r\n              <CreateOutlinedIcon onClick={() => setIsOpen(true)} />\r\n            )}\r\n          </span>\r\n        </li>\r\n      ) : (\r\n        <li>\r\n          <div className=\"data-and-icon\">\r\n            <span>{iconsKey[keys]}</span>\r\n            <input ref={inputRef} autoFocus={true} defaultValue={value}></input>\r\n          </div>{\" \"}\r\n          <span className=\"pencil-profile\">\r\n            <i\r\n              className=\"fas fa-check\"\r\n              onClick={() => updateItem(keys, inputRef.current.value)}\r\n            ></i>\r\n            <i\r\n              className=\"fas fa-times\"\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n              }}\r\n            ></i>\r\n          </span>{\" \"}\r\n        </li>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport MyCar from \"./MyCar\";\r\n\r\nexport default function MyCars({\r\n  myCarData,\r\n  iconsKey,\r\n  setIndexPage,\r\n  indexPage,\r\n  nextPage,\r\n  setMyCarsData,\r\n  myCarsData,\r\n}) {\r\n  // Use states\r\n  const [carDetails, setCarDetails] = useState([]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      setIndexPage(0);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (myCarData) {\r\n      const temp = Object.entries(myCarData);\r\n      temp.map(([key, value]) => {\r\n        if (\r\n          key !== \"car_id\" &&\r\n          key !== \"owner_email\" &&\r\n          key !== \"updatedAt\" &&\r\n          key !== \"createdAt\" &&\r\n          key !== \"is_rented\"\r\n        ) {\r\n          if (key === \"available_from\" || key === \"available_until\") {\r\n            value = new Date(value).toDateString();\r\n          }\r\n          setCarDetails((prev) => [...prev, [key, value]]);\r\n        }\r\n      });\r\n    }\r\n    return () => {\r\n      setCarDetails([]);\r\n    };\r\n  }, [indexPage, myCarsData]);\r\n\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {carDetails.map(([key, value], i) => (\r\n          <MyCar\r\n            key={`key-${i}`}\r\n            keys={key}\r\n            value={value}\r\n            iconsKey={iconsKey}\r\n            carId={myCarData?.car_id}\r\n            setMyCarsData={setMyCarsData}\r\n            myCarsData={myCarsData}\r\n          />\r\n        ))}\r\n      </ul>\r\n      <span onClick={nextPage}>\r\n        <i className=\"fas fa-arrow-right\"></i>\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport CreateOutlinedIcon from \"@material-ui/icons/CreateOutlined\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { setAuth, setSpinner } from \"../actions\";\r\n\r\nexport default function OverviewDetail({ iconsKey, keys, value }) {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n  const allCitiesApi = useSelector((state) => state.allCitiesApi);\r\n\r\n  // Use states\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  // Use ref\r\n  const inputRef = useRef();\r\n\r\n  // Function for update user details\r\n  const updateItem = async (keys, value) => {\r\n    let arrToUpdateUser = [];\r\n    let arrToUpdateAuth = [];\r\n    let firstName = \"\";\r\n    let lastName = \"\";\r\n\r\n    if (keys === \"first_name\") {\r\n      value = value.trim();\r\n      firstName = value.split(\" \")[0];\r\n      lastName = value.split(\" \")[1];\r\n      arrToUpdateAuth = [\r\n        \"Auth\",\r\n        [\"full_name\"],\r\n        auth.user_email,\r\n        [`${firstName} ${lastName}`],\r\n      ];\r\n      arrToUpdateUser = [\r\n        \"User\",\r\n        [\"first_name\", \"last_name\"],\r\n        auth.user_email,\r\n        [firstName, lastName],\r\n      ];\r\n      try {\r\n        dispatch(setSpinner(true));\r\n        await axiosRequestToUpdate(arrToUpdateAuth);\r\n        await axiosRequestToUpdate(arrToUpdateUser);\r\n        await updateStates();\r\n        dispatch(setSpinner(false));\r\n      } catch (error) {\r\n        console.log(error);\r\n        dispatch(setSpinner(false));\r\n      }\r\n    } else {\r\n      arrToUpdateUser = [\"User\", [keys], auth.user_email, [value]];\r\n      try {\r\n        dispatch(setSpinner(true));\r\n\r\n        await axiosRequestToUpdate(arrToUpdateUser);\r\n        await updateStates();\r\n        dispatch(setSpinner(false));\r\n      } catch (error) {\r\n        console.log(error);\r\n        dispatch(setSpinner(false));\r\n      }\r\n    }\r\n  };\r\n\r\n  // Get new details of the user\r\n  const updateStates = async () => {\r\n    try {\r\n      // Get new details of the user\r\n      const { data } = await axios.post(\"/api/v1/users/uniqueuser\", {\r\n        email: auth.user_email,\r\n      });\r\n      dispatch(setAuth(data.data));\r\n      setIsOpen(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  // Axios request\r\n  const axiosRequestToUpdate = async (arr) => {\r\n    try {\r\n      await axios.post(\"/api/v1/users/updateitems\", {\r\n        data: arr,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!isOpen ? (\r\n        auth[keys] ? (\r\n          <li className=\"overview-detail\">\r\n            <div className=\"data-and-icon\">\r\n              <span>{iconsKey[keys]}</span>\r\n              <span> {value}</span>\r\n            </div>\r\n            <span className=\"pencil-profile\">\r\n              {keys === \"user_email\" ? null : (\r\n                <>\r\n                  <CreateOutlinedIcon onClick={() => setIsOpen(true)} />\r\n                  <i\r\n                    className=\"far fa-trash-alt\"\r\n                    onClick={() => {\r\n                      updateItem(keys, null);\r\n                    }}\r\n                  ></i>\r\n                </>\r\n              )}\r\n            </span>\r\n          </li>\r\n        ) : (\r\n          <li className=\"add-new\" onClick={() => setIsOpen(true)}>\r\n            <div>\r\n              <i className=\"fas fa-plus-circle\"></i>{\" \"}\r\n            </div>{\" \"}\r\n            <span> Add {keys.replace(\"_\", \" \")} </span>\r\n          </li>\r\n        )\r\n      ) : (\r\n        <li className=\"overview-detail\">\r\n          <div className=\"data-and-icon\">\r\n            <span>{iconsKey[keys]}</span>\r\n            {keys !== \"address\" ? (\r\n              <input\r\n                ref={inputRef}\r\n                autoFocus={true}\r\n                defaultValue={value}\r\n              ></input>\r\n            ) : (\r\n              <>\r\n                {\" \"}\r\n                <input\r\n                  name=\"cities-profile\"\r\n                  list=\"cities-profile\"\r\n                  ref={inputRef}\r\n                  autoFocus={true}\r\n                  defaultValue={value}\r\n                ></input>\r\n                <datalist id=\"cities-profile\">\r\n                  {allCitiesApi?.map((city, i) => (\r\n                    <option key={`city-${i}`} value={city} />\r\n                  ))}\r\n                </datalist>{\" \"}\r\n              </>\r\n            )}\r\n          </div>{\" \"}\r\n          <span className=\"pencil-profile\">\r\n            <i\r\n              className=\"fas fa-check\"\r\n              onClick={() => updateItem(keys, inputRef.current.value)}\r\n            ></i>\r\n            <i\r\n              className=\"fas fa-times\"\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n              }}\r\n            ></i>\r\n          </span>{\" \"}\r\n        </li>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport OverviewDetail from \"./OverviewDetail\";\r\n\r\nexport default function Overview({ iconsKey }) {\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use states\r\n  const [userDetails, setUserDetails] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const temp = Object.entries(auth);\r\n    temp.map(([key, value]) => {\r\n      if (\r\n        key !== \"updatedAt\" &&\r\n        key !== \"createdAt\" &&\r\n        key !== \"license\" &&\r\n        key !== \"number_of_votes\" &&\r\n        key !== \"rating\" &&\r\n        key !== \"last_name\"\r\n      ) {\r\n        if (key === \"first_name\") {\r\n          value = value + \" \" + auth.last_name;\r\n        }\r\n        setUserDetails((prev) => [...prev, [key, value]]);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      setUserDetails([]);\r\n    };\r\n  }, [auth]);\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {userDetails &&\r\n          userDetails?.map(([key, value], i) => (\r\n            <OverviewDetail\r\n              key={`key-${i}`}\r\n              keys={key}\r\n              value={value}\r\n              iconsKey={iconsKey}\r\n            />\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport EventBusyIcon from \"@material-ui/icons/EventBusy\";\r\nimport MyCars from \"./MyCars\";\r\nimport AirlineSeatReclineNormalTwoToneIcon from \"@material-ui/icons/AirlineSeatReclineNormalTwoTone\";\r\nimport LabelOutlinedIcon from \"@material-ui/icons/LabelOutlined\";\r\nimport Overview from \"./Overview\";\r\nimport { setSpinner } from \"../actions\";\r\n\r\nexport default function Profile() {\r\n  const dispatch = useDispatch();\r\n\r\n  const iconsKey = {\r\n    brand: <i className=\"fas fa-car-side\"></i>,\r\n    year: <i className=\"far fa-calendar-alt\"></i>,\r\n    fuel: <i className=\"fas fa-gas-pump\"></i>,\r\n    price_per_day: <i className=\"fas fa-dollar-sign\"></i>,\r\n    gear: <i className=\"fas fa-cogs\"></i>,\r\n    available_from: <EventAvailableIcon />,\r\n    available_until: <EventBusyIcon />,\r\n    passengers: <AirlineSeatReclineNormalTwoToneIcon />,\r\n    model: <LabelOutlinedIcon />,\r\n    discount_for_week: <i className=\"fas fa-percent\"></i>,\r\n    discount_for_month: <i className=\"fas fa-percent\"></i>,\r\n    first_name: <i className=\"far fa-user\"></i>,\r\n    user_email: <i className=\"far fa-envelope\"></i>,\r\n    address: <i className=\"fas fa-map-marker-alt\"></i>,\r\n    phone_number: <i className=\"fas fa-phone-alt\"></i>,\r\n  };\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use states\r\n  const [myCarsData, setMyCarsData] = useState();\r\n  const [displayOverview, setDisplayOverview] = useState(true);\r\n  const [indexPage, setIndexPage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", {\r\n        data: [\"Car\", [\"owner_email\"], [auth.user_email]],\r\n      })\r\n      .then(({ data: cars }) => {\r\n        setMyCarsData(cars.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(setSpinner(false));\r\n        console.log(error);\r\n      });\r\n  }, []);\r\n\r\n  const nextPage = () => {\r\n    if (indexPage === myCarsData.length - 1) {\r\n      setIndexPage(0);\r\n    } else {\r\n      setIndexPage((prev) => (prev += 1));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-container\">\r\n      <div className=\"profile-inner-container\">\r\n        <h2>Welcome Back {auth.first_name}</h2>\r\n        <div className=\"details-container\">\r\n          <div className=\"profile-left\">\r\n            <ul>\r\n              <li\r\n                className=\"profile-nav\"\r\n                onClick={() => setDisplayOverview(true)}\r\n              >\r\n                Overview\r\n              </li>\r\n              <li\r\n                className=\"profile-nav\"\r\n                onClick={() => setDisplayOverview(false)}\r\n              >\r\n                My Cars\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <hr />\r\n          <div className=\"profile-right\">\r\n            {displayOverview ? (\r\n              <Overview iconsKey={iconsKey} />\r\n            ) : (\r\n              myCarsData && (\r\n                <MyCars\r\n                  myCarData={myCarsData[indexPage]}\r\n                  iconsKey={iconsKey}\r\n                  setIndexPage={setIndexPage}\r\n                  indexPage={indexPage}\r\n                  nextPage={nextPage}\r\n                  setMyCarsData={setMyCarsData}\r\n                  myCarsData={myCarsData}\r\n                />\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"rating-panel-profile\">\r\n          <span>\r\n            <i className=\"fas fa-star\"></i>\r\n            {auth.rating ? Number(auth.rating).toFixed(1) : 0} / 5\r\n          </span>\r\n          <span>|</span>\r\n          <span>\r\n            <i className=\"far fa-thumbs-up\"></i>\r\n            {auth.number_of_votes}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <div>\r\n      <h1>404 Page Not Found</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setPhotosArray } from \"../actions\";\r\n\r\nexport default function Rental({ id }) {\r\n  const [images, setImages] = useState([]);\r\n\r\n  // Use states\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(setPhotosArray(images));\r\n  }, [images]);\r\n\r\n  const imageToBinary = async (e) => {\r\n    const filesList = Array.from(e.target.files);\r\n\r\n    filesList?.forEach(async (file) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = async () => {\r\n        const data = await reader.result.split(\",\")[1];\r\n\r\n        setImages((prev) => [...prev, { file: data }]);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-div\">\r\n      <div>\r\n        <label for=\"upload-photo\" className=\"file-upload\">\r\n          <span className=\"upload-btn\">\r\n            <i className=\"fas fa-camera-retro\" id=\"pets-upload\" />\r\n          </span>\r\n          <span> Upload a photo</span>\r\n        </label>\r\n        <input\r\n          id=\"upload-photo\"\r\n          type=\"file\"\r\n          onChange={(e) => imageToBinary(e)}\r\n          multiple\r\n        ></input>\r\n      </div>\r\n      {images?.map((photo, i) => (\r\n        <img\r\n          alt=\"license\"\r\n          key={`photo-${i}`}\r\n          src={`data:image/jpeg;base64,${photo.file}`}\r\n          height={60}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  setAllModelsApi,\r\n  setAllCarsApi,\r\n  setPhotosArray,\r\n  setNotFoundMessage,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport UploadPhoto from \"./UploadPhoto\";\r\nimport \"react-dates/initialize\";\r\nimport { DateRangePicker } from \"react-dates\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport \"../react_dates_overrides.css\";\r\nimport { setAuth } from \"../actions\";\r\nimport { Redirect } from \"react-router\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\n\r\nexport default function AddNewCar() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Variable\r\n  let id;\r\n\r\n  // Redux states\r\n  const allCarsApi = useSelector((state) => state.allCarsApi);\r\n  const allModelsApi = useSelector((state) => state.allModelsApi);\r\n  const auth = useSelector((state) => state.auth);\r\n  const photosArray = useSelector((state) => state.photosArray);\r\n  const notFoundMessage = useSelector((state) => state.notFoundMessage);\r\n  const spinner = useSelector((state) => state.spinner);\r\n\r\n  // Use states\r\n  const [yearsArr, setYearsArr] = useState([]);\r\n  const [percentage, setPercentage] = useState([]);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [focusedInput, setFocusedInput] = useState(null);\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [gearType, setGearType] = useState(\"Manuel\");\r\n  const [gasType, setGasType] = useState(\"Octan-95\");\r\n\r\n  // Global variables\r\n  const apiCars = \"https://vpic.nhtsa.dot.gov/api\";\r\n  const seatsOptions = [\"2\", \"4\", \"5\", \"6\", \"7\"];\r\n\r\n  // UseRefs\r\n  const brandRef = useRef();\r\n  const modelRef = useRef();\r\n  const yearRef = useRef();\r\n  const pricePerDayRef = useRef();\r\n  const discountPerWeekRef = useRef();\r\n  const discountPerMonthRef = useRef();\r\n  const passengersRef = useRef();\r\n\r\n  //Checking if logged user has an address before adding a car\r\n  useEffect(() => {\r\n    if (auth.address === null) {\r\n      dispatch(\r\n        setNotFoundMessage(\r\n          \"You must update your address before becoming a host\"\r\n        )\r\n      );\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    if (notFoundMessage) {\r\n      setTimeout(() => {\r\n        dispatch(setNotFoundMessage(false));\r\n        setRedirect(true);\r\n      }, 6000);\r\n    }\r\n  }, [notFoundMessage]);\r\n\r\n  // Get all cars brand from API.\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n    axios\r\n      .get(apiCars + \"/vehicles/GetMakesForVehicleType/car?format=json\")\r\n      .then(({ data }) => {\r\n        dispatch(setAllCarsApi(data.Results));\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(setSpinner(false));\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let temp = [];\r\n    const endYear = parseInt(new Date().getFullYear());\r\n    for (let i = endYear; i >= 1980; i--) {\r\n      temp.push(i);\r\n    }\r\n    setYearsArr(temp);\r\n    temp = [];\r\n    for (let j = 0; j <= 50; j += 5) {\r\n      temp.push(j + \"%\");\r\n    }\r\n    setPercentage(temp);\r\n  }, []);\r\n\r\n  //emptying the photo array\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(setPhotosArray([]));\r\n    };\r\n  }, []);\r\n\r\n  // After car brand selected, axios request to get all models of this brand\r\n  const onBrandChangeHandler = async () => {\r\n    allCarsApi?.forEach((car) => {\r\n      if (car.MakeName.toLowerCase() === brandRef.current.value.toLowerCase()) {\r\n        dispatch(setSpinner(true));\r\n        axios\r\n          .get(\r\n            apiCars + `/vehicles/GetModelsForMake/${car.MakeName}?format=json`\r\n          )\r\n          .then(({ data }) => {\r\n            dispatch(setAllModelsApi(data.Results));\r\n            dispatch(setSpinner(false));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            dispatch(setSpinner(false));\r\n          });\r\n      } else {\r\n        modelRef.current.value = \"\";\r\n      }\r\n    });\r\n  };\r\n\r\n  // Upload new car to database\r\n  const uploadCar = async () => {\r\n    const newCar = {\r\n      ownerEmail: auth.user_email,\r\n      brand: brandRef.current.value,\r\n      model: modelRef.current.value,\r\n      gear: gearType,\r\n      year: yearRef.current.value,\r\n      fuel: gasType,\r\n      until: endDate === \"\" ? null : endDate,\r\n      from: startDate === \"\" ? null : startDate,\r\n      passengers: parseInt(passengersRef.current.value),\r\n      pricePerDay: pricePerDayRef.current.value,\r\n      discountPerWeek: discountPerWeekRef.current.value,\r\n      discountPerMonth: discountPerMonthRef.current.value,\r\n    };\r\n    try {\r\n      if (auth) {\r\n        dispatch(setSpinner(true));\r\n\r\n        const { data: savedCar } = await axios.post(\"/api/v1/cars/upload\", {\r\n          newCar: newCar,\r\n        });\r\n        // console.log(savedCar);\r\n        id = savedCar.data.car_id;\r\n        photosArray.forEach((photo) => (photo.car_id = id));\r\n        dispatch(setPhotosArray(photosArray));\r\n        await axios.post(\"/api/v1/photos/savephotos\", photosArray);\r\n        setRedirect(true);\r\n        dispatch(setSpinner(false));\r\n      }\r\n    } catch (error) {\r\n      if (error.response.status === 403) {\r\n        dispatch(setAuth(false));\r\n        dispatch(setSpinner(false));\r\n\r\n        alert(\"please login again\");\r\n      }\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  // Handle dates on changes\r\n  const handleDatesChange = ({ startDate, endDate }) => {\r\n    setStartDate(startDate);\r\n    setEndDate(endDate);\r\n  };\r\n  return (\r\n    <div className=\"add-new-car-page\">\r\n      {notFoundMessage && (\r\n        <Snackbar\r\n          className=\"snackbar\"\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={notFoundMessage}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      <div className=\"add-car-panel\">\r\n        <div className=\"left-side-panel\"></div>\r\n        <div className=\"right-side-panel\">\r\n          <div className=\"fields-inputs\">\r\n            <h1>We invite you to become a member in our host's team</h1>\r\n            <div className=\"set\">\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Pick your car brand</div>\r\n                <input\r\n                  className=\"brand-input-addNewCar\"\r\n                  ref={brandRef}\r\n                  list=\"brand\"\r\n                  onChange={onBrandChangeHandler}\r\n                ></input>\r\n                <datalist id=\"brand\">\r\n                  {allCarsApi?.map((car, i) => (\r\n                    <option key={`brand-${i}`} value={`${car.MakeName}`} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n              <div className=\"input-div\">\r\n                <UploadPhoto id={id} />\r\n              </div>\r\n            </div>\r\n            <div className=\"set\">\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Pick your car model</div>\r\n                <input\r\n                  className=\"model-input-addNewCar\"\r\n                  ref={modelRef}\r\n                  list=\"model\"\r\n                ></input>\r\n                <datalist id=\"model\">\r\n                  {allModelsApi?.map((model, i) => (\r\n                    <option key={`model-${i}`} value={`${model.Model_Name}`} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n              <div className=\"input-div\">\r\n                <div\r\n                  className=\"Car-gear\"\r\n                  onChange={(e) => setGearType(e.target.value)}\r\n                >\r\n                  <div className=\"title\">\r\n                    <label htmlFor=\"Manuel\">Gear</label>\r\n                  </div>\r\n                  <div className=\"radio-container\">\r\n                    <input\r\n                      id=\"Manuel\"\r\n                      name=\"car-gear\"\r\n                      type=\"radio\"\r\n                      defaultValue=\"Manuel\"\r\n                      defaultChecked={true}\r\n                    />\r\n                    <label htmlFor=\"Manuel\">Manuel</label>\r\n                    <input\r\n                      id=\"Automat\"\r\n                      name=\"car-gear\"\r\n                      type=\"radio\"\r\n                      defaultValue=\"Automat\"\r\n                    />\r\n                    <label htmlFor=\"Automat\">Automat</label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"set\">\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Pick your car year</div>\r\n                <input\r\n                  className=\"year-input-addNewCar\"\r\n                  ref={yearRef}\r\n                  list=\"year\"\r\n                ></input>\r\n                <datalist id=\"year\">\r\n                  {yearsArr?.map((year, i) => (\r\n                    <option key={`year-${i}`} value={year} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Availability dates </div>\r\n                <DateRangePicker\r\n                  id=\"dates\"\r\n                  startDate={startDate}\r\n                  startDatePlaceholderText=\"Start date:\"\r\n                  startDateId=\"tata-start-date\"\r\n                  endDate={endDate}\r\n                  endDatePlaceholderText=\"End date:\"\r\n                  endDateId=\"tata-end-date\"\r\n                  onDatesChange={handleDatesChange}\r\n                  focusedInput={focusedInput}\r\n                  onFocusChange={(focusedInput) =>\r\n                    setFocusedInput(focusedInput)\r\n                  }\r\n                  small={true}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"set\">\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Enter wanted price per day</div>\r\n                <input\r\n                  className=\"tariff-input-addNewCar\"\r\n                  ref={pricePerDayRef}\r\n                ></input>\r\n              </div>\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Number of seats</div>\r\n                <input\r\n                  className=\"seats-input-addNewCar\"\r\n                  ref={passengersRef}\r\n                  list=\"passengers\"\r\n                ></input>\r\n                <datalist id=\"passengers\">\r\n                  {seatsOptions?.map((seat, i) => (\r\n                    <option key={`passengers-${i}`} value={seat} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n            </div>\r\n            <div className=\"set\">\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Percent of discount per month</div>\r\n                <input\r\n                  className=\"discount-month-input-addNewCar\"\r\n                  ref={discountPerMonthRef}\r\n                  list=\"discountPerMonth\"\r\n                ></input>\r\n                <datalist id=\"discountPerMonth\">\r\n                  {percentage?.map((percent, i) => (\r\n                    <option key={`discountPerMonth-${i}`} value={percent} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n              <div className=\"input-div\">\r\n                <div className=\"title\">Percent of discount per week</div>\r\n                <input\r\n                  className=\"discount-week-input-addNewCar\"\r\n                  ref={discountPerWeekRef}\r\n                  list=\"discountPerWeek\"\r\n                ></input>\r\n                <datalist id=\"discountPerWeek\">\r\n                  {percentage?.map((percent, i) => (\r\n                    <option key={`discountPerWeek-${i}`} value={percent} />\r\n                  ))}\r\n                </datalist>\r\n              </div>\r\n            </div>\r\n            <div className=\"set\">\r\n              <div\r\n                className=\"gas-type\"\r\n                onChange={(e) => setGasType(e.target.value)}\r\n              >\r\n                <label className=\"title\" htmlFor=\"Octan-95\">\r\n                  Pick your car gas type\r\n                </label>\r\n                <div className=\"radio-container\">\r\n                  <input\r\n                    id=\"Octan-95\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Octan-95\"\r\n                    defaultChecked={true}\r\n                  />\r\n                  <label htmlFor=\"Octan-95\">Octan-95</label>\r\n                  <input\r\n                    id=\"Octan-96\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Octan-96\"\r\n                  />\r\n                  <label htmlFor=\"Octan-96\">Octan-96</label>\r\n                  <input\r\n                    id=\"Octan-98\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Octan-98\"\r\n                  />\r\n                  <label htmlFor=\"Octan-98\">Octan-98</label>\r\n                  <input\r\n                    id=\"Soler\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Soler\"\r\n                  />\r\n                  <label htmlFor=\"Soler\">Soler</label>\r\n                  <input\r\n                    id=\"Electric\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Electric\"\r\n                  />\r\n                  <label htmlFor=\"Electric\">Electric</label>\r\n                  <input\r\n                    id=\"Gas\"\r\n                    name=\"type-of-gas\"\r\n                    type=\"radio\"\r\n                    defaultValue=\"Gas\"\r\n                  />\r\n                  <label htmlFor=\"Gas\">Gas</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"submit-btn\">\r\n            <button onClick={uploadCar}>Upload Car</button>\r\n            {redirect && <Redirect to=\"/profile\" />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  setAuth,\r\n  setAuthOut,\r\n  setOnLoginPage,\r\n  setShowLogin,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\n\r\nexport default function Login() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [forgotPassword, setForgotPassword] = useState(false);\r\n  const [snack, setSnack] = useState();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // UseRefs\r\n  const userNameRef = useRef();\r\n  const passwordRef = useRef();\r\n  const forgotEmailRef = useRef();\r\n\r\n  useEffect(() => {\r\n    dispatch(setOnLoginPage(true));\r\n    return () => {\r\n      dispatch(setOnLoginPage(false));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (auth) dispatch(setShowLogin(false));\r\n    return () => {\r\n      dispatch(setShowLogin(false));\r\n    };\r\n  }, [auth]);\r\n\r\n  // Send login data, user name and password\r\n  const onLoginHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (userNameRef.current.value === \"\" || passwordRef.current.value === \"\") {\r\n      return;\r\n    }\r\n    const user = {\r\n      email: userNameRef.current.value,\r\n      password: passwordRef.current.value,\r\n    };\r\n\r\n    try {\r\n      dispatch(setSpinner(true));\r\n      const { data: userDetails } = await axios.post(\"/api/v1/users/login\", {\r\n        user: user,\r\n      });\r\n\r\n      dispatch(setAuth(userDetails.data));\r\n      console.log(\"Success Login\");\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      dispatch(setAuthOut());\r\n      console.log(error.message);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  // Response if login with google success\r\n  const responseSuccessGoogle = async (response) => {\r\n    try {\r\n      const { data: userDetails } = await axios.post(\r\n        \"/api/v1/auth/googleLogin\",\r\n        {\r\n          tokenId: response.tokenId,\r\n        }\r\n      );\r\n      dispatch(setAuth(userDetails.data));\r\n      console.log(\"google login success\");\r\n    } catch (err) {\r\n      dispatch(setAuthOut());\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  // Response if login with facebook success\r\n  const responseFacebook = async (response) => {\r\n    console.log(response);\r\n    try {\r\n      const { data: userDetails } = await axios.post(\r\n        \"/api/v1/auth/facebookLogin\",\r\n        {\r\n          accessToken: response.accessToken,\r\n          userId: response.userID,\r\n        }\r\n      );\r\n      dispatch(setAuth(userDetails.data));\r\n      console.log(\"facebook login success\");\r\n    } catch (err) {\r\n      dispatch(setAuthOut());\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  // Response if login with google failed\r\n  const responseErrorGoogle = (response) => {\r\n    dispatch(setAuthOut());\r\n    console.error(\"ERROR LOGIN WITH GOOGLE\");\r\n  };\r\n\r\n  const onForgotHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (!forgotEmailRef.current.value) return alert(\"Must enter email first\");\r\n    try {\r\n      await axios.put(\"/api/v1/auth/forgotpassword\", {\r\n        userEmail: forgotEmailRef.current.value,\r\n      });\r\n      setSnack(true);\r\n      setTimeout(() => {\r\n        setSnack(false);\r\n      }, 4000);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container sign-in-container\">\r\n      <div\r\n        className=\"x login\"\r\n        onClick={() => {\r\n          dispatch(setShowLogin(false));\r\n        }}\r\n      >\r\n        ✖\r\n      </div>\r\n      <form action=\"#\">\r\n        {!forgotPassword ? (\r\n          <>\r\n            <h1 className=\"login-form-title\">Sign in</h1>\r\n            <div className=\"social-container\">\r\n              <GoogleLogin\r\n                clientId=\"186150944842-sg6rcdti8hqtq2td43gv4jo2t1jmc8hj.apps.googleusercontent.com\"\r\n                render={(renderProps) => (\r\n                  <div\r\n                    className=\"login-form-a social\"\r\n                    onClick={renderProps.onClick}\r\n                    disabled={renderProps.disabled}\r\n                  >\r\n                    <i className=\"fab fa-google-plus-g\" />\r\n                  </div>\r\n                )}\r\n                buttonText=\"Login\"\r\n                onSuccess={responseSuccessGoogle}\r\n                onFailure={responseErrorGoogle}\r\n                cookiePolicy={\"single_host_origin\"}\r\n              />\r\n              <FacebookLogin\r\n                appId=\"830912607629776\"\r\n                cssClass=\"social facebook-button\"\r\n                icon=\"fa fa-facebook\"\r\n                textButton={\"\"}\r\n                autoLoad={false}\r\n                fields={\"adress\"}\r\n                callback={responseFacebook}\r\n              />\r\n            </div>\r\n            <span className=\"login-form-span\">or use your account</span>\r\n            <input\r\n              className=\"login-form-input\"\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              ref={userNameRef}\r\n            />\r\n            <input\r\n              className=\"login-form-input\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              ref={passwordRef}\r\n            />\r\n            <a\r\n              href=\"#\"\r\n              onClick={() => setForgotPassword(true)}\r\n              className=\"forgot-password-btn \"\r\n            >\r\n              Forgot your password?\r\n            </a>\r\n            <button className=\"login-form-button\" onClick={onLoginHandler}>\r\n              Sign In\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <input\r\n              ref={forgotEmailRef}\r\n              className=\"login-form-input\"\r\n              placeholder=\"Enter Your email\"\r\n            />\r\n            <button onClick={onForgotHandler} className=\"login-form-button\">\r\n              Reset Password\r\n            </button>\r\n            {snack && (\r\n              <Snackbar\r\n                anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n                open={true}\r\n                message={\"Check your mail box, reset link successfully send\"}\r\n                key={\"top\" + \"center\"}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </form>{\" \"}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setOnLoginPage } from \"../actions\";\r\n\r\nimport logo from \"../photos/logo-white.png\";\r\n\r\nexport default function PromptLogin() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Use states\r\n  const [rightPanelActive, setRightPanelActive] = useState();\r\n\r\n  useEffect(() => {\r\n    dispatch(setOnLoginPage(true));\r\n    return () => {\r\n      dispatch(setOnLoginPage(false));\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <div className={`login-container`}>\r\n        <div className={`container ${rightPanelActive} `} id=\"container\">\r\n          <Register />\r\n          <Login />\r\n          <div className=\"overlay-container\">\r\n            <div className=\"overlay\">\r\n              <div className=\"overlay-panel overlay-left\">\r\n                <h1 className=\"login-form-title welcome\">Welcome Back!</h1>\r\n                <p className=\"login-form-paragraph\">\r\n                  To keep connected with us please login with your personal info\r\n                </p>\r\n                <button\r\n                  className=\"login-form-button ghost\"\r\n                  id=\"signIn\"\r\n                  onClick={() => {\r\n                    setRightPanelActive();\r\n                  }}\r\n                >\r\n                  Sign In\r\n                </button>\r\n              </div>\r\n              <div className=\"overlay-panel overlay-right\">\r\n                <img className=\"login-img\" src={logo} alt=\"logo\" />\r\n                <p className=\"login-form-paragraph\" id=\"under-logo\">\r\n                  We invite you to start your journey with us, and with many\r\n                  other drivers\r\n                </p>\r\n                <button\r\n                  className=\"login-form-button ghost\"\r\n                  id=\"signUp\"\r\n                  onClick={() => setRightPanelActive(\"right-panel-active\")}\r\n                >\r\n                  Sign Up\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/no-car-photo.b76b185a.png\";","import React, { useState } from \"react\";\r\n\r\nexport default function CarGallery({ photosArray }) {\r\n  // Use states\r\n  const [index, setIndex] = useState(0);\r\n\r\n  const previousPhoto = () => {\r\n    index !== 0\r\n      ? setIndex((prev) => prev - 1)\r\n      : setIndex(photosArray?.length - 1);\r\n  };\r\n  const nextPhoto = () => {\r\n    index !== photosArray?.length - 1\r\n      ? setIndex((prev) => prev + 1)\r\n      : setIndex(0);\r\n  };\r\n  return (\r\n    <div className=\"car-gallery\">\r\n      <button className=\"arrow prev\" onClick={previousPhoto}>\r\n        <i className=\"fas fa-angle-left\"></i>\r\n      </button>\r\n      <img\r\n        alt=\"car\"\r\n        src={`data:image/jpeg;base64,${photosArray[index]?.file}`}\r\n      />\r\n      <button className=\"arrow next\" onClick={nextPhoto}>\r\n        <i className=\"fas fa-angle-right\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { setShowLogin, setSpinner } from \"../actions\";\r\nimport PromptLogin from \"./PromptLogin\";\r\nimport defaultPhoto from \"../photos/no-car-photo.png\";\r\nimport CarGallery from \"./CarGallery\";\r\nimport { Icon, InlineIcon } from \"@iconify/react\";\r\nimport seatPassenger from \"@iconify-icons/mdi/seat-passenger\";\r\nexport default function Result({ car, resultId }) {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n  const availableCars = useSelector((state) => state.availableCars);\r\n  const filteredCars = useSelector((state) => state.filteredCars);\r\n\r\n  // Use states\r\n  const [photosArray, setPhotosArray] = useState([]);\r\n  const [heartButton, setHeartButton] = useState(\"far fa-heart\");\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    const photosData = [\"Photo\", [\"car_id\"], [car.car_id]];\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", { data: photosData })\r\n      .then(({ data }) => {\r\n        setPhotosArray(data.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.status === 404) {\r\n          setPhotosArray(false);\r\n          dispatch(setSpinner(false));\r\n\r\n          return;\r\n        }\r\n        console.log(err);\r\n      });\r\n  }, [availableCars, filteredCars]);\r\n\r\n  useEffect(() => {\r\n    if (auth) dispatch(setShowLogin(false));\r\n  }, [auth]);\r\n\r\n  const saveToFavorite = async (carId) => {\r\n    if (heartButton === \"far fa-heart\") {\r\n      try {\r\n        if (auth) {\r\n          dispatch(setSpinner(true));\r\n          const result = await axios.post(\"/api/v1/favorite/add\", {\r\n            data: { carId: carId, userEmail: auth.user_email },\r\n          });\r\n          dispatch(setSpinner(false));\r\n\r\n          console.log(result);\r\n        } else {\r\n          // need to prompt login promp component\r\n          dispatch(setShowLogin(true));\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        dispatch(setSpinner(false));\r\n      }\r\n      setHeartButton(\"fas fa-heart\");\r\n    } else {\r\n      try {\r\n        if (auth) {\r\n          dispatch(setSpinner(true));\r\n          const result = await axios.post(\"/api/v1/favorite/remove\", {\r\n            data: { carId: carId, userEmail: auth.user_email },\r\n          });\r\n          dispatch(setSpinner(false));\r\n          console.log(result);\r\n        } else {\r\n          // need to prompt login promp component\r\n          dispatch(setShowLogin(true));\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n        dispatch(setSpinner(false));\r\n      }\r\n      setHeartButton(\"far fa-heart\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"result\">\r\n      <button id=\"love\" onClick={() => saveToFavorite(car.car_id)}>\r\n        <i className={heartButton}></i>\r\n      </button>\r\n      <div className=\"ft-recipe__thumb\">\r\n        {photosArray !== false ? (\r\n          <CarGallery photosArray={photosArray} location={\"result\"} />\r\n        ) : (\r\n          <img\r\n            alt=\"car-photo\"\r\n            className=\"no-photos-replacement\"\r\n            src={defaultPhoto}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"ft-recipe__content\">\r\n        <header className=\"content__header\">\r\n          <div className=\"row-wrapper\">\r\n            <h2 className=\"recipe-title\">\r\n              {car.brand}, {car.model}\r\n            </h2>\r\n            <div className=\"user-rating\" />\r\n          </div>\r\n          <ul className=\"recipe-details\">\r\n            <li className=\"recipe-details-item time\">\r\n              <i className=\"fas fa-tools\"></i>\r\n              <span className=\"value\">{car.year}</span>\r\n              <span className=\"title\">Manufacture year</span>\r\n            </li>\r\n            <li className=\"recipe-details-item ingredients\">\r\n              <i className=\"fas fa-dollar-sign ion\"></i>\r\n              <span className=\"value\">{car.price_per_day}</span>\r\n              <span className=\"title\">Per day</span>\r\n            </li>\r\n            <li className=\"recipe-details-item servings\">\r\n              <Icon icon={seatPassenger} className=\"ion\" />\r\n              <span className=\"value\">{car.passengers}</span>\r\n              <span className=\"title\">Number of seats</span>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n        <div className=\"description\">\r\n          <div className=\"rating-result\">\r\n            <i className=\"fas fa-star\"></i>{\" \"}\r\n            <span className=\"owner-rating-results\">\r\n              {\" \"}\r\n              {Number(car.owner_rating).toFixed(1)} / 5\r\n            </span>{\" \"}\r\n            |\r\n            <span className=\"owner-rating-reviews\">\r\n              {\" \"}\r\n              {car.number_of_votes} reviews{\" \"}\r\n            </span>{\" \"}\r\n          </div>\r\n        </div>\r\n        <footer className=\"content__footer\">\r\n          <Link to={`/result/${resultId}`}>\r\n            <button>Book this car</button>\r\n          </Link>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setFilterPrice } from \"../actions\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 300,\r\n  },\r\n});\r\n\r\nfunction valuetext(value) {\r\n  return `${value}s`;\r\n}\r\n\r\nexport default function RangeSlider() {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  // Redux states\r\n  const availableCars = useSelector((state) => state.availableCars);\r\n\r\n  // Use states\r\n  const [maxPrice, setMaxPrice] = useState(100);\r\n  const [tempPrice, setTempPrice] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const temp = [];\r\n    availableCars?.forEach((car) => {\r\n      temp.push(car.price_per_day);\r\n    });\r\n    if (temp.length > 0) {\r\n      const maxPriceFromDB = Math.max(...temp);\r\n      setMaxPrice(maxPriceFromDB);\r\n      dispatch(setFilterPrice([10, maxPriceFromDB + 5]));\r\n      setTempPrice([0, maxPriceFromDB + 5]);\r\n    }\r\n  }, [availableCars]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setTempPrice(newValue);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} id=\"price-slider\">\r\n      <Slider\r\n        max={maxPrice}\r\n        value={tempPrice}\r\n        onChange={handleChange}\r\n        onChangeCommitted={() => dispatch(setFilterPrice(tempPrice))}\r\n        valueLabelDisplay=\"auto\"\r\n        aria-labelledby=\"range-slider\"\r\n        getAriaValueText={valuetext}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setFilterYears } from \"../actions\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: 300,\r\n  },\r\n});\r\n\r\nfunction valuetext(value) {\r\n  return `${value}s`;\r\n}\r\n\r\nexport default function RangeSlider() {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  // Redux states\r\n  const yearsFilter = useSelector((state) => state.yearsFilter);\r\n  const availableCars = useSelector((state) => state.availableCars);\r\n\r\n  // Use states\r\n  const [maxYear, setMaxYear] = useState(100);\r\n  const [minYear, setMinYear] = useState(100);\r\n  const [tempYears, setTempYears] = useState([]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setTempYears(newValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const temp = [];\r\n    availableCars?.forEach((car) => {\r\n      temp.push(car.year);\r\n    });\r\n    if (temp.length > 0) {\r\n      const maxYearFromDB = Math.max(...temp);\r\n      const minYearFromDB = Math.min(...temp);\r\n      setMaxYear(maxYearFromDB);\r\n      setMinYear(minYearFromDB);\r\n      dispatch(setFilterYears([minYearFromDB, maxYearFromDB + 5]));\r\n      setTempYears([minYearFromDB - 5, maxYearFromDB + 5]);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root} id=\"years-slider\">\r\n      <Slider\r\n        min={minYear}\r\n        max={maxYear}\r\n        value={tempYears}\r\n        onChange={handleChange}\r\n        onChangeCommitted={() => dispatch(setFilterYears(tempYears))}\r\n        valueLabelDisplay=\"auto\"\r\n        aria-labelledby=\"range-slider\"\r\n        getAriaValueText={valuetext}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { setFilterRate } from \"../actions\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 300,\r\n  },\r\n  margin: {\r\n    height: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst marks = [\r\n  {\r\n    value: 0,\r\n    label: \"0+\",\r\n  },\r\n  {\r\n    value: 1,\r\n    label: \"1+\",\r\n  },\r\n  {\r\n    value: 2,\r\n    label: \"2+\",\r\n  },\r\n  {\r\n    value: 3,\r\n    label: \"3+\",\r\n  },\r\n  {\r\n    value: 4,\r\n    label: \"4+\",\r\n  },\r\n  {\r\n    value: 5,\r\n    label: \"5\",\r\n  },\r\n];\r\n\r\nexport default function RatingSlider() {\r\n  const dispatch = useDispatch();\r\n  const classes = useStyles();\r\n\r\n  // Redux states\r\n  const ratingFilter = useSelector((state) => state.ratingFilter);\r\n\r\n  // Use states\r\n  const [tempRating, setTempRating] = useState();\r\n\r\n  const filterCarByOwnerRate = async (event, newValue) => {\r\n    if (newValue !== ratingFilter) {\r\n      setTempRating(newValue);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} id=\"rating-slider\">\r\n      <Slider\r\n        max={5}\r\n        defaultValue={0}\r\n        onChange={filterCarByOwnerRate}\r\n        onChangeCommitted={() => dispatch(setFilterRate(tempRating))}\r\n        aria-labelledby=\"discrete-slider-always\"\r\n        step={1}\r\n        marks={marks}\r\n        valueLabelDisplay=\"auto\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from \"react-select\";\r\nimport PriceSlider from \"./PriceSlider\";\r\nimport YearsSlider from \"./YearsSlider\";\r\nimport RatingSlider from \"./RatingSlider\";\r\nimport { setFilteredCars } from \"../actions\";\r\n\r\nexport default function FilterCheck() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const availableCars = useSelector((state) => state.availableCars);\r\n  const yearsFilter = useSelector((state) => state.yearsFilter);\r\n  const priceFilter = useSelector((state) => state.priceFilter);\r\n  const ratingFilter = useSelector((state) => state.ratingFilter);\r\n  const initialSearch = useSelector((state) => state.initialSearch);\r\n\r\n  // Use states\r\n  const [yearsArr, setYearsArr] = useState([]);\r\n\r\n  // Options to choose\r\n  const [brandFilterArr, setBrandFilterArr] = useState([]);\r\n  const [modelFilterArr, setModelFilterArr] = useState([]);\r\n\r\n  // Options to filter by\r\n  const [selectedBrandFilterArr, setSelectedBrandFilterArr] = useState([]);\r\n  const [selectedModelFilterArr, setSelectedModelFilterArr] = useState([]);\r\n  const [selectedGearFilterArr, setSelectedGearFilterArr] = useState([]);\r\n  const [selectedFuelFilterArr, setSelectedFuelFilterArr] = useState([]);\r\n\r\n  // Global variables\r\n  const gearOptions = [\r\n    { label: \"Manual\", value: \"Manual\" },\r\n    { label: \"Auto\", value: \"Auto\" },\r\n  ];\r\n  const fuelTypes = [\r\n    { label: \"Octan-95\", value: \"OCTAN-95\" },\r\n    { label: \"Octan-96\", value: \"OCTAN-96\" },\r\n    { label: \"Octan-98\", value: \"OCTAN-98\" },\r\n    { label: \"Soler\", value: \"SOLER\" },\r\n    { label: \"Electric\", value: \"ELECTRIC\" },\r\n    { label: \"Gas\", value: \"GAS\" },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    let temp = [];\r\n    const endYear = parseInt(new Date().getFullYear());\r\n    for (let i = endYear; i >= 1980; i--) {\r\n      temp.push(i);\r\n    }\r\n    setYearsArr(temp);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const tempBrands = [];\r\n    const tempModels = [];\r\n    availableCars?.forEach((car) => {\r\n      if (!tempBrands.includes(car.brand)) {\r\n        tempBrands.push(car.brand);\r\n        setBrandFilterArr((prev) => [\r\n          ...prev,\r\n          { label: car.brand, value: car.brand },\r\n        ]);\r\n      }\r\n      if (!tempModels.includes(car.model)) {\r\n        tempModels.push(car.model);\r\n        setModelFilterArr((prev) => [\r\n          ...prev,\r\n          { label: car.model, value: car.model },\r\n        ]);\r\n      }\r\n    });\r\n    return () => {\r\n      setBrandFilterArr([]);\r\n      setModelFilterArr([]);\r\n    };\r\n  }, [initialSearch]);\r\n\r\n  useEffect(() => {\r\n    let tempResults = availableCars;\r\n    if (selectedBrandFilterArr.length > 0) {\r\n      const temp = [];\r\n      tempResults.forEach((car) => {\r\n        selectedBrandFilterArr.forEach((filter) => {\r\n          if (car.brand.toLowerCase() === filter.label.toLowerCase()) {\r\n            temp.push(car);\r\n          }\r\n        });\r\n      });\r\n      tempResults = temp;\r\n    }\r\n\r\n    if (selectedModelFilterArr.length > 0) {\r\n      const temp = [];\r\n      tempResults.forEach((car) => {\r\n        selectedModelFilterArr.forEach((filter) => {\r\n          if (car.model.toLowerCase() === filter.label.toLowerCase()) {\r\n            temp.push(car);\r\n          }\r\n        });\r\n      });\r\n      tempResults = temp;\r\n    }\r\n\r\n    if (selectedGearFilterArr.length > 0) {\r\n      const temp = [];\r\n      tempResults.forEach((car) => {\r\n        selectedGearFilterArr.forEach((filter) => {\r\n          if (car.gear.toLowerCase() === filter.label.toLowerCase()) {\r\n            temp.push(car);\r\n          }\r\n        });\r\n      });\r\n      tempResults = temp;\r\n    }\r\n\r\n    if (selectedFuelFilterArr.length > 0) {\r\n      const temp = [];\r\n      tempResults?.forEach((car) => {\r\n        selectedFuelFilterArr?.forEach((filter) => {\r\n          if (car.fuel.toLowerCase() === filter.label.toLowerCase()) {\r\n            temp.push(car);\r\n          }\r\n        });\r\n      });\r\n      tempResults = temp;\r\n    }\r\n\r\n    let temp = [];\r\n    tempResults?.forEach((car) => {\r\n      if (car.year >= yearsFilter[0] && car.year <= yearsFilter[1]) {\r\n        temp.push(car);\r\n      }\r\n    });\r\n    tempResults = temp;\r\n\r\n    temp = [];\r\n    tempResults?.forEach((car) => {\r\n      if (\r\n        car.price_per_day >= priceFilter[0] &&\r\n        car.price_per_day <= priceFilter[1]\r\n      ) {\r\n        temp.push(car);\r\n      }\r\n    });\r\n    tempResults = temp;\r\n\r\n    temp = [];\r\n    tempResults?.forEach((car) => {\r\n      if (car.owner_rating >= ratingFilter) {\r\n        temp.push(car);\r\n      }\r\n    });\r\n    tempResults = temp;\r\n\r\n    dispatch(setFilteredCars(tempResults));\r\n  }, [\r\n    selectedBrandFilterArr,\r\n    selectedModelFilterArr,\r\n    selectedGearFilterArr,\r\n    selectedFuelFilterArr,\r\n    yearsFilter,\r\n    priceFilter,\r\n    ratingFilter,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"filter-bar\">\r\n      <h4>Filter By:</h4>\r\n      <div className=\"select\">\r\n        Brand\r\n        <Select\r\n          options={brandFilterArr}\r\n          onChange={(e) => setSelectedBrandFilterArr(e)}\r\n          isMulti={true}\r\n        />\r\n      </div>\r\n      <div className=\"select\">\r\n        Model\r\n        <Select\r\n          options={modelFilterArr}\r\n          onChange={(e) => setSelectedModelFilterArr(e)}\r\n          isMulti={true}\r\n        />\r\n      </div>\r\n      <div className=\"select\">\r\n        Fuel\r\n        <Select\r\n          options={fuelTypes}\r\n          onChange={(e) => setSelectedFuelFilterArr(e)}\r\n          isMulti={true}\r\n        />\r\n      </div>\r\n      <div className=\"select\">\r\n        Gear\r\n        <Select\r\n          options={gearOptions}\r\n          onChange={(e) => setSelectedGearFilterArr(e)}\r\n          isMulti={true}\r\n        />\r\n      </div>\r\n      <div className=\"slider\">\r\n        Year\r\n        <YearsSlider />\r\n      </div>\r\n      <div className=\"slider\">\r\n        Price\r\n        <PriceSlider />\r\n      </div>\r\n      <div className=\"slider\">\r\n        Rating Of Cars Owners:\r\n        <RatingSlider />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Result from \"./Result\";\r\nimport FilterCheck from \"./FilterCheck\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport { setFilteredCars } from \"../actions\";\r\nexport default function Results() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const filteredCars = useSelector((state) => state.filteredCars);\r\n  const initialSearch = useSelector((state) => state.initialSearch);\r\n\r\n  //States\r\n  const [orderBy, setOrderBy] = useState();\r\n\r\n  const sortBy = (parameter, order, e) => {\r\n    if (order === \"down\") {\r\n      filteredCars.sort((a, b) => a[parameter] - b[parameter]);\r\n      dispatch(setFilteredCars(filteredCars.slice()));\r\n    } else {\r\n      filteredCars.sort((a, b) => b[parameter] - a[parameter]);\r\n      dispatch(setFilteredCars(filteredCars.slice()));\r\n    }\r\n    console.log(e.target);\r\n    setOrderBy(e.target.innerText);\r\n  };\r\n\r\n  return (\r\n    <div className=\"results-page\">\r\n      <FilterCheck />\r\n\r\n      <div className=\"results-section\">\r\n        <h1>\r\n          {initialSearch.city !== \"\"\r\n            ? `Cars in ${initialSearch.city}`\r\n            : `All available cars`}{\" \"}\r\n        </h1>\r\n        <h3>\r\n          {\" \"}\r\n          {new Date(initialSearch.startDate).toDateString()} -{\" \"}\r\n          {new Date(initialSearch.endDate).toDateString()}{\" \"}\r\n        </h3>\r\n        <div className=\"search-bar-in-results-page\">\r\n          <SearchBar />\r\n        </div>\r\n        <div class=\"dropdown\">\r\n          <button class=\"dropbtn\">Order By:</button>\r\n          <div class=\"dropdown-content\">\r\n            <div onClick={(e) => sortBy(\"price_per_day\", \"down\", e)}>\r\n              <i class=\"fas fa-sort-amount-down-alt\"></i> Price - low to high\r\n            </div>\r\n            <div onClick={(e) => sortBy(\"price_per_day\", \"up\", e)}>\r\n              {\" \"}\r\n              <i class=\"fas fa-sort-amount-down\"></i> Price - high to low\r\n            </div>\r\n            <div onClick={(e) => sortBy(\"year\", \"down\", e)}>\r\n              <i class=\"fas fa-sort-numeric-down-alt\"></i> Year - new to old\r\n            </div>\r\n            <div onClick={(e) => sortBy(\"year\", \"up\", e)}>\r\n              <i class=\"fas fa-sort-numeric-down\"></i> Year - old to new\r\n            </div>\r\n          </div>\r\n          <div className=\"order-label\">{orderBy}</div>\r\n        </div>\r\n        <div className=\"results\">\r\n          {filteredCars?.map((car, i) => (\r\n            <Result key={`car-${i}`} resultId={i} car={car} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport {\r\n  setPhotosArray,\r\n  setShowLogin,\r\n  setCarToRental,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport Cards from \"react-credit-cards\";\r\nimport \"react-credit-cards/lib/styles-compiled.css\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport seatPassenger from \"@iconify-icons/mdi/seat-passenger\";\r\nimport {\r\n  setRentalDetails,\r\n  setAvailableCars,\r\n  setFilteredCars,\r\n  setInitialSearch,\r\n  setAuthLicense,\r\n} from \"../actions\";\r\n\r\nexport default function CarDetails() {\r\n  const dispatch = useDispatch();\r\n  const { resultId } = useParams();\r\n\r\n  // Use states\r\n  const [redirect, setRedirect] = useState(`/result/${resultId}`);\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [isTakenMessage, setIsTakenMessage] = useState(false);\r\n  const [image, setImage] = useState([]);\r\n  const [data, setData] = useState({\r\n    cvc: \"\",\r\n    expiry: \"\",\r\n    name: \"\",\r\n    number: \"\",\r\n  });\r\n\r\n  // Redux States\r\n  const availableCars = useSelector((state) => state.availableCars);\r\n  const initialSearch = useSelector((state) => state.initialSearch);\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  //bringing the photos of the corresponding car, and emptying it on component down\r\n  useEffect(() => {\r\n    const photosData = [\"Photo\", [\"car_id\"], [availableCars[resultId].car_id]];\r\n    dispatch(setSpinner(true));\r\n\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", { data: photosData })\r\n      .then(({ data }) => {\r\n        dispatch(setPhotosArray(data.data));\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        dispatch(setSpinner(false));\r\n      });\r\n    return () => {\r\n      dispatch(setPhotosArray([]));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (auth) dispatch(setShowLogin(false));\r\n  }, [auth]);\r\n\r\n  useEffect(() => {\r\n    if (showMessage) {\r\n      setTimeout(() => {\r\n        setShowMessage(false);\r\n      }, 4500);\r\n    }\r\n  }, [showMessage]);\r\n\r\n  // Handle credit Card Details\r\n  const handleInputChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  // Function for get numbers of days rental\r\n  const getNumberOfRentalDays = () => {\r\n    const numberOfDaysToRent = Math.round(\r\n      (new Date(initialSearch.endDate) - new Date(initialSearch.startDate)) /\r\n        (1000 * 60 * 60 * 24)\r\n    );\r\n    return numberOfDaysToRent;\r\n  };\r\n\r\n  // Function for calculate price for rental\r\n  const calculateDiscount = () => {\r\n    const pricePerDay = availableCars[resultId].price_per_day;\r\n    const discountAboveWeek = availableCars[resultId].discount_for_week;\r\n    const discountAboveMonth = availableCars[resultId].discount_for_month;\r\n    const numberOfDaysToRent = getNumberOfRentalDays();\r\n    let newPrice = 0;\r\n\r\n    if (numberOfDaysToRent < 7) {\r\n      newPrice = pricePerDay * numberOfDaysToRent;\r\n      return { price: newPrice };\r\n    }\r\n\r\n    if (numberOfDaysToRent >= 30) {\r\n      const percent = discountAboveMonth.slice(0, -1);\r\n      newPrice =\r\n        (pricePerDay - (percent / 100) * pricePerDay) * numberOfDaysToRent;\r\n      return { price: newPrice, percent: `${percent}%`, days: \"month\" };\r\n    }\r\n    if (numberOfDaysToRent >= 7 && numberOfDaysToRent < 30) {\r\n      const percent = discountAboveWeek.slice(0, -1);\r\n      newPrice =\r\n        (pricePerDay - (percent / 100) * pricePerDay) * numberOfDaysToRent;\r\n      return { price: newPrice, percent: `${percent}%`, days: \"week\" };\r\n    }\r\n  };\r\n\r\n  const makeOrder = async (e) => {\r\n    const data = {\r\n      carId: availableCars[resultId].car_id,\r\n      ownerEmail: availableCars[resultId].owner_email,\r\n      renterEmail: auth.user_email,\r\n      startDate: initialSearch.startDate,\r\n      endDate: initialSearch.endDate,\r\n      totalPrice: calculateDiscount().price,\r\n    };\r\n    dispatch(setCarToRental(data));\r\n    try {\r\n      if (auth) {\r\n        if (\r\n          (auth.license === null || auth.license === \"\") &&\r\n          image.length === 0\r\n        ) {\r\n          setIsTakenMessage(`You must Upload license first`);\r\n          setTimeout(() => {\r\n            setIsTakenMessage(false);\r\n          }, 3500);\r\n          return;\r\n        }\r\n        const rental = await axios.post(\"/api/v1/rentals/new\", {\r\n          data: {\r\n            rentalDetails: data,\r\n            userDetails: auth,\r\n          },\r\n        });\r\n\r\n        // If order succeed redirect to summery\r\n        if (rental.status === 201) {\r\n          dispatch(setRentalDetails(rental.data.data));\r\n          setRedirect(\"/summery\");\r\n        }\r\n      } else {\r\n        dispatch(setShowLogin(true));\r\n        setShowMessage(true);\r\n        console.log(\"must log in first!\");\r\n      }\r\n    } catch (error) {\r\n      // If in the middle of the order, someone else took this car\r\n      if (error.response.status === 400) {\r\n        await resetAvailableCars();\r\n      }\r\n      console.log(error);\r\n    }\r\n    try {\r\n      if (auth.license === null) {\r\n        const arr = [\"User\", [\"license\"], auth.user_email, [image]];\r\n        await axios.post(\"/api/v1/users/updateitems\", { data: arr });\r\n\r\n        dispatch(setAuthLicense(image));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  // Handle with difference cases\r\n  const resetAvailableCars = async () => {\r\n    try {\r\n      const { data: availableCars } = await axios.post(\r\n        \"/api/v1/search/initial\",\r\n        { data: initialSearch }\r\n      );\r\n\r\n      // If still there are available Cars, redirect to results\r\n      setIsTakenMessage(`Oops.. someone just pick the car. \\nyou are redirect to all\r\n      results again:(`);\r\n      setTimeout(() => {\r\n        setRedirect(\"/results\");\r\n        dispatch(setAvailableCars(availableCars.data));\r\n        dispatch(setFilteredCars(availableCars.data));\r\n        setIsTakenMessage(false);\r\n      }, 5000);\r\n    } catch (err) {\r\n      // If still there no available Cars, redirect to home\r\n      if (err.response.status === 404) {\r\n        setIsTakenMessage(\r\n          `${err.response.data.message}, \\nYou will redirect to home`\r\n        );\r\n        setTimeout(() => {\r\n          setRedirect(\"/\");\r\n          setIsTakenMessage(false);\r\n          dispatch(setAvailableCars([]));\r\n          dispatch(setFilteredCars([]));\r\n          dispatch(setInitialSearch([]));\r\n        }, 4000);\r\n      }\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const imageToBinary = async (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      const data = await reader.result.split(\",\")[1];\r\n      setImage(data);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-credit-and-summary\">\r\n      <div className=\"window\">\r\n        <div className=\"order-info\">\r\n          <div className=\"order-info-content\">\r\n            <div className=\"upper-info\">\r\n              <h2>Order Summary</h2>\r\n              <div className=\"line\" />\r\n              {new Date(initialSearch.startDate).toDateString()} -{\" \"}\r\n              {new Date(initialSearch.endDate).toDateString()}\r\n            </div>\r\n            <div className=\"lower-info\">\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-car\"></i>\r\n                      <span className=\"thin\"> Car: </span>{\" \"}\r\n                      {availableCars[resultId].brand},{\" \"}\r\n                      {availableCars[resultId].model}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"far fa-clock\"></i>\r\n                      <span className=\"thin\"> Year: </span>\r\n                      {availableCars[resultId].year}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-gas-pump\"></i>\r\n                      <span className=\"thin\"> Fuel: </span>\r\n                      {availableCars[resultId].fuel}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-cogs\"></i>\r\n                      <span className=\"thin\"> Gear: </span>\r\n                      {availableCars[resultId].gear}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <Icon icon={seatPassenger} />\r\n                      <span className=\"thin\"> Passengers: </span>\r\n                      {availableCars[resultId].passengers}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n            </div>\r\n\r\n            <div className=\"total\">\r\n              <span style={{ float: \"left\" }}>\r\n                <div className=\"thin dense\">Initial Price:</div>\r\n                {calculateDiscount().percent && (\r\n                  <div className=\"thin dense\">{`discount for ${\r\n                    calculateDiscount().days\r\n                  }:`}</div>\r\n                )}\r\n                TOTAL\r\n              </span>\r\n              <span style={{ float: \"right\", textAlign: \"right\" }}>\r\n                <div className=\"thin dense\">{`${getNumberOfRentalDays()} x\r\n                   ${availableCars[resultId].price_per_day} =\r\n                   ${\r\n                     getNumberOfRentalDays() *\r\n                     availableCars[resultId].price_per_day\r\n                   } $`}</div>\r\n                {calculateDiscount().percent && (\r\n                  <div className=\"thin dense\">{`${\r\n                    calculateDiscount().percent\r\n                  } , - ${Number(\r\n                    getNumberOfRentalDays() *\r\n                      availableCars[resultId].price_per_day -\r\n                      calculateDiscount().price\r\n                  ).toFixed(2)} $`}</div>\r\n                )}\r\n                {Number(calculateDiscount().price).toFixed(2)}$\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"credit-info\">\r\n          <div className=\"credit-info-content\">\r\n            <Cards\r\n              cvc={data.cvc}\r\n              expiry={data.expiry}\r\n              focus={data.focus}\r\n              name={data.name}\r\n              number={data.number}\r\n            />\r\n            Card Number\r\n            <input\r\n              className=\"input-field\"\r\n              type=\"text\"\r\n              name=\"number\"\r\n              placeholder=\"Card Number\"\r\n              onChange={handleInputChange}\r\n              maxLength=\"16\"\r\n            />\r\n            Card Holder\r\n            <input\r\n              className=\"input-field\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Your Name\"\r\n              onChange={handleInputChange}\r\n            />\r\n            <table className=\"half-input-table\">\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    Expires\r\n                    <input\r\n                      className=\"input-field\"\r\n                      type=\"date\"\r\n                      name=\"expiry\"\r\n                      placeholder=\"Expire Date\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    CVC\r\n                    <input\r\n                      className=\"input-field\"\r\n                      type=\"number\"\r\n                      name=\"cvc\"\r\n                      placeholder=\"CVC\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            {auth.license === null && (\r\n              <div>\r\n                <label>Upload license</label>\r\n                <input\r\n                  className=\"upload-photo-rental\"\r\n                  type=\"file\"\r\n                  onChange={(e) => imageToBinary(e)}\r\n                  placeholder=\"upload license\"\r\n                ></input>\r\n              </div>\r\n            )}\r\n            <button className=\"pay-btn\" onClick={makeOrder}>\r\n              Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={\"In our terms, you must login first\"}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      {isTakenMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={isTakenMessage}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      <Redirect push to={redirect} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport default function OrderSummery() {\r\n  // Redux state\r\n  const carToRental = useSelector((state) => state.carToRental);\r\n\r\n  return (\r\n    <div className=\"order-summery-page\">\r\n      <div className=\"order-summery-outer-container\">\r\n        <div className=\"order-summery-inner-container\">\r\n          <h1>Your order was successfully made! </h1>\r\n\r\n          <div className=\"order-summery-details\">\r\n            <span className=\"order-summery-description\">Owner Email:</span>\r\n            <span className=\"order-summery-value\">\r\n              {carToRental.ownerEmail}\r\n            </span>\r\n          </div>\r\n          <div className=\"order-summery-details\">\r\n            <span className=\"order-summery-description\">Renter Email:</span>\r\n            <span className=\"order-summery-value\">\r\n              {carToRental.renterEmail}\r\n            </span>\r\n          </div>\r\n          <div className=\"order-summery-details\">\r\n            <span className=\"order-summery-description\">Start Date:</span>\r\n            <span className=\"order-summery-value\">\r\n              {new Date(carToRental.startDate).toDateString()}\r\n            </span>\r\n          </div>\r\n          <div className=\"order-summery-details\">\r\n            <span className=\"order-summery-description\">End Date:</span>\r\n            <span className=\"order-summery-value\">\r\n              {new Date(carToRental.endDate).toDateString()}\r\n            </span>\r\n          </div>\r\n          <p>Check your mail inbox! you've got a receipt</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/message-photo.3b3c4de2.jpg\";","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  setNotifications,\r\n  setNotificationCounter,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport messagePhoto from \"../photos/message-photo.jpg\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\n\r\nexport default function MessageDetails() {\r\n  const dispatch = useDispatch();\r\n  const { messageId } = useParams();\r\n\r\n  // Redux states\r\n  const notifications = useSelector((state) => state.notifications);\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use states\r\n  const [statusButton, setStatusButton] = useState(false);\r\n  const [value, setValue] = useState(0);\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [listenToUnread, setListenToUnread] = useState(false);\r\n  const message = notifications[messageId];\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", {\r\n        data: [\"Rental\", [\"transaction_id\"], [message.transaction_id]],\r\n      })\r\n      .then(({ data: rental }) => {\r\n        if (\r\n          message.title === \"New Order incoming\" &&\r\n          rental.data[0].is_active === \"pending\"\r\n        )\r\n          setStatusButton(true);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, []);\r\n\r\n  const updateUnRead = async () => {\r\n    dispatch(setSpinner(true));\r\n\r\n    try {\r\n      await axios.patch(\"/api/v1/notification/updateread\", {\r\n        data: { id: message.id, status: \"unread\" },\r\n      });\r\n      setListenToUnread((prev) => !prev);\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let count = 0;\r\n    try {\r\n      if (auth) {\r\n        dispatch(setSpinner(true));\r\n\r\n        axios\r\n          .post(\"/api/v1/notification/messages\", {\r\n            data: { email: auth.user_email },\r\n          })\r\n          .then(({ data: messages }) => {\r\n            messages.data?.forEach((message) => {\r\n              if (message.read === false) {\r\n                count++;\r\n              }\r\n            });\r\n            dispatch(setNotificationCounter(count));\r\n            dispatch(setNotifications(messages.data));\r\n            dispatch(setSpinner(false));\r\n          });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  }, [listenToUnread]);\r\n\r\n  const updateRentalStatus = async (e) => {\r\n    const status = e.target.innerText === \"accept\" ? \"confirm\" : \"reject\";\r\n    try {\r\n      dispatch(setSpinner(true));\r\n\r\n      await axios.patch(\"/api/v1/rentals/status\", {\r\n        data: {\r\n          transactionId: message.transaction_id,\r\n          status,\r\n        },\r\n      });\r\n      setStatusButton(false);\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  const updateRating = async (newValue) => {\r\n    setValue(newValue);\r\n    try {\r\n      dispatch(setSpinner(true));\r\n\r\n      const { data: uniqueRental } = await axios.post(\r\n        \"/api/v1/rentals/uniquerental\",\r\n        {\r\n          id: String(message.transaction_id),\r\n        }\r\n      );\r\n      const ownerEmail = uniqueRental.data.owner_email;\r\n\r\n      const { data: user } = await axios.post(\"/api/v1/users/uniqueuser\", {\r\n        email: ownerEmail,\r\n      });\r\n\r\n      const prevRating = user.data.rating;\r\n      const prevNumberOfVotes = user.data.number_of_votes;\r\n      const newNumberOfVotes = user.data.number_of_votes + 1;\r\n      const newRating =\r\n        (prevRating * prevNumberOfVotes + value) / newNumberOfVotes;\r\n      const arrToUpdate = [\r\n        \"User\",\r\n        [\"rating\", \"number_of_votes\"],\r\n        ownerEmail,\r\n        [newRating, newNumberOfVotes],\r\n      ];\r\n\r\n      const updateUser = await axios.post(\"/api/v1/users/updateitems\", {\r\n        data: arrToUpdate,\r\n      });\r\n      dispatch(setSpinner(false));\r\n      setShowMessage(true);\r\n      console.log(updateUser);\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setShowMessage(false);\r\n    }, 4500);\r\n  }, [showMessage]);\r\n\r\n  return (\r\n    <div className=\"message-details-container-blog-card\">\r\n      <div className=\"blog-card\">\r\n        <div className=\"meta\">\r\n          <img className=\"photo\" height=\"255px\" src={messagePhoto}></img>\r\n          <div className=\"details\">\r\n            <div className=\"upper-section-message-photo\">\r\n              <div className=\"author\">\r\n                <i className=\"fas fa-user\"></i> {auth.first_name}{\" \"}\r\n                {auth.last_name}\r\n              </div>\r\n              <div className=\"date\">\r\n                <i className=\"far fa-calendar\"></i>{\" \"}\r\n                {new Date(message.updatedAt).toDateString()}\r\n              </div>\r\n            </div>\r\n            <div className=\"tags\">Regards CarBnB</div>\r\n          </div>\r\n        </div>\r\n        <div className=\"description\">\r\n          <h1>\r\n            {message.title}{\" \"}\r\n            <div\r\n              style={{\r\n                visibility:\r\n                  message.title === \"Order Finished\" && value === 0\r\n                    ? \"visible\"\r\n                    : \"hidden\",\r\n              }}\r\n              className=\"rating-panel-container\"\r\n            >\r\n              <Typography id=\"rate-owner\" component=\"legend\">\r\n                <br /> Rate Owner:\r\n              </Typography>\r\n              <Rating\r\n                id=\"stars\"\r\n                size=\"large\"\r\n                name=\"simple-controlled\"\r\n                value={value}\r\n                onChange={(event, newValue) => {\r\n                  updateRating(newValue);\r\n                }}\r\n              />\r\n            </div>\r\n          </h1>\r\n          <h2>Order Number {message.transaction_id}</h2>\r\n          <p>{message.content.slice(3, message.content.length - 4)}</p>\r\n          <div className=\"read-more\">\r\n            {statusButton && (\r\n              <div>\r\n                <a onClick={updateRentalStatus}>Accept</a> |{\" \"}\r\n                <a onClick={updateRentalStatus}>reject</a>\r\n              </div>\r\n            )}\r\n            <a className=\"read-later-hover\" onClick={updateUnRead}>\r\n              Read Later\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={`Your rating was successfully updated`}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { setSpinner } from \"../actions\";\r\n\r\nexport default function Messages({ message, messageId, setVisibility }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const updateRead = async () => {\r\n    dispatch(setSpinner(true));\r\n\r\n    try {\r\n      await axios.patch(\"/api/v1/notification/updateread\", {\r\n        data: { id: message?.id, status: \"read\" },\r\n      });\r\n      setVisibility(false);\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"message-container\">\r\n      <Link onClick={updateRead} to={`/message/${messageId}`}>\r\n        <div className={`read-${String(message?.read)}`}>\r\n          <div className=\"message-title\"> {message?.title}</div>\r\n          <div className=\"footer-message\">\r\n            <span className=\"date-span-message\">\r\n              {new Date(message?.createdAt).toDateString()}{\" \"}\r\n              {message.read ? null : <span className=\"bullet-message\">•</span>}\r\n            </span>\r\n            <span> from: {message.message_from}</span>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Messages from \"./Messages\";\r\n\r\nexport default function Notifications({ setVisibility }) {\r\n  // Redux states\r\n  const notifications = useSelector((state) => state.notifications);\r\n\r\n  return (\r\n    <div className=\"all-notifications-container\">\r\n      {notifications?.map((message, i) => (\r\n        <Messages\r\n          setVisibility={setVisibility}\r\n          message={message}\r\n          key={`message-${i}`}\r\n          messageId={i}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function OrderDetails({ order }) {\r\n  return (\r\n    <ul>\r\n      <li>Barnd: {order.brand} </li>\r\n      <li>Model: {order.model} </li>\r\n      <li>Year: {order.year} </li>\r\n      <li>Fuel: {order.fuel} </li>\r\n      <li>Gear: {order.gear} </li>\r\n      <li>Passengers: {order.passengers} </li>\r\n      <li>Start date: {new Date(order.startDate).toDateString()} </li>\r\n      <li>End date: {new Date(order.endDate).toDateString()} </li>\r\n      <li>Order status: {order.isActive} </li>\r\n      <li>Total price: {order.totalPrice} $</li>\r\n    </ul>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { setSpinner } from \"../actions\";\r\nimport OrderDetails from \"./OrderDetails\";\r\n\r\nexport default function MyOrders() {\r\n  const { type } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  //Use states\r\n  const [allOrders, setAllOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const orderOrRental = type === \"orders\" ? \"renter_email\" : \"owner_email\";\r\n    dispatch(setSpinner(true));\r\n\r\n    axios\r\n      .post(\"/api/v1/rentals/myorders\", {\r\n        data: [auth.user_email, orderOrRental],\r\n      })\r\n      .then(({ data }) => {\r\n        setAllOrders(data.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, [window.location.href]);\r\n\r\n  return (\r\n    <div className=\"my-order-page\">\r\n      {allOrders.map((order, i) => (\r\n        <div key={`order-${i}`} className=\"artboard\">\r\n          <div className=\"card\">\r\n            <div className=\"card__side card__side--back\">\r\n              <div className=\"card__cover\">\r\n                <h4 className=\"card__heading\">\r\n                  <span className=\"card__heading-span\">\r\n                    Order number: {order.transactionId}\r\n                  </span>\r\n                </h4>\r\n              </div>\r\n              <div className=\"card__details\">\r\n                <OrderDetails order={order} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card__side card__side--front\">\r\n              <div className=\"card__theme\">\r\n                <div className=\"card__theme-box\">\r\n                  <p className=\"card__title\">\r\n                    {\" \"}\r\n                    Order number: {order.transactionId}\r\n                  </p>\r\n                  <p className=\"card__subject\">\r\n                    {type === \"rentals\" ? \"Order from you\" : \"Cars you ordered\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setAuthOut, setSpinner } from \"../actions\";\r\nimport Name from \"@material-ui/core/Avatar\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Avatar({ setVisibility, setAnchorEl, anchorEl }) {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    if (auth) {\r\n      setAnchorEl(event.currentTarget);\r\n      setVisibility(false);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const logoutHandler = async () => {\r\n    dispatch(setSpinner(true));\r\n    try {\r\n      await axios.post(\"/api/v1/users/logout\");\r\n      dispatch(setAuthOut());\r\n      dispatch(setSpinner(false));\r\n    } catch (error) {\r\n      console.log(\"error logout\");\r\n      dispatch(setSpinner(false));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Avatar\">\r\n      <Button\r\n        aria-controls=\"fade-menu\"\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <Name>\r\n          {auth ? auth.first_name.slice(0, 1) : <AccountCircleIcon />}\r\n        </Name>\r\n      </Button>\r\n      <Menu\r\n        id=\"fade-menu\"\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n        TransitionComponent={Fade}\r\n        disableScrollLock={true}\r\n      >\r\n        <Link exact={\"true\"} to=\"/profile\" className=\"menu-drop-down\">\r\n          <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n        </Link>\r\n        <Link\r\n          exact={\"true\"}\r\n          to=\"/allmyorders/orders\"\r\n          className=\"menu-drop-down\"\r\n        >\r\n          <MenuItem onClick={handleClose}>My orders</MenuItem>\r\n        </Link>\r\n        <Link\r\n          exact={\"true\"}\r\n          to=\"/allmyorders/rentals\"\r\n          className=\"menu-drop-down\"\r\n        >\r\n          <MenuItem onClick={handleClose}>My rentals</MenuItem>\r\n        </Link>\r\n        <Link exact={\"true\"} to=\"/favorite\" className=\"menu-drop-down\">\r\n          <MenuItem onClick={handleClose}>My favorite</MenuItem>\r\n        </Link>\r\n        <Link\r\n          onClick={logoutHandler}\r\n          exact={\"true\"}\r\n          to=\"/\"\r\n          className=\"menu-drop-down\"\r\n        >\r\n          <MenuItem onClick={handleClose}>Logout</MenuItem>\r\n        </Link>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","export default \"data:image/png;base64,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\"","import { Snackbar } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { DateRangePicker } from \"react-dates\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport CarGallery from \"./CarGallery\";\r\nimport defaultPhoto from \"../photos/no-car-photo.png\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport seatPassenger from \"@iconify-icons/mdi/seat-passenger\";\r\nimport \"react-dates/initialize\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport \"../react_dates_overrides.css\";\r\nimport { setSpinner } from \"../actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport default function FavoriteDetails({ car }) {\r\n  const dispatch = useDispatch();\r\n\r\n  // Use States\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [focusedInput, setFocusedInput] = useState(null);\r\n  const [dates, setDates] = useState();\r\n  const [redirect, setRedirect] = useState();\r\n  const [photosArray, setPhotosArray] = useState([]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    const photosData = [\"Photo\", [\"car_id\"], [car.car_id]];\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", { data: photosData })\r\n      .then(({ data }) => {\r\n        setPhotosArray(data.data);\r\n        console.log(data.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, []);\r\n\r\n  const checkDatesValue = async () => {\r\n    if (dates) {\r\n      setRedirect(true);\r\n    } else {\r\n      setRedirect(\"snack\");\r\n      setTimeout(() => {\r\n        setRedirect();\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  // Handle dates on changes\r\n  const handleDatesChange = ({ startDate, endDate }) => {\r\n    const newStart = new Date(startDate);\r\n    const newEnd = new Date(endDate);\r\n    setStartDate(startDate);\r\n    setEndDate(endDate);\r\n    const tempDates = { startDate: newStart, endDate: newEnd };\r\n    setDates(tempDates);\r\n  };\r\n\r\n  return (\r\n    <div className=\"ft-recipe\">\r\n      <div className=\"ft-recipe__thumb\">\r\n        {photosArray.length > 0 ? (\r\n          <CarGallery photosArray={photosArray} location={\"result\"} />\r\n        ) : (\r\n          <img\r\n            alt=\"car-photo\"\r\n            className=\"no-photos-replacement\"\r\n            src={defaultPhoto}\r\n          />\r\n        )}\r\n      </div>\r\n      <div className=\"ft-recipe__content\">\r\n        <header className=\"content__header\">\r\n          <div className=\"row-wrapper\">\r\n            <h2 className=\"recipe-title\">\r\n              {car.brand}, {car.model}\r\n            </h2>\r\n            <div className=\"user-rating\" />\r\n          </div>\r\n          <ul className=\"recipe-details\">\r\n            <li className=\"recipe-details-item time\">\r\n              <i className=\"fas fa-tools\"></i>\r\n              <span className=\"value\">{car.year}</span>\r\n              <span className=\"title\">Manufacture year</span>\r\n            </li>\r\n            <li className=\"recipe-details-item ingredients\">\r\n              <i className=\"fas fa-dollar-sign ion\"></i>\r\n              <span className=\"value\">{car.price_per_day}</span>\r\n              <span className=\"title\">Per day</span>\r\n            </li>\r\n            <li className=\"recipe-details-item servings\">\r\n              <Icon icon={seatPassenger} className=\"ion\" />\r\n              <span className=\"value\">{car.passengers}</span>\r\n              <span className=\"title\">Number of seats</span>\r\n            </li>\r\n          </ul>\r\n        </header>\r\n        <div className=\"description\">\r\n          <DateRangePicker\r\n            startDate={startDate}\r\n            startDatePlaceholderText=\"Start date:\"\r\n            startDateId=\"tata-start-date\"\r\n            endDate={endDate}\r\n            endDatePlaceholderText=\"End date:\"\r\n            endDateId=\"tata-end-date\"\r\n            onDatesChange={handleDatesChange}\r\n            focusedInput={focusedInput}\r\n            onFocusChange={(focusedInput) => setFocusedInput(focusedInput)}\r\n            small={true}\r\n          />\r\n        </div>\r\n        <footer className=\"content__footer\">\r\n          <button onClick={checkDatesValue}>Book this car</button>\r\n        </footer>\r\n      </div>\r\n      {redirect === true && (\r\n        <Redirect\r\n          push\r\n          to={{\r\n            pathname: `/favorite/${car.car_id}`,\r\n            state: { car, dates },\r\n          }}\r\n        />\r\n      )}\r\n      {redirect === \"snack\" && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={\"You must choose dates\"}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setSpinner } from \"../actions\";\r\nimport FavoriteDetails from \"./FavoriteDetails\";\r\n\r\nexport default function MyFavorite() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Redux states\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  // Use State\r\n  const [myFavorite, setMyFavorite] = useState();\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    axios\r\n      .post(\"/api/v1/favorite/all\", { userEmail: auth.user_email })\r\n      .then(({ data: favorite }) => {\r\n        setMyFavorite(favorite.data);\r\n        console.log(favorite.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"car-favorite-page\">\r\n      <div className=\"favorite-car-list\">\r\n        {myFavorite?.map((car, i) => (\r\n          <FavoriteDetails car={car} key={`car-${i}`} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Redirect, useLocation } from \"react-router-dom\";\r\nimport {\r\n  setPhotosArray,\r\n  setShowLogin,\r\n  setCarToRental,\r\n  setSpinner,\r\n} from \"../actions\";\r\nimport { Icon } from \"@iconify/react\";\r\nimport seatPassenger from \"@iconify-icons/mdi/seat-passenger\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport Cards from \"react-credit-cards\";\r\nimport { setRentalDetails, setAuthLicense } from \"../actions\";\r\nimport \"react-credit-cards/lib/styles-compiled.css\";\r\n\r\nexport default function CarDetails() {\r\n  const dispatch = useDispatch();\r\n  const { car, dates } = useLocation().state;\r\n\r\n  // Use states\r\n  const [redirect, setRedirect] = useState();\r\n  const [showMessage, setShowMessage] = useState(false);\r\n  const [isTakenMessage, setIsTakenMessage] = useState(false);\r\n  const [image, setImage] = useState([]);\r\n  const [data, setData] = useState({\r\n    cvc: \"\",\r\n    expiry: \"\",\r\n    name: \"\",\r\n    number: \"\",\r\n  });\r\n\r\n  // Redux States\r\n  const photosArray = useSelector((state) => state.photosArray);\r\n  const auth = useSelector((state) => state.auth);\r\n\r\n  //bringing the photos of the corresponding car, and emptying it on component down\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n\r\n    const photosData = [\"Photo\", [\"car_id\"], [car.car_id]];\r\n    axios\r\n      .post(\"/api/v1/search/getitem\", { data: photosData })\r\n      .then(({ data }) => {\r\n        dispatch(setPhotosArray(data.data));\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        dispatch(setSpinner(false));\r\n      });\r\n    return () => {\r\n      dispatch(setPhotosArray([]));\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (auth) dispatch(setShowLogin(false));\r\n  }, [auth]);\r\n\r\n  useEffect(() => {\r\n    if (showMessage) {\r\n      setTimeout(() => {\r\n        setShowMessage(false);\r\n      }, 4500);\r\n    }\r\n  }, [showMessage]);\r\n\r\n  // Handle credit Card Details\r\n  const handleInputChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  // Function for get numbers of days rental\r\n  const getNumberOfRentalDays = () => {\r\n    const numberOfDaysToRent = Math.round(\r\n      (new Date(dates.endDate) - new Date(dates.startDate)) /\r\n        (1000 * 60 * 60 * 24)\r\n    );\r\n    return numberOfDaysToRent;\r\n  };\r\n\r\n  // Function for calculate price for rental\r\n  const calculateDiscount = () => {\r\n    const pricePerDay = car.price_per_day;\r\n    const discountAboveWeek = car.discount_for_week;\r\n    const discountAboveMonth = car.discount_for_month;\r\n    const numberOfDaysToRent = getNumberOfRentalDays();\r\n    let newPrice = 0;\r\n\r\n    if (numberOfDaysToRent < 7) {\r\n      newPrice = pricePerDay * numberOfDaysToRent;\r\n      return { price: newPrice };\r\n    }\r\n\r\n    if (numberOfDaysToRent >= 30) {\r\n      const percent = discountAboveMonth.slice(0, -1);\r\n      newPrice =\r\n        (pricePerDay - (percent / 100) * pricePerDay) * numberOfDaysToRent;\r\n      return { price: newPrice, percent: `${percent}%`, days: \"month\" };\r\n    }\r\n    if (numberOfDaysToRent >= 7 && numberOfDaysToRent < 30) {\r\n      const percent = discountAboveWeek.slice(0, -1);\r\n      newPrice =\r\n        (pricePerDay - (percent / 100) * pricePerDay) * numberOfDaysToRent;\r\n      return { price: newPrice, percent: `${percent}%`, days: \"week\" };\r\n    }\r\n  };\r\n\r\n  const makeOrder = async (e) => {\r\n    const data = {\r\n      carId: car.car_id,\r\n      ownerEmail: car.owner_email,\r\n      renterEmail: auth.user_email,\r\n      startDate: dates.startDate,\r\n      endDate: dates.endDate,\r\n      totalPrice: calculateDiscount().price,\r\n    };\r\n    dispatch(setCarToRental(data));\r\n    try {\r\n      if (auth) {\r\n        if (\r\n          (auth.license === null || auth.license === \"\") &&\r\n          image.length === 0\r\n        ) {\r\n          setIsTakenMessage(`You must Upload license first`);\r\n          setTimeout(() => {\r\n            setIsTakenMessage(false);\r\n          }, 3500);\r\n          return;\r\n        }\r\n        const rental = await axios.post(\"/api/v1/rentals/new\", {\r\n          data: {\r\n            rentalDetails: data,\r\n            userDetails: auth,\r\n          },\r\n        });\r\n\r\n        // If order succeed redirect to summery\r\n        if (rental.status === 201) {\r\n          dispatch(setRentalDetails(rental.data.data));\r\n          setRedirect(\"/summery\");\r\n        }\r\n      } else {\r\n        dispatch(setShowLogin(true));\r\n        setShowMessage(true);\r\n        console.log(\"must log in first!\");\r\n      }\r\n    } catch (error) {\r\n      // If in the middle of the order, someone else took this car\r\n      if (error.response.status === 400) {\r\n        setIsTakenMessage(\r\n          `Oops.. someone just pick the car. \\nyou are redirect to your favorite`\r\n        );\r\n        setTimeout(() => {\r\n          setRedirect(\"/favorite\");\r\n          setIsTakenMessage(false);\r\n        }, 3500);\r\n      }\r\n      console.log(error);\r\n    }\r\n    try {\r\n      if (auth.license === null) {\r\n        const arr = [\"User\", [\"license\"], auth.user_email, [image]];\r\n        await axios.post(\"/api/v1/users/updateitems\", { data: arr });\r\n\r\n        dispatch(setAuthLicense(image));\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const imageToBinary = async (e) => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      const data = await reader.result.split(\",\")[1];\r\n      setImage(data);\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-credit-and-summary\">\r\n      <div className=\"window\">\r\n        <div className=\"order-info\">\r\n          <div className=\"order-info-content\">\r\n            <div className=\"upper-info\">\r\n              <h2>Order Summary</h2>\r\n              <div className=\"line\" />\r\n              {new Date(dates.startDate).toDateString()} -{\" \"}\r\n              {new Date(dates.endDate).toDateString()}\r\n            </div>\r\n            <div className=\"lower-info\">\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-car\"></i>\r\n                      <span className=\"thin\"> Car: </span> {car.brand},{\" \"}\r\n                      {car.model}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"far fa-clock\"></i>\r\n                      <span className=\"thin\"> Year: </span>\r\n                      {car.year}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-gas-pump\"></i>\r\n                      <span className=\"thin\"> Fuel: </span>\r\n                      {car.fuel}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <i className=\"fas fa-cogs\"></i>\r\n                      <span className=\"thin\"> Gear: </span>\r\n                      {car.gear}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n              <table className=\"order-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <Icon icon={seatPassenger} />\r\n                      <span className=\"thin\"> Passengers: </span>\r\n                      {car.passengers}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <div className=\"line\" />\r\n            </div>\r\n            <div className=\"total\">\r\n              <span style={{ float: \"left\" }}>\r\n                <div className=\"thin dense\">Initial Price:</div>\r\n                {calculateDiscount().percent && (\r\n                  <div className=\"thin dense\">{`discount for ${\r\n                    calculateDiscount().days\r\n                  }:`}</div>\r\n                )}\r\n                TOTAL\r\n              </span>\r\n              <span style={{ float: \"right\", textAlign: \"right\" }}>\r\n                <div className=\"thin dense\">{`${getNumberOfRentalDays()} x\r\n                   ${car.price_per_day} =\r\n                   ${getNumberOfRentalDays() * car.price_per_day} $`}</div>\r\n                {calculateDiscount().percent && (\r\n                  <div className=\"thin dense\">{`${\r\n                    calculateDiscount().percent\r\n                  } , - ${Number(\r\n                    getNumberOfRentalDays() * car.price_per_day -\r\n                      calculateDiscount().price\r\n                  ).toFixed(2)} $`}</div>\r\n                )}\r\n                {Number(calculateDiscount().price).toFixed(2)}$\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"credit-info\">\r\n          <div className=\"credit-info-content\">\r\n            <Cards\r\n              cvc={data.cvc}\r\n              expiry={data.expiry}\r\n              focus={data.focus}\r\n              name={data.name}\r\n              number={data.number}\r\n            />\r\n            Card Number\r\n            <input\r\n              className=\"input-field\"\r\n              type=\"text\"\r\n              name=\"number\"\r\n              placeholder=\"Card Number\"\r\n              onChange={handleInputChange}\r\n              maxLength=\"16\"\r\n            />\r\n            Card Holder\r\n            <input\r\n              className=\"input-field\"\r\n              type=\"text\"\r\n              name=\"name\"\r\n              placeholder=\"Your Name\"\r\n              onChange={handleInputChange}\r\n            />\r\n            <table className=\"half-input-table\">\r\n              <tbody>\r\n                <tr>\r\n                  <td>\r\n                    Expires\r\n                    <input\r\n                      className=\"input-field\"\r\n                      type=\"date\"\r\n                      name=\"expiry\"\r\n                      placeholder=\"Expire Date\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    CVC\r\n                    <input\r\n                      className=\"input-field\"\r\n                      type=\"number\"\r\n                      name=\"cvc\"\r\n                      placeholder=\"CVC\"\r\n                      onChange={handleInputChange}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n            {auth.license === null && (\r\n              <div>\r\n                <label>Upload license</label>\r\n                <input\r\n                  className=\"upload-photo-rental\"\r\n                  type=\"file\"\r\n                  onChange={(e) => imageToBinary(e)}\r\n                  placeholder=\"upload license\"\r\n                ></input>\r\n              </div>\r\n            )}\r\n            <button className=\"pay-btn\" onClick={makeOrder}>\r\n              Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={\"In our terms, you must login first\"}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      {isTakenMessage && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={isTakenMessage}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      {redirect && <Redirect push to={redirect} />}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/top-owner-car.84754b42.jpeg\";","export default __webpack_public_path__ + \"static/media/city1.f861a581.jpeg\";","export default __webpack_public_path__ + \"static/media/city2.14657faf.jpeg\";","export default __webpack_public_path__ + \"static/media/city3.257f857a.jpeg\";","export default __webpack_public_path__ + \"static/media/city4.40d89517.jpeg\";","export default __webpack_public_path__ + \"static/media/city5.e6a90d09.jpeg\";","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport FavoriteDetails from \"./FavoriteDetails\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport photoOwnerCar from \"../photos/top-owner-car.jpeg\";\r\nimport { setSpinner } from \"../actions\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport city1 from \"../photos/city1.jpeg\";\r\nimport city2 from \"../photos/city2.jpeg\";\r\nimport city3 from \"../photos/city3.jpeg\";\r\nimport city4 from \"../photos/city4.jpeg\";\r\nimport city5 from \"../photos/city5.jpeg\";\r\nexport default function Tops() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { type } = useParams();\r\n  const stamMishpat = `located in the unique landscape of Israel, and offers a special opportunity to travel, enjoy and absorb  the local culture.`;\r\n  const sentence1 = `\" I enjoy being a part of carBnB host's team. there is nothing that makes me feel better then seeing a satisfied guest. \"`;\r\n  const sentence2 = `\" Since my family and i became car hosts, we got the opportunity to benefit from extra time together, while helping guests in our city to find a good, comfortable and cheap alternative to car rentals companies. \"`;\r\n  const sentence3 = `\" I invite all the visitors of my city to join many other  guests that already enjoyed driving my cars through the wonderful local landscape. \"`;\r\n  const sentence4 = `\" CarBnB gave me the possibility to benefit from my unused cars, and help others in the same time. \"`;\r\n  const sentence5 = `\" With the great experience of carBnB, i got the opportunity to offer my car to whoever needs it for a great deal and make everyone satisfied. \"`;\r\n\r\n  // Use State\r\n  const [top, setTop] = useState();\r\n  const [photoOfCitiesArr, setPhotoOfCitiesArr] = useState([\r\n    city1,\r\n    city2,\r\n    city3,\r\n    city4,\r\n    city5,\r\n  ]);\r\n  const [randomSentenceForUsersArr, setRandomSentenceForUsersArr] = useState([\r\n    sentence1,\r\n    sentence2,\r\n    sentence3,\r\n    sentence4,\r\n    sentence5,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    dispatch(setSpinner(true));\r\n    axios\r\n      .get(`/api/v1/top/${type}`)\r\n      .then(({ data: top }) => {\r\n        setTop(top.data);\r\n        console.log(top.data);\r\n        dispatch(setSpinner(false));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n        dispatch(setSpinner(false));\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    for (let i = photoOfCitiesArr.length - 1; i > 0; i--) {\r\n      let rand = Math.floor(Math.random() * (i + 1));\r\n      [photoOfCitiesArr[i], photoOfCitiesArr[rand]] = [\r\n        photoOfCitiesArr[rand],\r\n        photoOfCitiesArr[i],\r\n      ];\r\n      [randomSentenceForUsersArr[i], randomSentenceForUsersArr[rand]] = [\r\n        randomSentenceForUsersArr[rand],\r\n        randomSentenceForUsersArr[i],\r\n      ];\r\n    }\r\n    setRandomSentenceForUsersArr(randomSentenceForUsersArr);\r\n    setPhotoOfCitiesArr(photoOfCitiesArr);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {type === \"cars\" ? (\r\n        <div className=\"car-favorite-page\">\r\n          <div className=\"favorite-car-list\">\r\n            {top?.map((car, i) => (\r\n              <FavoriteDetails car={car} key={`car-${i}`} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : type === \"locations\" ? (\r\n        <div className=\"top-city-div\">\r\n          {top?.map((city, i) => (\r\n            <section key={`city-${i}`} className={`city-section ${i}`}>\r\n              <div>\r\n                <link\r\n                  rel=\"stylesheet\"\r\n                  href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n                />\r\n                <div id=\"container\">\r\n                  <div className=\"product-details product-details-city\">\r\n                    <h1>{city.city}</h1>\r\n                    <p className=\"information top-city-information\">\r\n                      {city.description\r\n                        ? city.description\r\n                        : `${\r\n                            city.city.substring(0, 1).toUpperCase() +\r\n                            city.city.substring(1).toLowerCase()\r\n                          } is ${stamMishpat}`}\r\n                    </p>\r\n                    <Link\r\n                      push={true}\r\n                      to={{\r\n                        pathname: `/top/city/${city.city}`,\r\n                        state: { city },\r\n                      }}\r\n                    >\r\n                      <div className=\"control\">\r\n                        <button className=\"btn\">\r\n                          <span className=\"price\">🚗</span>\r\n                          <span className=\"shopping-cart\">\r\n                            <i\r\n                              className=\"fa fa-shopping-cart\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                          </span>\r\n                          <span className=\"buy\">Cars Collection</span>\r\n                        </button>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"product-image\">\r\n                    <img src={photoOfCitiesArr[i]} alt=\"\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"top-owner-div\">\r\n          {top?.map((owner, i) => (\r\n            <section key={`owner-${i}`} className={`owner-section ${i}`}>\r\n              <div>\r\n                <link\r\n                  rel=\"stylesheet\"\r\n                  href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"\r\n                />\r\n                <div id=\"container\">\r\n                  <div className=\"product-details\">\r\n                    <h1>{owner.first_name + \" \" + owner.last_name}</h1>\r\n                    <span className=\"hint-star star\">\r\n                      <i\r\n                        className={`fa fa-star${owner.rating >= 1 ? \"\" : \"-o\"}`}\r\n                        aria-hidden={true}\r\n                      />\r\n                      <i\r\n                        className={`fa fa-star${owner.rating >= 2 ? \"\" : \"-o\"}`}\r\n                        aria-hidden={true}\r\n                      />\r\n                      <i\r\n                        className={`fa fa-star${owner.rating >= 3 ? \"\" : \"-o\"}`}\r\n                        aria-hidden={true}\r\n                      />\r\n                      <i\r\n                        className={`fa fa-star${owner.rating >= 4 ? \"\" : \"-o\"}`}\r\n                        aria-hidden={true}\r\n                      />\r\n                      <i\r\n                        className={`fa fa-star${owner.rating >= 5 ? \"\" : \"-o\"}`}\r\n                        aria-hidden={true}\r\n                      />\r\n                    </span>\r\n                    <p className=\"information top-car-information\">\r\n                      {randomSentenceForUsersArr[i]}\r\n                    </p>\r\n                    <Link\r\n                      push={true}\r\n                      to={{\r\n                        pathname: `/top/ownercars/${owner.first_name}`,\r\n                        state: { owner },\r\n                      }}\r\n                    >\r\n                      <div className=\"control\">\r\n                        <button className=\"btn\">\r\n                          <span className=\"price\">🚗</span>\r\n                          <span className=\"shopping-cart\">\r\n                            <i\r\n                              className=\"fa fa-shopping-cart\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                          </span>\r\n                          <span className=\"buy\">Cars Collection</span>\r\n                        </button>\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"product-image\">\r\n                    <img src={photoOwnerCar} alt=\"\" />\r\n                    <div className=\"info\">\r\n                      <h2> Description</h2>\r\n                      <ul>\r\n                        <li>City of hosting {owner.address}</li>\r\n                        <li>\r\n                          Joined us on{\" \"}\r\n                          {new Date(owner.createdAt).toDateString()}\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport { setSpinner } from \"../actions\";\r\nimport FavoriteDetails from \"./FavoriteDetails\";\r\n\r\nexport default function CarsBySelection() {\r\n  const [ownerCars, setOwnerCars] = useState();\r\n  const owner = useLocation()?.state?.owner;\r\n  const city = useLocation()?.state?.city;\r\n  const { brand } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (owner) {\r\n      dispatch(setSpinner(true));\r\n      axios\r\n        .post(\"/api/v1/search/getitem\", {\r\n          data: [\"Car\", [\"owner_email\"], [owner.user_email]],\r\n        })\r\n        .then(({ data: cars }) => {\r\n          setOwnerCars(cars.data);\r\n          dispatch(setSpinner(false));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          dispatch(setSpinner(false));\r\n        });\r\n    }\r\n    if (city) {\r\n      dispatch(setSpinner(true));\r\n\r\n      axios\r\n        .get(`/api/v1/cars/bycity/${city.city}`)\r\n        .then(({ data: cars }) => {\r\n          setOwnerCars(cars.data);\r\n          dispatch(setSpinner(false));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          dispatch(setSpinner(false));\r\n        });\r\n    }\r\n    if (brand) {\r\n      dispatch(setSpinner(true));\r\n      axios\r\n        .get(`/api/v1/top/brand/${brand}`)\r\n        .then(({ data: cars }) => {\r\n          setOwnerCars(cars.data);\r\n          dispatch(setSpinner(false));\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          dispatch(setSpinner(false));\r\n        });\r\n    }\r\n  }, [owner, city, brand]);\r\n\r\n  return (\r\n    <div className=\"top-page-car-results\">\r\n      <div className=\"top-container-car-results\">\r\n        {ownerCars?.map((car, i) => (\r\n          <div className=\"top-owner-car\">\r\n            <FavoriteDetails car={car} key={`car-${i}`} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Snackbar } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { setShowLogin, setSpinner } from \"../actions\";\r\n\r\nexport default function ResetPassword() {\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const newPasswordRef = useRef();\r\n  const confirmNewPasswordRef = useRef();\r\n  const resetCodeRef = useRef();\r\n\r\n  // Use State\r\n  const [sneck, setSneck] = useState(false);\r\n  const [redirect, setRedirect] = useState();\r\n\r\n  const resetPasswordHandler = async () => {\r\n    try {\r\n      if (\r\n        !newPasswordRef.current.value ||\r\n        !confirmNewPasswordRef.current.value ||\r\n        !resetCodeRef.current.value\r\n      )\r\n        return alert(\"must fill all fields\");\r\n      if (newPasswordRef.current.value !== confirmNewPasswordRef.current.value)\r\n        return alert(\"Password does not match\");\r\n\r\n      dispatch(setSpinner(true));\r\n      await axios.put(`/api/v1/auth/resetpassword/${id}`, {\r\n        resetCode: resetCodeRef.current.value,\r\n        newPassword: newPasswordRef.current.value,\r\n      });\r\n      dispatch(setSpinner(false));\r\n      setSneck(\r\n        \"Your password reset was successful you will redirect to login page\"\r\n      );\r\n      setTimeout(() => {\r\n        setSneck(false);\r\n        setRedirect(true);\r\n        setShowLogin(true);\r\n      }, 2500);\r\n    } catch (err) {\r\n      dispatch(setSpinner(false));\r\n      setSneck(err.response.data.message);\r\n      setTimeout(() => {\r\n        setSneck(false);\r\n      }, 3500);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"page-reset-password\">\r\n      <div className=\"container-reset-password\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-4\">\r\n            <label>New Password</label>\r\n            <div className=\"form-group pass_show\">\r\n              <input\r\n                ref={newPasswordRef}\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"New Password\"\r\n              />\r\n              <button\r\n                onClick={() => {\r\n                  newPasswordRef.current.type === \"text\"\r\n                    ? (newPasswordRef.current.type = \"password\")\r\n                    : (newPasswordRef.current.type = \"text\");\r\n                }}\r\n              >\r\n                <i className=\"far fa-eye\"></i>\r\n              </button>\r\n            </div>\r\n            <label>Confirm Password</label>\r\n            <div className=\"form-group pass_show\">\r\n              <input\r\n                ref={confirmNewPasswordRef}\r\n                type=\"password\"\r\n                className=\"form-control\"\r\n                placeholder=\"Confirm Password\"\r\n              />\r\n              <button\r\n                onClick={() => {\r\n                  confirmNewPasswordRef.current.type === \"text\"\r\n                    ? (confirmNewPasswordRef.current.type = \"password\")\r\n                    : (confirmNewPasswordRef.current.type = \"text\");\r\n                }}\r\n              >\r\n                <i className=\"far fa-eye\"></i>\r\n              </button>\r\n            </div>\r\n            <label>Confirm Reset Code from email</label>\r\n            <div className=\"form-group\">\r\n              <input\r\n                ref={confirmNewPasswordRef}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Reset Code\"\r\n                ref={resetCodeRef}\r\n              />\r\n            </div>\r\n            <button onClick={resetPasswordHandler}>Reset Password</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {sneck && (\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={true}\r\n          message={sneck}\r\n          key={\"top\" + \"center\"}\r\n        />\r\n      )}\r\n      {redirect && <Redirect push={true} to=\"/\" />}\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Home from \"./components/Home\";\r\nimport Register from \"./components/Register\";\r\nimport Profile from \"./components/Profile\";\r\nimport NotFound from \"./components/NotFound\";\r\nimport AddNewCar from \"./components/AddNewCar\";\r\nimport SearchBar from \"./components/SearchBar\";\r\nimport Results from \"./components/Results\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport CarDetails from \"./components/CarDetails\";\r\nimport OrderSummery from \"./components/OrderSummery\";\r\nimport MessageDetails from \"./components/MessageDetails\";\r\nimport Notifications from \"./components/Notifications\";\r\nimport MyOrders from \"./components/MyOrders\";\r\nimport OrderDetails from \"./components/OrderDetails\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport PromptLogin from \"./components/PromptLogin\";\r\nimport Avatar from \"./components/Avatar\";\r\nimport logo from \"./photos/logo-black.png\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MyFavorite from \"./components/MyFavorite\";\r\nimport CarDetailsFromFavorite from \"./components/CarDetailsFromFavorite\";\r\nimport Tops from \"./components/Tops\";\r\nimport CarsBySelection from \"./components/TopCars\";\r\nimport ResetPassword from \"./components/ResetPassword\";\r\nimport {\r\n  setAllCarsApi,\r\n  setAuthOut,\r\n  setNotificationCounter,\r\n  setNotifications,\r\n  setShowLogin,\r\n} from \"./actions\";\r\nimport {\r\n  BrowserRouter,\r\n  Route,\r\n  Switch,\r\n  NavLink,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n\r\n  // Global API URL.\r\n  const apiCars = \"https://vpic.nhtsa.dot.gov/api\";\r\n\r\n  // Redux state\r\n  const notificationCounter = useSelector((state) => state.notificationCounter);\r\n  const auth = useSelector((state) => state.auth);\r\n  const showLogin = useSelector((state) => state.showLogin);\r\n  const spinner = useSelector((state) => state.spinner);\r\n\r\n  // Use state\r\n  const [visibility, setVisibility] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [needToLogin, setNeedToLogin] = useState(false);\r\n\r\n  // Get all cars brand from API.\r\n  useEffect(() => {\r\n    dispatch(setShowLogin(false));\r\n    axios\r\n      .get(apiCars + \"/vehicles/GetMakesForVehicleType/car?format=json\")\r\n      .then(({ data }) => {\r\n        console.log(data);\r\n        dispatch(setAllCarsApi(data.Results));\r\n      });\r\n  }, []);\r\n\r\n  const handleVisibility = () => {\r\n    setVisibility((prev) => !prev);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let count = 0;\r\n    if (auth) {\r\n      axios\r\n        .post(\"/api/v1/notification/messages\", {\r\n          data: { email: auth.user_email },\r\n        })\r\n        .then(({ data: messages }) => {\r\n          messages.data?.forEach((message) => {\r\n            if (message.read === false) {\r\n              count++;\r\n            }\r\n          });\r\n          dispatch(setNotificationCounter(count));\r\n          dispatch(setNotifications(messages.data));\r\n        })\r\n        .catch((err) => {\r\n          if (err.response.status === 403) {\r\n            dispatch(setAuthOut());\r\n            setNeedToLogin(true);\r\n            setTimeout(() => {\r\n              setNeedToLogin(false);\r\n            }, 4500);\r\n          }\r\n        });\r\n    }\r\n  }, [[], auth, visibility]);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <NavLink className=\"navlink\" id=\"navbar-logo\" exact to=\"/\">\r\n          <img src={logo} alt=\"logo\" />\r\n        </NavLink>\r\n        <NavLink\r\n          className=\"navlink add-car-btn\"\r\n          activeStyle={{ color: \"navy\" }}\r\n          to={auth && \"/addnewcar\"}\r\n          onClick={() => {\r\n            !auth && dispatch(setShowLogin(true));\r\n          }}\r\n        >\r\n          Rent Your Car\r\n        </NavLink>\r\n        {auth ? (\r\n          <div className=\"navlink messages\">\r\n            <Badge badgeContent={notificationCounter} color=\"secondary\">\r\n              <NotificationsIcon onClick={handleVisibility} />\r\n              <div className={`tool-tip-text ${visibility}`}>\r\n                <Notifications setVisibility={setVisibility} />\r\n              </div>\r\n            </Badge>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"navlink login-btn\"\r\n            onClick={() => {\r\n              dispatch(setShowLogin(true));\r\n            }}\r\n          >\r\n            Login\r\n          </div>\r\n        )}\r\n\r\n        {needToLogin && (\r\n          <Snackbar\r\n            anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n            open={true}\r\n            message=\"your time expired, please login again\"\r\n            key={\"top\" + \"center\"}\r\n          />\r\n        )}\r\n\r\n        <Avatar\r\n          anchorEl={anchorEl}\r\n          setAnchorEl={setAnchorEl}\r\n          setVisibility={setVisibility}\r\n        />\r\n        {spinner && (\r\n          <div className=\"spinner\">\r\n            <div className=\"sk-folding-cube\">\r\n              <div className=\"sk-cube1 sk-cube\"></div>\r\n              <div className=\"sk-cube2 sk-cube\"></div>\r\n              <div className=\"sk-cube4 sk-cube\"></div>\r\n              <div className=\"sk-cube3 sk-cube\"></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showLogin && <PromptLogin />}\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <PromptLogin />\r\n          </Route>\r\n          <Route exact path=\"/register\">\r\n            <Register />\r\n          </Route>\r\n\r\n          <Route exact path=\"/addnewcar\">\r\n            <AddNewCar />\r\n          </Route>\r\n\r\n          {auth && (\r\n            <Route exact path=\"/profile\">\r\n              <Profile />\r\n            </Route>\r\n          )}\r\n          <Route exact path=\"/searchbar\">\r\n            <SearchBar />\r\n          </Route>\r\n          <Route exact path=\"/results\">\r\n            <Results />\r\n          </Route>\r\n          <Route exact path=\"/summery\">\r\n            <OrderSummery />\r\n          </Route>\r\n          <Route exact path=\"/favorite\">\r\n            <MyFavorite />\r\n          </Route>\r\n          {auth && (\r\n            <Route exact path=\"/notifications\">\r\n              <Notifications />\r\n            </Route>\r\n          )}\r\n          <Route exact path=\"/result/:resultId\" component={CarDetails} />\r\n          <Route\r\n            exact\r\n            path=\"/favorite/:carId\"\r\n            component={CarDetailsFromFavorite}\r\n          />\r\n          <Route exact path=\"/message/:messageId\" component={MessageDetails} />\r\n          <Route exact path=\"/allmyorders/:type\" component={MyOrders} />\r\n          <Route exact path=\"/order/:orderId\" component={OrderDetails} />\r\n          <Route exact path=\"/top/:type\" component={Tops} />\r\n          <Route exact path=\"/resetpassword/:id\" component={ResetPassword} />\r\n          <Route\r\n            exact\r\n            path=\"/top/ownercars/:ownername\"\r\n            component={CarsBySelection}\r\n          />\r\n          <Route exact path=\"/top/city/:name\" component={CarsBySelection} />\r\n          <Route exact path=\"/top/car/:brand\" component={CarsBySelection} />\r\n          <Route path=\"/\" component={NotFound} />\r\n        </Switch>\r\n        {needToLogin && <Redirect push to=\"/\" />}\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport { carsReducer } from \"./cars\";\r\nimport { allCarsApiReducer } from \"./carsApi\";\r\nimport { authReducer } from \"./auth\";\r\nimport { availableCarsReducer } from \"./availableCars\";\r\nimport { allModelsApiReducer } from \"./modelsApi\";\r\nimport { yearFilterReducer } from \"./yearsFilter\";\r\nimport { priceFilterReducer } from \"./priceFilter\";\r\nimport { ratingFilterReducer } from \"./ratingFilter\";\r\nimport { filteredCarsReducer } from \"./filteredCars\";\r\nimport { initialSearchReducer } from \"./initialSearch\";\r\nimport { onLoginReducer } from \"./onLoginPage\";\r\nimport { promptOrNormalReducer } from \"./promptOrNormal\";\r\nimport { rentalDetailsReducer } from \"./rentalDetails\";\r\nimport { notificationsReducer } from \"./notifications\";\r\nimport { notFoundMessageReducer } from \"./notFoundMessage\";\r\nimport { notificationCounterReducer } from \"./notificationCounter\";\r\nimport { photosArrayReducer } from \"./photosArray\";\r\nimport { showLoginReducer } from \"./showLogin\";\r\nimport { carToRentalReducer } from \"./carToRental\";\r\nimport { allCitiesApiReducer } from \"./allCitiesApi\";\r\nimport { spinnerReducer } from \"./spinner\";\r\n\r\nconst allReducers = combineReducers({\r\n  allCars: carsReducer,\r\n  allCarsApi: allCarsApiReducer,\r\n  allModelsApi: allModelsApiReducer,\r\n  auth: authReducer,\r\n  availableCars: availableCarsReducer,\r\n  yearsFilter: yearFilterReducer,\r\n  priceFilter: priceFilterReducer,\r\n  ratingFilter: ratingFilterReducer,\r\n  filteredCars: filteredCarsReducer,\r\n  initialSearch: initialSearchReducer,\r\n  isLoginPage: onLoginReducer,\r\n  promptOrNormal: promptOrNormalReducer,\r\n  rentalDetails: rentalDetailsReducer,\r\n  notifications: notificationsReducer,\r\n  notFoundMessage: notFoundMessageReducer,\r\n  notificationCounter: notificationCounterReducer,\r\n  photosArray: photosArrayReducer,\r\n  showLogin: showLoginReducer,\r\n  carToRental: carToRentalReducer,\r\n  allCitiesApi: allCitiesApiReducer,\r\n  spinner: spinnerReducer,\r\n});\r\n\r\nconst rootReducer = (state, action) => {\r\n  // when a logout action is dispatched it will reset redux state\r\n  if (action.type === \"LOG-OUT\") {\r\n    window.localStorage.removeItem(\"persist:root\");\r\n    state = undefined;\r\n  }\r\n\r\n  return allReducers(state, action);\r\n};\r\n\r\nexport default rootReducer;\r\n","export const authReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case \"SIGN-IN\":\r\n      return action.payload;\r\n    case \"LOG-OUT\":\r\n      return false;\r\n    case \"SETAUTHLICENSE\":\r\n      return { ...state, license: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const availableCarsReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SETAVAILABLE\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport allReducers from \"./reducers\";\r\nimport { applyMiddleware, compose, createStore } from \"redux\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\"; // defaults to localStorage for web\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, allReducers);\r\n\r\n// STORE\r\nconst store = createStore(\r\n  persistedReducer,\r\n  composeEnhancer(applyMiddleware(thunk))\r\n);\r\nexport const persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}