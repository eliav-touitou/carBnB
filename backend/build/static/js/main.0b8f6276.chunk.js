(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},236:function(e,t){e.exports={carsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALLCARS":return t.payload;default:return e}}}},237:function(e,t){e.exports={allCarsApiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALLCARSAPI":return t.payload;default:return e}}}},238:function(e,t){e.exports={allModelsApiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ALLMODELSAPI":return t.payload;default:return e}}}},239:function(e,t){e.exports={yearFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1990,2010],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETYEARS":return t.payload;default:return e}}}},240:function(e,t){e.exports={priceFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[10,65],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETPRICE":return t.payload;default:return e}}}},241:function(e,t){e.exports={ratingFilterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETFILTERRATE":return t.payload;default:return e}}}},242:function(e,t){e.exports={filteredCarsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETFILTEREDCARS":return t.payload;default:return e}}}},243:function(e,t){e.exports={initialSearchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETINITIALSEARCH":return t.payload;default:return e}}}},244:function(e,t){e.exports={onLoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGINPAGE":return t.payload;default:return e}}}},245:function(e,t){e.exports={promptOrNormalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETPROMPTORNORMAL":return t.payload;default:return e}}}},246:function(e,t){e.exports={rentalDetailsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETRENTALDETAILS":return t.payload;default:return e}}}},247:function(e,t){e.exports={notificationsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETNOTIFICATIONS":return t.payload;default:return e}}}},248:function(e,t){e.exports={notFoundMessageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETNOTFOUNDMESSAGE":return t.payload;default:return e}}}},249:function(e,t){e.exports={notificationCounterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETNOTIFICATIONCOUNTER":return t.payload;default:return e}}}},250:function(e,t){e.exports={photosArrayReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETPHOTOSARRAY":return t.payload;default:return e}}}},251:function(e,t){e.exports={showLoginReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETSHOWLOGIN":return t.payload;default:return e}}}},252:function(e,t){e.exports={carToRentalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETCARTORENTAL":return t.payload;default:return e}}}},253:function(e,t){e.exports={allCitiesApiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETALLCITIESAPI":return t.payload;default:return e}}}},254:function(e,t){e.exports={spinnerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETSPINNER":return t.payload;default:return e}}}},267:function(e,t,a){},301:function(e,t){},426:function(e,t,a){"use strict";a.r(t),a.d(t,"persistor",(function(){return ra}));var c=a(1),s=a.n(c),n=a(12),r=a.n(n),i=a(5),l=(a(267),a(9)),o=a.n(l),d=a(3),j=a(6),u=a.n(j),b=a(11),p=a(24),h=a(222),O=a.n(h),f=a(467),m=function(e){return{type:"ALLCARSAPI",payload:e}},x=function(e){return{type:"SIGN-IN",payload:e}},v=function(e){return{type:"SETAVAILABLE",payload:e}},g=function(e){return{type:"SETYEARS",payload:e}},N=function(e){return{type:"SETPRICE",payload:e}},y=function(e){return{type:"SETFILTEREDCARS",payload:e}},w=function(e){return{type:"SETINITIALSEARCH",payload:e}},k=function(e){return{type:"LOGINPAGE",payload:e}},A=function(e){return{type:"SETRENTALDETAILS",payload:e}},E=function(e){return{type:"SETNOTIFICATIONS",payload:e}},C=function(e){return{type:"SETNOTFOUNDMESSAGE",payload:e}},S=function(e){return{type:"SETNOTIFICATIONCOUNTER",payload:e}},D=function(e){return{type:"SETPHOTOSARRAY",payload:e}},T=function(e){return{type:"SETSHOWLOGIN",payload:e}},R=function(e){return{type:"SETCARTORENTAL",payload:e}},I=function(e){return{type:"SETAUTHLICENSE",payload:e}},L=function(e){return{type:"SETSPINNER",payload:e}},_=a(13),P=a.n(_),M=(a(116),a(81)),F=(a(129),a(130),a(0));function G(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.allCitiesApi})),a=Object(d.c)((function(e){return e.initialSearch})),s=Object(d.c)((function(e){return e.notFoundMessage})),n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],j=r[1],h=Object(c.useState)(null),m=Object(i.a)(h,2),x=m[0],g=m[1],N=Object(c.useState)(null),k=Object(i.a)(N,2),A=k[0],E=k[1],S=Object(c.useState)(null),D=Object(i.a)(S,2),T=D[0],R=D[1],I=Object(c.useRef)(""),_=Object(c.useRef)();Object(c.useEffect)((function(){s&&setTimeout((function(){e(C(!1))}),4500)}),[s]);var G=function(){var t=Object(b.a)(u.a.mark((function t(){var c,s,n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e(L(!0)),c=I.current.value,s=Number(_.current.value.slice(0,-1)),"http://localhost:3000/"===window.location.href){t.next=8;break}g(P()(a.startDate)),E(P()(a.endDate)),t.next=12;break;case 8:if(s&&x&&A){t.next=12;break}return e(L(!1)),e(C("You must fill all inputs")),t.abrupt("return");case 12:return n={data:{city:c,startDate:a.startDate,endDate:a.endDate,passengers:s}},console.log(n),t.prev=14,t.next=17,o.a.post("/api/v1/search/initial",n);case 17:r=t.sent,i=r.data,e(v(i.data)),e(y(i.data)),0!==i.data.length&&(e(w(n.data)),j(!0),e(L(!1))),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(14),e(L(!1)),e(C(t.t0.response.data.message)),console.log(t.t0);case 29:case"end":return t.stop()}}),t,null,[[14,24]])})));return function(){return t.apply(this,arguments)}}(),Y=function(e){"search-inputs"===e.target.className&&e.target.childNodes[0].childNodes[1].focus(),"label"===e.target.localName&&e.target.childNodes[1].focus(),"label"===e.target.className&&e.target.parentElement.childNodes[1].focus()};return Object(F.jsxs)("div",{className:"top-navigation",children:[Object(F.jsx)("nav",{className:"search-nav",children:Object(F.jsxs)("div",{className:"search",children:[Object(F.jsxs)("div",{className:"inputs",children:[Object(F.jsx)("div",{className:"search-inputs",onClick:Y,children:Object(F.jsxs)("label",{htmlFor:"cities",children:[Object(F.jsx)("div",{className:"label",children:"City:"}),Object(F.jsx)("input",{name:"cities",list:"cities",ref:I,defaultValue:"http://localhost:3000/results"!==window.location.href||null===a||void 0===a?void 0:a.city,placeholder:"Wanted City"}),Object(F.jsx)("datalist",{id:"cities",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(F.jsx)("option",{value:e},"city-".concat(t))}))})]})}),Object(F.jsx)("div",{className:"separator"}),Object(F.jsxs)("div",{className:"search-inputs",children:[Object(F.jsx)("div",{className:"label",children:"Choose Dates:"}),Object(F.jsx)(M.DateRangePicker,{startDate:"http://localhost:3000/results"!==window.location.href?x:P()(null===a||void 0===a?void 0:a.startDate),startDatePlaceholderText:"Start date:",startDateId:"tata-start-date",endDate:"http://localhost:3000/results"!==window.location.href?A:P()(null===a||void 0===a?void 0:a.endDate),endDatePlaceholderText:"End date:",endDateId:"tata-end-date",onDatesChange:function(e){var t=e.startDate,c=e.endDate;g(t),E(c),a.startDate=P()(t),a.endDate=P()(c)},focusedInput:T,onFocusChange:function(e){return R(e)},small:!0})]}),Object(F.jsx)("div",{className:"separator"}),Object(F.jsx)("div",{className:"search-inputs",onClick:Y,children:Object(F.jsxs)("label",{htmlFor:"passengers",children:[Object(F.jsx)("div",{className:"label",children:"What size of car you need?"}),Object(F.jsx)("input",{name:"passengers",list:"passengers",ref:_,defaultValue:"http://localhost:3000/results"!==window.location.href?void 0:(null===a||void 0===a?void 0:a.passengers)+"+",placeholder:"Size"}),Object(F.jsxs)("datalist",{id:"passengers",children:[Object(F.jsx)("option",{value:"2+"}),Object(F.jsx)("option",{value:"4+"}),Object(F.jsx)("option",{value:"5+"}),Object(F.jsx)("option",{value:"7+"})]})]})})]}),Object(F.jsx)("div",{className:"search-button",children:Object(F.jsx)("button",{className:"search-btn",onClick:G,children:Object(F.jsx)(O.a,{})})})]})})," ",s&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:s},"topcenter"),l&&Object(F.jsx)(p.a,{push:!0,to:"/results"})]})}var Y=a.p+"static/media/background-4593643_1920.f7b44022.jpg",U=a.p+"static/media/top-car.219c240b.jpeg",V=a.p+"static/media/top-owner.9f22d43d.jpeg",q=a.p+"static/media/top-location.38593913.jpeg",W=a.p+"static/media/toyota-logo.89418194.jpg",B=a.p+"static/media/mazda-logo.8da475f6.jpg",H=a.p+"static/media/ford-logo.5ece7ffe.jpg",z=a.p+"static/media/tesla-logo.73c29e2d.jpg",Q=a.p+"static/media/peugeot-logo.f8c9c4ff.jpg",K=a.p+"static/media/bmw-logo.f09bec57.jpg",Z=a(14);function X(){return Object(F.jsxs)("div",{className:"top-pick-carousel",children:[Object(F.jsx)("h2",{children:"Popular Brands"}),Object(F.jsxs)("div",{className:"carousel-wrapper",children:[Object(F.jsx)("span",{id:"item-1"}),Object(F.jsx)("span",{id:"item-2"}),Object(F.jsx)("span",{id:"item-3"}),Object(F.jsx)("span",{id:"item-4"}),Object(F.jsx)("span",{id:"item-5"}),Object(F.jsx)("span",{id:"item-6"}),Object(F.jsxs)("div",{className:"carousel-item item-1",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/TOYOTA",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:W,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-6"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-2"})]}),Object(F.jsxs)("div",{className:"carousel-item item-2",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/FORD",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:H,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-1"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-3"})]}),Object(F.jsxs)("div",{className:"carousel-item item-3",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/TESLA",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:z,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-2"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-4"})]}),Object(F.jsxs)("div",{className:"carousel-item item-4",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/PEUGEOT",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:Q,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-3"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-5"})]}),Object(F.jsxs)("div",{className:"carousel-item item-5",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/MAZDA",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:B,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-4"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-6"})]}),Object(F.jsxs)("div",{className:"carousel-item item-6",children:[Object(F.jsx)(Z.b,{push:!0,to:"/top/car/BMW",children:Object(F.jsx)("div",{className:"items-data",children:Object(F.jsx)("img",{src:K,className:"top-picks-img"})})}),Object(F.jsx)("a",{className:"arrow arrow-prev",href:"#item-5"}),Object(F.jsx)("a",{className:"arrow arrow-next",href:"#item-1"})]})]})]})}function J(){var e=Object(d.b)();return Object(c.useEffect)((function(){e(L(!0)),o.a.get("https://data.gov.il/api/3/action/datastore_search?resource_id=5c78e9fa-c2e2-4771-93ff-7f400a12f7ba&limit=1271").then((function(t){var a,c=t.data;console.log(c);var s=[];null===(a=c.result.records)||void 0===a||a.forEach((function(e){" "!==e["\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1_\u05dc\u05d5\u05e2\u05d6\u05d9"]&&s.push(e["\u05e9\u05dd_\u05d9\u05e9\u05d5\u05d1_\u05dc\u05d5\u05e2\u05d6\u05d9"].trim())})),e({type:"SETALLCITIESAPI",payload:s}),e(L(!1))}))}),[]),Object(F.jsxs)("div",{className:"home-page-container",children:[Object(F.jsxs)("section",{className:"land-section",children:[Object(F.jsx)("img",{className:"intro-img",height:"50%",src:Y}),Object(F.jsx)("h1",{children:"We invite you to start your journey with us, and with many other drivers"}),Object(F.jsx)("span",{children:Object(F.jsx)("a",{href:"#search",children:"Let's Start"})})]}),Object(F.jsx)("section",{className:"search-section",id:"search",children:Object(F.jsx)(G,{})}),Object(F.jsxs)("section",{className:"top-pick-section",children:[Object(F.jsx)("h2",{children:"Choose the best"}),Object(F.jsxs)("div",{className:"top-picks-container",children:[Object(F.jsx)("div",{className:"top-pick",children:Object(F.jsxs)(Z.b,{exact:"true",to:"/top/cars",children:[Object(F.jsx)("img",{src:U,className:"top-car-img"}),Object(F.jsx)("h4",{children:"TOP CARS"}),Object(F.jsx)("p",{children:"Extraordinary driving experience. "})]})}),Object(F.jsx)("div",{className:"top-pick",children:Object(F.jsxs)(Z.b,{exact:"true",to:"/top/owners",children:[Object(F.jsx)("img",{src:V}),Object(F.jsx)("h4",{children:"TOP OWNERS"}),Object(F.jsx)("p",{children:"Lovely owner for the best travel. "})]})}),Object(F.jsx)("div",{className:"top-pick",children:Object(F.jsxs)(Z.b,{exact:"true",to:"/top/locations",children:[Object(F.jsx)("img",{src:q}),Object(F.jsx)("h4",{children:"TOP LOCATIONS"}),Object(F.jsx)("p",{children:"Peacefully moment in paradise. "})]})})]})]}),Object(F.jsx)(X,{}),Object(F.jsxs)("section",{className:"footer-section",children:[Object(F.jsx)("hr",{}),Object(F.jsxs)("div",{className:"upper-footer",children:[Object(F.jsxs)("div",{className:"support",children:[Object(F.jsx)("h4",{children:"Support"}),Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:"Contact us"}),Object(F.jsx)("li",{children:"Cancellation Policy"})]})]}),Object(F.jsxs)("div",{className:"information",children:[Object(F.jsx)("h4",{children:"Info"}),Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{children:"How we started"}),Object(F.jsx)("li",{children:"Service declaration"}),Object(F.jsx)("li",{children:"About the Founders"})]})]})]}),Object(F.jsx)("hr",{height:"100px"}),Object(F.jsxs)("footer",{className:"footer",children:[Object(F.jsx)("div",{children:Object(F.jsx)("i",{className:"fab fa-github"})}),Object(F.jsx)("div",{children:Object(F.jsx)("i",{className:"fab fa-facebook-f"})}),Object(F.jsx)("div",{children:Object(F.jsx)("i",{className:"far fa-envelope"})}),Object(F.jsx)("div",{children:Object(F.jsx)("i",{className:"fab fa-linkedin"})}),Object(F.jsxs)("p",{className:"instagram",children:[" ",Object(F.jsx)("i",{className:"fab fa-instagram"})]}),Object(F.jsx)("div",{className:"copyright",children:"\xa9 2021 J.E.E"})]})]})]})}var $=a(226);function ee(){var e=Object(d.b)(),t=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(d.c)((function(e){return e.auth}));Object(c.useEffect)((function(){s&&e(T(!1))}),[s]);var n=function(){var c=Object(b.a)(u.a.mark((function c(s){var n,r,l,d,j,b,p,h;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=s.target,s.preventDefault(),t.current.value!==a.current.value&&alert("Passwords doesn't match"),c.prev=3,e(L(!0)),r=new FormData(n),l={},d=Object($.a)(r.entries());try{for(d.s();!(j=d.n()).done;)b=Object(i.a)(j.value,2),p=b[0],h=b[1],l[p]=h,console.log([p,h])}catch(u){d.e(u)}finally{d.f()}return l.password=t.current.value,c.next=12,o.a.post("/api/v1/users/register",{newUser:l});case 12:console.log("User Saved!"),e(L(!1)),c.next=20;break;case 16:c.prev=16,c.t0=c.catch(3),console.log(c.t0),e(L(!1));case 20:case"end":return c.stop()}}),c,null,[[3,16]])})));return function(e){return c.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"form-container sign-up-container",children:[Object(F.jsx)("div",{className:"x register",onClick:function(){e(T(!1))},children:"\u2716"}),Object(F.jsxs)("form",{id:"register",onSubmit:n,children:[Object(F.jsx)("h1",{className:"login-form-title",children:"Create Account"}),Object(F.jsx)("input",{className:"login-form-input",name:"email",type:"email",placeholder:"* Email",required:!0}),Object(F.jsx)("input",{className:"login-form-input",name:"firstName",type:"text",placeholder:"* Enter first name",required:!0}),Object(F.jsx)("input",{className:"login-form-input",name:"lastName",type:"text",placeholder:"* Enter last name",required:!0}),Object(F.jsx)("input",{className:"login-form-input",name:"phoneNumber",type:"phone",placeholder:"Enter your phone"}),Object(F.jsx)("input",{className:"login-form-input",name:"address",type:"text",placeholder:"Enter address"}),Object(F.jsxs)("div",{className:"password-and-validation",children:[Object(F.jsx)("input",{className:"login-form-password",type:"password",ref:t,placeholder:"* Password",required:!0}),Object(F.jsx)("input",{className:"login-form-validation",type:"password",ref:a,placeholder:"*Re enter Password",required:!0})]}),Object(F.jsx)("span",{className:"login-form-span",children:"Fields with * are required"}),Object(F.jsx)("button",{className:"login-form-button",type:"submit",children:"Sign Up"})]})]})}var te=a(227),ae=a.n(te),ce=a(228),se=a.n(ce),ne=a(53),re=a(111),ie=a.n(re);function le(e){var t=e.iconsKey,a=e.keys,s=e.value,n=e.carId,r=e.setMyCarsData,l=Object(d.b)(),j=Object(d.c)((function(e){return e.auth})),p=Object(c.useState)(!1),h=Object(i.a)(p,2),O=h[0],f=h[1],m=Object(c.useRef)(),x=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=a.trim(),!t.includes("discount")){e.next=5;break}if(a.includes("%")){e.next=5;break}return alert("must be % sign"),e.abrupt("return");case 5:return c=["Car",[t],n,[a]],e.prev=6,l(L(!0)),e.next=10,g(c);case 10:return e.next=12,v();case 12:l(L(!1)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),l(L(!1));case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(L(!0)),e.prev=1,e.next=4,o.a.post("/api/v1/search/getitem",{data:["Car",["owner_email"],[j.user_email]]});case 4:t=e.sent,a=t.data,r(a.data),f(!1),l(L(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),l(L(!1));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(L(!0)),e.prev=1,e.next=4,o.a.post("/api/v1/users/updateitems",{data:t});case 4:l(L(!1)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),l(L(!1));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(F.Fragment,{children:O?Object(F.jsxs)("li",{children:[Object(F.jsxs)("div",{className:"data-and-icon",children:[Object(F.jsx)("span",{children:t[a]}),Object(F.jsx)("input",{ref:m,autoFocus:!0,defaultValue:s})]})," ",Object(F.jsxs)("span",{className:"pencil-profile",children:[Object(F.jsx)("i",{className:"fas fa-check",onClick:function(){return x(a,m.current.value)}}),Object(F.jsx)("i",{className:"fas fa-times",onClick:function(){f(!1)}})]})," "]}):Object(F.jsxs)("li",{children:[Object(F.jsxs)("div",{className:"data-and-icon",children:[Object(F.jsx)("span",{children:t[a]}),Object(F.jsxs)("span",{children:[" ",s]})]}),Object(F.jsx)("span",{className:"pencil-profile",children:["available","discount","price"].some((function(e){return a.includes(e)}))&&Object(F.jsx)(ie.a,{onClick:function(){return f(!0)}})})]})})}function oe(e){var t=e.myCarData,a=e.iconsKey,s=e.setIndexPage,n=e.indexPage,r=e.nextPage,l=e.setMyCarsData,o=e.myCarsData,d=Object(c.useState)([]),j=Object(i.a)(d,2),u=j[0],b=j[1];return Object(c.useEffect)((function(){return function(){s(0)}}),[]),Object(c.useEffect)((function(){t&&Object.entries(t).map((function(e){var t=Object(i.a)(e,2),a=t[0],c=t[1];"car_id"!==a&&"owner_email"!==a&&"updatedAt"!==a&&"createdAt"!==a&&"is_rented"!==a&&("available_from"!==a&&"available_until"!==a||(c=new Date(c).toDateString()),b((function(e){return[].concat(Object(ne.a)(e),[[a,c]])})))}));return function(){b([])}}),[n,o]),Object(F.jsxs)("div",{children:[Object(F.jsx)("ul",{children:u.map((function(e,c){var s=Object(i.a)(e,2),n=s[0],r=s[1];return Object(F.jsx)(le,{keys:n,value:r,iconsKey:a,carId:null===t||void 0===t?void 0:t.car_id,setMyCarsData:l,myCarsData:o},"key-".concat(c))}))}),Object(F.jsx)("span",{onClick:r,children:Object(F.jsx)("i",{className:"fas fa-arrow-right"})})]})}var de=a(229),je=a.n(de),ue=a(230),be=a.n(ue);function pe(e){var t=e.iconsKey,a=e.keys,s=e.value,n=Object(d.b)(),r=Object(d.c)((function(e){return e.auth})),l=Object(d.c)((function(e){return e.allCitiesApi})),j=Object(c.useState)(!1),p=Object(i.a)(j,2),h=p[0],O=p[1],f=Object(c.useRef)(),m=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var c,s,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=[],[],"","","first_name"!==t){e.next=27;break}return a=a.trim(),i=a.split(" ")[0],l=a.split(" ")[1],s=["Auth",["full_name"],r.user_email,["".concat(i," ").concat(l)]],c=["User",["first_name","last_name"],r.user_email,[i,l]],e.prev=10,n(L(!0)),e.next=14,g(s);case 14:return e.next=16,g(c);case 16:return e.next=18,v();case 18:n(L(!1)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(10),console.log(e.t0),n(L(!1));case 25:e.next=41;break;case 27:return c=["User",[t],r.user_email,[a]],e.prev=28,n(L(!0)),e.next=32,g(c);case 32:return e.next=34,v();case 34:n(L(!1)),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(28),console.log(e.t1),n(L(!1));case 41:case"end":return e.stop()}}),e,null,[[10,21],[28,37]])})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/api/v1/users/uniqueuser",{email:r.user_email});case 3:t=e.sent,a=t.data,n(x(a.data)),O(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/api/v1/users/updateitems",{data:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsx)(F.Fragment,{children:h?Object(F.jsxs)("li",{className:"overview-detail",children:[Object(F.jsxs)("div",{className:"data-and-icon",children:[Object(F.jsx)("span",{children:t[a]}),"address"!==a?Object(F.jsx)("input",{ref:f,autoFocus:!0,defaultValue:s}):Object(F.jsxs)(F.Fragment,{children:[" ",Object(F.jsx)("input",{name:"cities-profile",list:"cities-profile",ref:f,autoFocus:!0,defaultValue:s}),Object(F.jsx)("datalist",{id:"cities-profile",children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(F.jsx)("option",{value:e},"city-".concat(t))}))})," "]})]})," ",Object(F.jsxs)("span",{className:"pencil-profile",children:[Object(F.jsx)("i",{className:"fas fa-check",onClick:function(){return m(a,f.current.value)}}),Object(F.jsx)("i",{className:"fas fa-times",onClick:function(){O(!1)}})]})," "]}):r[a]?Object(F.jsxs)("li",{className:"overview-detail",children:[Object(F.jsxs)("div",{className:"data-and-icon",children:[Object(F.jsx)("span",{children:t[a]}),Object(F.jsxs)("span",{children:[" ",s]})]}),Object(F.jsx)("span",{className:"pencil-profile",children:"user_email"===a?null:Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(ie.a,{onClick:function(){return O(!0)}}),Object(F.jsx)("i",{className:"far fa-trash-alt",onClick:function(){m(a,null)}})]})})]}):Object(F.jsxs)("li",{className:"add-new",onClick:function(){return O(!0)},children:[Object(F.jsxs)("div",{children:[Object(F.jsx)("i",{className:"fas fa-plus-circle"})," "]})," ",Object(F.jsxs)("span",{children:[" Add ",a.replace("_"," ")," "]})]})})}function he(e){var t=e.iconsKey,a=Object(d.c)((function(e){return e.auth})),s=Object(c.useState)([]),n=Object(i.a)(s,2),r=n[0],l=n[1];return Object(c.useEffect)((function(){return Object.entries(a).map((function(e){var t=Object(i.a)(e,2),c=t[0],s=t[1];"updatedAt"!==c&&"createdAt"!==c&&"license"!==c&&"number_of_votes"!==c&&"rating"!==c&&"last_name"!==c&&("first_name"===c&&(s=s+" "+a.last_name),l((function(e){return[].concat(Object(ne.a)(e),[[c,s]])})))})),function(){l([])}}),[a]),Object(F.jsx)("div",{children:Object(F.jsx)("ul",{children:r&&(null===r||void 0===r?void 0:r.map((function(e,a){var c=Object(i.a)(e,2),s=c[0],n=c[1];return Object(F.jsx)(pe,{keys:s,value:n,iconsKey:t},"key-".concat(a))})))})})}function Oe(){var e=Object(d.b)(),t={brand:Object(F.jsx)("i",{className:"fas fa-car-side"}),year:Object(F.jsx)("i",{className:"far fa-calendar-alt"}),fuel:Object(F.jsx)("i",{className:"fas fa-gas-pump"}),price_per_day:Object(F.jsx)("i",{className:"fas fa-dollar-sign"}),gear:Object(F.jsx)("i",{className:"fas fa-cogs"}),available_from:Object(F.jsx)(ae.a,{}),available_until:Object(F.jsx)(se.a,{}),passengers:Object(F.jsx)(je.a,{}),model:Object(F.jsx)(be.a,{}),discount_for_week:Object(F.jsx)("i",{className:"fas fa-percent"}),discount_for_month:Object(F.jsx)("i",{className:"fas fa-percent"}),first_name:Object(F.jsx)("i",{className:"far fa-user"}),user_email:Object(F.jsx)("i",{className:"far fa-envelope"}),address:Object(F.jsx)("i",{className:"fas fa-map-marker-alt"}),phone_number:Object(F.jsx)("i",{className:"fas fa-phone-alt"})},a=Object(d.c)((function(e){return e.auth})),s=Object(c.useState)(),n=Object(i.a)(s,2),r=n[0],l=n[1],j=Object(c.useState)(!0),u=Object(i.a)(j,2),b=u[0],p=u[1],h=Object(c.useState)(0),O=Object(i.a)(h,2),f=O[0],m=O[1];Object(c.useEffect)((function(){e(L(!0)),o.a.post("/api/v1/search/getitem",{data:["Car",["owner_email"],[a.user_email]]}).then((function(t){var a=t.data;l(a.data),e(L(!1))})).catch((function(t){e(L(!1)),console.log(t)}))}),[]);return Object(F.jsx)("div",{className:"profile-container",children:Object(F.jsxs)("div",{className:"profile-inner-container",children:[Object(F.jsxs)("h2",{children:["Welcome Back ",a.first_name]}),Object(F.jsxs)("div",{className:"details-container",children:[Object(F.jsx)("div",{className:"profile-left",children:Object(F.jsxs)("ul",{children:[Object(F.jsx)("li",{className:"profile-nav",onClick:function(){return p(!0)},children:"Overview"}),Object(F.jsx)("li",{className:"profile-nav",onClick:function(){return p(!1)},children:"My Cars"})]})}),Object(F.jsx)("hr",{}),Object(F.jsx)("div",{className:"profile-right",children:b?Object(F.jsx)(he,{iconsKey:t}):r&&Object(F.jsx)(oe,{myCarData:r[f],iconsKey:t,setIndexPage:m,indexPage:f,nextPage:function(){f===r.length-1?m(0):m((function(e){return e+1}))},setMyCarsData:l,myCarsData:r})})]}),Object(F.jsxs)("div",{className:"rating-panel-profile",children:[Object(F.jsxs)("span",{children:[Object(F.jsx)("i",{className:"fas fa-star"}),a.rating?Number(a.rating).toFixed(1):0," / 5"]}),Object(F.jsx)("span",{children:"|"}),Object(F.jsxs)("span",{children:[Object(F.jsx)("i",{className:"far fa-thumbs-up"}),a.number_of_votes]})]})]})})}function fe(){return Object(F.jsx)("div",{children:Object(F.jsx)("h1",{children:"404 Page Not Found"})})}function me(e){e.id;var t=Object(c.useState)([]),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(d.b)();Object(c.useEffect)((function(){r(D(s))}),[s]);var l=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===(a=Array.from(t.target.files))||void 0===a||a.forEach(function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new FileReader).onloadend=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.result.split(",")[1];case 2:t=e.sent,n((function(e){return[].concat(Object(ne.a)(e),[{file:t}])}));case 4:case"end":return e.stop()}}),e)}))),a.readAsDataURL(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"upload-div",children:[Object(F.jsxs)("div",{children:[Object(F.jsxs)("label",{for:"upload-photo",className:"file-upload",children:[Object(F.jsx)("span",{className:"upload-btn",children:Object(F.jsx)("i",{className:"fas fa-camera-retro",id:"pets-upload"})}),Object(F.jsx)("span",{children:" Upload a photo"})]}),Object(F.jsx)("input",{id:"upload-photo",type:"file",onChange:function(e){return l(e)},multiple:!0})]}),null===s||void 0===s?void 0:s.map((function(e,t){return Object(F.jsx)("img",{alt:"license",src:"data:image/jpeg;base64,".concat(e.file),height:60},"photo-".concat(t))}))]})}function xe(){var e,t=Object(d.b)(),a=Object(d.c)((function(e){return e.allCarsApi})),s=Object(d.c)((function(e){return e.allModelsApi})),n=Object(d.c)((function(e){return e.auth})),r=Object(d.c)((function(e){return e.photosArray})),l=Object(d.c)((function(e){return e.notFoundMessage})),j=(Object(d.c)((function(e){return e.spinner})),Object(c.useState)([])),h=Object(i.a)(j,2),O=h[0],v=h[1],g=Object(c.useState)([]),N=Object(i.a)(g,2),y=N[0],w=N[1],k=Object(c.useState)(null),A=Object(i.a)(k,2),E=A[0],S=A[1],T=Object(c.useState)(null),R=Object(i.a)(T,2),I=R[0],_=R[1],P=Object(c.useState)(null),G=Object(i.a)(P,2),Y=G[0],U=G[1],V=Object(c.useState)(!1),q=Object(i.a)(V,2),W=q[0],B=q[1],H=Object(c.useState)("Manuel"),z=Object(i.a)(H,2),Q=z[0],K=z[1],Z=Object(c.useState)("Octan-95"),X=Object(i.a)(Z,2),J=X[0],$=X[1],ee="https://vpic.nhtsa.dot.gov/api",te=["2","4","5","6","7"],ae=Object(c.useRef)(),ce=Object(c.useRef)(),se=Object(c.useRef)(),ne=Object(c.useRef)(),re=Object(c.useRef)(),ie=Object(c.useRef)(),le=Object(c.useRef)();Object(c.useEffect)((function(){null===n.address&&t(C("You must update your address before becoming a host"))}),[]),Object(c.useEffect)((function(){l&&setTimeout((function(){t(C(!1)),B(!0)}),6e3)}),[l]),Object(c.useEffect)((function(){t(L(!0)),o.a.get(ee+"/vehicles/GetMakesForVehicleType/car?format=json").then((function(e){var a=e.data;t(m(a.Results)),t(L(!1))})).catch((function(e){t(L(!1)),console.log(e)}))}),[]),Object(c.useEffect)((function(){for(var e=[],t=parseInt((new Date).getFullYear());t>=1980;t--)e.push(t);v(e),e=[];for(var a=0;a<=50;a+=5)e.push(a+"%");w(e)}),[]),Object(c.useEffect)((function(){return function(){t(D([]))}}),[]);var oe=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===a||void 0===a||a.forEach((function(e){e.MakeName.toLowerCase()===ae.current.value.toLowerCase()?(t(L(!0)),o.a.get(ee+"/vehicles/GetModelsForMake/".concat(e.MakeName,"?format=json")).then((function(e){var a=e.data;t({type:"ALLMODELSAPI",payload:a.Results}),t(L(!1))})).catch((function(e){console.log(e),t(L(!1))}))):ce.current.value=""}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var a=Object(b.a)(u.a.mark((function a(){var c,s,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c={ownerEmail:n.user_email,brand:ae.current.value,model:ce.current.value,gear:Q,year:se.current.value,fuel:J,until:""===I?null:I,from:""===E?null:E,passengers:parseInt(le.current.value),pricePerDay:ne.current.value,discountPerWeek:re.current.value,discountPerMonth:ie.current.value},a.prev=1,!n){a.next=15;break}return t(L(!0)),a.next=6,o.a.post("/api/v1/cars/upload",{newCar:c});case 6:return s=a.sent,i=s.data,e=i.data.car_id,r.forEach((function(t){return t.car_id=e})),t(D(r)),a.next=13,o.a.post("/api/v1/photos/savephotos",r);case 13:B(!0),t(L(!1));case 15:a.next=22;break;case 17:a.prev=17,a.t0=a.catch(1),403===a.t0.response.status&&(t(x(!1)),t(L(!1)),alert("please login again")),console.log(a.t0),t(L(!1));case 22:case"end":return a.stop()}}),a,null,[[1,17]])})));return function(){return a.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"add-new-car-page",children:[l&&Object(F.jsx)(f.a,{className:"snackbar",anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:l},"topcenter"),Object(F.jsxs)("div",{className:"add-car-panel",children:[Object(F.jsx)("div",{className:"left-side-panel"}),Object(F.jsxs)("div",{className:"right-side-panel",children:[Object(F.jsxs)("div",{className:"fields-inputs",children:[Object(F.jsx)("h1",{children:"We invite you to become a member in our host's team"}),Object(F.jsxs)("div",{className:"set",children:[Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Pick your car brand"}),Object(F.jsx)("input",{className:"brand-input-addNewCar",ref:ae,list:"brand",onChange:oe}),Object(F.jsx)("datalist",{id:"brand",children:null===a||void 0===a?void 0:a.map((function(e,t){return Object(F.jsx)("option",{value:"".concat(e.MakeName)},"brand-".concat(t))}))})]}),Object(F.jsx)("div",{className:"input-div",children:Object(F.jsx)(me,{id:e})})]}),Object(F.jsxs)("div",{className:"set",children:[Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Pick your car model"}),Object(F.jsx)("input",{className:"model-input-addNewCar",ref:ce,list:"model"}),Object(F.jsx)("datalist",{id:"model",children:null===s||void 0===s?void 0:s.map((function(e,t){return Object(F.jsx)("option",{value:"".concat(e.Model_Name)},"model-".concat(t))}))})]}),Object(F.jsx)("div",{className:"input-div",children:Object(F.jsxs)("div",{className:"Car-gear",onChange:function(e){return K(e.target.value)},children:[Object(F.jsx)("div",{className:"title",children:Object(F.jsx)("label",{htmlFor:"Manuel",children:"Gear"})}),Object(F.jsxs)("div",{className:"radio-container",children:[Object(F.jsx)("input",{id:"Manuel",name:"car-gear",type:"radio",defaultValue:"Manuel",defaultChecked:!0}),Object(F.jsx)("label",{htmlFor:"Manuel",children:"Manuel"}),Object(F.jsx)("input",{id:"Automat",name:"car-gear",type:"radio",defaultValue:"Automat"}),Object(F.jsx)("label",{htmlFor:"Automat",children:"Automat"})]})]})})]}),Object(F.jsxs)("div",{className:"set",children:[Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Pick your car year"}),Object(F.jsx)("input",{className:"year-input-addNewCar",ref:se,list:"year"}),Object(F.jsx)("datalist",{id:"year",children:null===O||void 0===O?void 0:O.map((function(e,t){return Object(F.jsx)("option",{value:e},"year-".concat(t))}))})]}),Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Availability dates "}),Object(F.jsx)(M.DateRangePicker,{id:"dates",startDate:E,startDatePlaceholderText:"Start date:",startDateId:"tata-start-date",endDate:I,endDatePlaceholderText:"End date:",endDateId:"tata-end-date",onDatesChange:function(e){var t=e.startDate,a=e.endDate;S(t),_(a)},focusedInput:Y,onFocusChange:function(e){return U(e)},small:!0})]})]}),Object(F.jsxs)("div",{className:"set",children:[Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Enter wanted price per day"}),Object(F.jsx)("input",{className:"tariff-input-addNewCar",ref:ne})]}),Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Number of seats"}),Object(F.jsx)("input",{className:"seats-input-addNewCar",ref:le,list:"passengers"}),Object(F.jsx)("datalist",{id:"passengers",children:null===te||void 0===te?void 0:te.map((function(e,t){return Object(F.jsx)("option",{value:e},"passengers-".concat(t))}))})]})]}),Object(F.jsxs)("div",{className:"set",children:[Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Percent of discount per month"}),Object(F.jsx)("input",{className:"discount-month-input-addNewCar",ref:ie,list:"discountPerMonth"}),Object(F.jsx)("datalist",{id:"discountPerMonth",children:null===y||void 0===y?void 0:y.map((function(e,t){return Object(F.jsx)("option",{value:e},"discountPerMonth-".concat(t))}))})]}),Object(F.jsxs)("div",{className:"input-div",children:[Object(F.jsx)("div",{className:"title",children:"Percent of discount per week"}),Object(F.jsx)("input",{className:"discount-week-input-addNewCar",ref:re,list:"discountPerWeek"}),Object(F.jsx)("datalist",{id:"discountPerWeek",children:null===y||void 0===y?void 0:y.map((function(e,t){return Object(F.jsx)("option",{value:e},"discountPerWeek-".concat(t))}))})]})]}),Object(F.jsx)("div",{className:"set",children:Object(F.jsxs)("div",{className:"gas-type",onChange:function(e){return $(e.target.value)},children:[Object(F.jsx)("label",{className:"title",htmlFor:"Octan-95",children:"Pick your car gas type"}),Object(F.jsxs)("div",{className:"radio-container",children:[Object(F.jsx)("input",{id:"Octan-95",name:"type-of-gas",type:"radio",defaultValue:"Octan-95",defaultChecked:!0}),Object(F.jsx)("label",{htmlFor:"Octan-95",children:"Octan-95"}),Object(F.jsx)("input",{id:"Octan-96",name:"type-of-gas",type:"radio",defaultValue:"Octan-96"}),Object(F.jsx)("label",{htmlFor:"Octan-96",children:"Octan-96"}),Object(F.jsx)("input",{id:"Octan-98",name:"type-of-gas",type:"radio",defaultValue:"Octan-98"}),Object(F.jsx)("label",{htmlFor:"Octan-98",children:"Octan-98"}),Object(F.jsx)("input",{id:"Soler",name:"type-of-gas",type:"radio",defaultValue:"Soler"}),Object(F.jsx)("label",{htmlFor:"Soler",children:"Soler"}),Object(F.jsx)("input",{id:"Electric",name:"type-of-gas",type:"radio",defaultValue:"Electric"}),Object(F.jsx)("label",{htmlFor:"Electric",children:"Electric"}),Object(F.jsx)("input",{id:"Gas",name:"type-of-gas",type:"radio",defaultValue:"Gas"}),Object(F.jsx)("label",{htmlFor:"Gas",children:"Gas"})]})]})})]}),Object(F.jsxs)("div",{className:"submit-btn",children:[Object(F.jsx)("button",{onClick:de,children:"Upload Car"}),W&&Object(F.jsx)(p.a,{to:"/profile"})]})]})]})]})}var ve=a(231),ge=a.n(ve),Ne=a(232),ye=a.n(Ne);function we(){var e=Object(d.b)(),t=Object(c.useState)(!1),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(),l=Object(i.a)(r,2),j=l[0],p=l[1],h=Object(d.c)((function(e){return e.auth})),O=Object(c.useRef)(),m=Object(c.useRef)(),v=Object(c.useRef)();Object(c.useEffect)((function(){return e(k(!0)),function(){e(k(!1))}}),[]),Object(c.useEffect)((function(){return h&&e(T(!1)),function(){e(T(!1))}}),[h]);var g=function(){var t=Object(b.a)(u.a.mark((function t(a){var c,s,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),""!==O.current.value&&""!==m.current.value){t.next=3;break}return t.abrupt("return");case 3:return c={email:O.current.value,password:m.current.value},t.prev=4,e(L(!0)),t.next=8,o.a.post("/api/v1/users/login",{user:c});case 8:s=t.sent,n=s.data,e(x(n.data)),console.log("Success Login"),e(L(!1)),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(4),e({type:"LOG-OUT",payload:!1}),console.log(t.t0.message),e(L(!1));case 20:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(b.a)(u.a.mark((function t(a){var c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/api/v1/auth/googleLogin",{tokenId:a.tokenId});case 3:c=t.sent,s=c.data,e(x(s.data)),console.log("google login success"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e({type:"LOG-OUT",payload:!1}),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(b.a)(u.a.mark((function t(a){var c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),t.prev=1,t.next=4,o.a.post("/api/v1/auth/facebookLogin",{accessToken:a.accessToken,userId:a.userID});case 4:c=t.sent,s=c.data,e(x(s.data)),console.log("facebook login success"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),e({type:"LOG-OUT",payload:!1}),console.log(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),v.current.value){e.next=3;break}return e.abrupt("return",alert("Must enter email first"));case 3:return e.prev=3,e.next=6,o.a.put("/api/v1/auth/forgotpassword",{userEmail:v.current.value});case 6:p(!0),setTimeout((function(){p(!1)}),4e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"form-container sign-in-container",children:[Object(F.jsx)("div",{className:"x login",onClick:function(){e(T(!1))},children:"\u2716"}),Object(F.jsx)("form",{action:"#",children:s?Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("input",{ref:v,className:"login-form-input",placeholder:"Enter Your email"}),Object(F.jsx)("button",{onClick:w,className:"login-form-button",children:"Reset Password"}),j&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"Check your mail box, reset link successfully send"},"topcenter")]}):Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)("h1",{className:"login-form-title",children:"Sign in"}),Object(F.jsxs)("div",{className:"social-container",children:[Object(F.jsx)(ge.a,{clientId:"186150944842-sg6rcdti8hqtq2td43gv4jo2t1jmc8hj.apps.googleusercontent.com",render:function(e){return Object(F.jsx)("div",{className:"login-form-a social",onClick:e.onClick,disabled:e.disabled,children:Object(F.jsx)("i",{className:"fab fa-google-plus-g"})})},buttonText:"Login",onSuccess:N,onFailure:function(t){e({type:"LOG-OUT",payload:!1}),console.error("ERROR LOGIN WITH GOOGLE")},cookiePolicy:"single_host_origin"}),Object(F.jsx)(ye.a,{appId:"830912607629776",cssClass:"social facebook-button",icon:"fa fa-facebook",textButton:"",autoLoad:!1,fields:"adress",callback:y})]}),Object(F.jsx)("span",{className:"login-form-span",children:"or use your account"}),Object(F.jsx)("input",{className:"login-form-input",type:"email",placeholder:"Email",ref:O}),Object(F.jsx)("input",{className:"login-form-input",type:"password",placeholder:"Password",ref:m}),Object(F.jsx)("a",{href:"#",onClick:function(){return n(!0)},className:"forgot-password-btn ",children:"Forgot your password?"}),Object(F.jsx)("button",{className:"login-form-button",onClick:g,children:"Sign In"})]})})," "]})}function ke(){var e=Object(d.b)(),t=Object(c.useState)(),a=Object(i.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){return e(k(!0)),function(){e(k(!1))}}),[]),Object(F.jsx)("div",{className:"login-page",children:Object(F.jsx)("div",{className:"login-container",children:Object(F.jsxs)("div",{className:"container ".concat(s," "),id:"container",children:[Object(F.jsx)(ee,{}),Object(F.jsx)(we,{}),Object(F.jsx)("div",{className:"overlay-container",children:Object(F.jsxs)("div",{className:"overlay",children:[Object(F.jsxs)("div",{className:"overlay-panel overlay-left",children:[Object(F.jsx)("h1",{className:"login-form-title welcome",children:"Welcome Back!"}),Object(F.jsx)("p",{className:"login-form-paragraph",children:"To keep connected with us please login with your personal info"}),Object(F.jsx)("button",{className:"login-form-button ghost",id:"signIn",onClick:function(){n()},children:"Sign In"})]}),Object(F.jsxs)("div",{className:"overlay-panel overlay-right",children:[Object(F.jsx)("img",{className:"login-img",src:"data:image/png;base64,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",alt:"logo"}),Object(F.jsx)("p",{className:"login-form-paragraph",id:"under-logo",children:"We invite you to start your journey with us, and with many other drivers"}),Object(F.jsx)("button",{className:"login-form-button ghost",id:"signUp",onClick:function(){return n("right-panel-active")},children:"Sign Up"})]})]})})]})})})}var Ae=a.p+"static/media/no-car-photo.b76b185a.png";function Ee(e){var t,a=e.photosArray,s=Object(c.useState)(0),n=Object(i.a)(s,2),r=n[0],l=n[1];return Object(F.jsxs)("div",{className:"car-gallery",children:[Object(F.jsx)("button",{className:"arrow prev",onClick:function(){l(0!==r?function(e){return e-1}:(null===a||void 0===a?void 0:a.length)-1)},children:Object(F.jsx)("i",{className:"fas fa-angle-left"})}),Object(F.jsx)("img",{alt:"car",src:"data:image/jpeg;base64,".concat(null===(t=a[r])||void 0===t?void 0:t.file)}),Object(F.jsx)("button",{className:"arrow next",onClick:function(){r!==(null===a||void 0===a?void 0:a.length)-1?l((function(e){return e+1})):l(0)},children:Object(F.jsx)("i",{className:"fas fa-angle-right"})})]})}var Ce=a(60),Se=a(61);function De(e){var t=e.car,a=e.resultId,s=Object(d.b)(),n=Object(d.c)((function(e){return e.auth})),r=Object(d.c)((function(e){return e.availableCars})),l=Object(d.c)((function(e){return e.filteredCars})),j=Object(c.useState)([]),p=Object(i.a)(j,2),h=p[0],O=p[1],f=Object(c.useState)("far fa-heart"),m=Object(i.a)(f,2),x=m[0],v=m[1];Object(c.useEffect)((function(){s(L(!0));var e=["Photo",["car_id"],[t.car_id]];o.a.post("/api/v1/search/getitem",{data:e}).then((function(e){var t=e.data;O(t.data),s(L(!1))})).catch((function(e){if(404===e.response.status)return O(!1),void s(L(!1));console.log(e)}))}),[r,l]),Object(c.useEffect)((function(){n&&s(T(!1))}),[n]);var g=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("far fa-heart"!==x){e.next=21;break}if(e.prev=1,!n){e.next=11;break}return s(L(!0)),e.next=6,o.a.post("/api/v1/favorite/add",{data:{carId:t,userEmail:n.user_email}});case 6:a=e.sent,s(L(!1)),console.log(a),e.next=12;break;case 11:s(T(!0));case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),s(L(!1));case 18:v("fas fa-heart"),e.next=39;break;case 21:if(e.prev=21,!n){e.next=31;break}return s(L(!0)),e.next=26,o.a.post("/api/v1/favorite/remove",{data:{carId:t,userEmail:n.user_email}});case 26:c=e.sent,s(L(!1)),console.log(c),e.next=32;break;case 31:s(T(!0));case 32:e.next=38;break;case 34:e.prev=34,e.t1=e.catch(21),console.log(e.t1),s(L(!1));case 38:v("far fa-heart");case 39:case"end":return e.stop()}}),e,null,[[1,14],[21,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"result",children:[Object(F.jsx)("button",{id:"love",onClick:function(){return g(t.car_id)},children:Object(F.jsx)("i",{className:x})}),Object(F.jsx)("div",{className:"ft-recipe__thumb",children:!1!==h?Object(F.jsx)(Ee,{photosArray:h,location:"result"}):Object(F.jsx)("img",{alt:"car-photo",className:"no-photos-replacement",src:Ae})}),Object(F.jsxs)("div",{className:"ft-recipe__content",children:[Object(F.jsxs)("header",{className:"content__header",children:[Object(F.jsxs)("div",{className:"row-wrapper",children:[Object(F.jsxs)("h2",{className:"recipe-title",children:[t.brand,", ",t.model]}),Object(F.jsx)("div",{className:"user-rating"})]}),Object(F.jsxs)("ul",{className:"recipe-details",children:[Object(F.jsxs)("li",{className:"recipe-details-item time",children:[Object(F.jsx)("i",{className:"fas fa-tools"}),Object(F.jsx)("span",{className:"value",children:t.year}),Object(F.jsx)("span",{className:"title",children:"Manufacture year"})]}),Object(F.jsxs)("li",{className:"recipe-details-item ingredients",children:[Object(F.jsx)("i",{className:"fas fa-dollar-sign ion"}),Object(F.jsx)("span",{className:"value",children:t.price_per_day}),Object(F.jsx)("span",{className:"title",children:"Per day"})]}),Object(F.jsxs)("li",{className:"recipe-details-item servings",children:[Object(F.jsx)(Ce.Icon,{icon:Se.a,className:"ion"}),Object(F.jsx)("span",{className:"value",children:t.passengers}),Object(F.jsx)("span",{className:"title",children:"Number of seats"})]})]})]}),Object(F.jsx)("div",{className:"description",children:Object(F.jsxs)("div",{className:"rating-result",children:[Object(F.jsx)("i",{className:"fas fa-star"})," ",Object(F.jsxs)("span",{className:"owner-rating-results",children:[" ",Number(t.owner_rating).toFixed(1)," / 5"]})," ","|",Object(F.jsxs)("span",{className:"owner-rating-reviews",children:[" ",t.number_of_votes," reviews"," "]})," "]})}),Object(F.jsx)("footer",{className:"content__footer",children:Object(F.jsx)(Z.b,{to:"/result/".concat(a),children:Object(F.jsx)("button",{children:"Book this car"})})})]})]})}var Te=a(95),Re=a(461),Ie=a(468),Le=Object(Re.a)({root:{width:300}});function _e(e){return"".concat(e,"s")}function Pe(){var e=Object(d.b)(),t=Le(),a=Object(d.c)((function(e){return e.availableCars})),s=Object(c.useState)(100),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),u=j[0],b=j[1];Object(c.useEffect)((function(){var t=[];if(null===a||void 0===a||a.forEach((function(e){t.push(e.price_per_day)})),t.length>0){var c=Math.max.apply(Math,t);l(c),e(N([10,c+5])),b([0,c+5])}}),[a]);return Object(F.jsx)("div",{className:t.root,id:"price-slider",children:Object(F.jsx)(Ie.a,{max:r,value:u,onChange:function(e,t){b(t)},onChangeCommitted:function(){return e(N(u))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:_e})})}var Me=Object(Re.a)({root:{width:300}});function Fe(e){return"".concat(e,"s")}function Ge(){var e=Object(d.b)(),t=Me(),a=(Object(d.c)((function(e){return e.yearsFilter})),Object(d.c)((function(e){return e.availableCars}))),s=Object(c.useState)(100),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)(100),j=Object(i.a)(o,2),u=j[0],b=j[1],p=Object(c.useState)([]),h=Object(i.a)(p,2),O=h[0],f=h[1];return Object(c.useEffect)((function(){var t=[];if(null===a||void 0===a||a.forEach((function(e){t.push(e.year)})),t.length>0){var c=Math.max.apply(Math,t),s=Math.min.apply(Math,t);l(c),b(s),e(g([s,c+5])),f([s-5,c+5])}}),[]),Object(F.jsx)("div",{className:t.root,id:"years-slider",children:Object(F.jsx)(Ie.a,{min:u,max:r,value:O,onChange:function(e,t){f(t)},onChangeCommitted:function(){return e(g(O))},valueLabelDisplay:"auto","aria-labelledby":"range-slider",getAriaValueText:Fe})})}var Ye=Object(Re.a)((function(e){return{root:{width:300},margin:{height:e.spacing(3)}}})),Ue=[{value:0,label:"0+"},{value:1,label:"1+"},{value:2,label:"2+"},{value:3,label:"3+"},{value:4,label:"4+"},{value:5,label:"5"}];function Ve(){var e=Object(d.b)(),t=Ye(),a=Object(d.c)((function(e){return e.ratingFilter})),s=Object(c.useState)(),n=Object(i.a)(s,2),r=n[0],l=n[1],o=function(){var e=Object(b.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c!==a&&l(c);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(F.jsx)("div",{className:t.root,id:"rating-slider",children:Object(F.jsx)(Ie.a,{max:5,defaultValue:0,onChange:o,onChangeCommitted:function(){return e({type:"SETFILTERRATE",payload:r})},"aria-labelledby":"discrete-slider-always",step:1,marks:Ue,valueLabelDisplay:"auto"})})}function qe(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.availableCars})),a=Object(d.c)((function(e){return e.yearsFilter})),s=Object(d.c)((function(e){return e.priceFilter})),n=Object(d.c)((function(e){return e.ratingFilter})),r=Object(d.c)((function(e){return e.initialSearch})),l=Object(c.useState)([]),o=Object(i.a)(l,2),j=(o[0],o[1]),u=Object(c.useState)([]),b=Object(i.a)(u,2),p=b[0],h=b[1],O=Object(c.useState)([]),f=Object(i.a)(O,2),m=f[0],x=f[1],v=Object(c.useState)([]),g=Object(i.a)(v,2),N=g[0],w=g[1],k=Object(c.useState)([]),A=Object(i.a)(k,2),E=A[0],C=A[1],S=Object(c.useState)([]),D=Object(i.a)(S,2),T=D[0],R=D[1],I=Object(c.useState)([]),L=Object(i.a)(I,2),_=L[0],P=L[1];return Object(c.useEffect)((function(){for(var e=[],t=parseInt((new Date).getFullYear());t>=1980;t--)e.push(t);j(e)}),[]),Object(c.useEffect)((function(){var e=[],a=[];return null===t||void 0===t||t.forEach((function(t){e.includes(t.brand)||(e.push(t.brand),h((function(e){return[].concat(Object(ne.a)(e),[{label:t.brand,value:t.brand}])}))),a.includes(t.model)||(a.push(t.model),x((function(e){return[].concat(Object(ne.a)(e),[{label:t.model,value:t.model}])})))})),function(){h([]),x([])}}),[r]),Object(c.useEffect)((function(){var c,r,i,l=t;if(N.length>0){var o=[];l.forEach((function(e){N.forEach((function(t){e.brand.toLowerCase()===t.label.toLowerCase()&&o.push(e)}))})),l=o}if(E.length>0){var d=[];l.forEach((function(e){E.forEach((function(t){e.model.toLowerCase()===t.label.toLowerCase()&&d.push(e)}))})),l=d}if(T.length>0){var j=[];l.forEach((function(e){T.forEach((function(t){e.gear.toLowerCase()===t.label.toLowerCase()&&j.push(e)}))})),l=j}if(_.length>0){var u,b=[];null===(u=l)||void 0===u||u.forEach((function(e){null===_||void 0===_||_.forEach((function(t){e.fuel.toLowerCase()===t.label.toLowerCase()&&b.push(e)}))})),l=b}var p=[];null===(c=l)||void 0===c||c.forEach((function(e){e.year>=a[0]&&e.year<=a[1]&&p.push(e)})),l=p,p=[],null===(r=l)||void 0===r||r.forEach((function(e){e.price_per_day>=s[0]&&e.price_per_day<=s[1]&&p.push(e)})),l=p,p=[],null===(i=l)||void 0===i||i.forEach((function(e){e.owner_rating>=n&&p.push(e)})),e(y(l=p))}),[N,E,T,_,a,s,n]),Object(F.jsxs)("div",{className:"filter-bar",children:[Object(F.jsx)("h4",{children:"Filter By:"}),Object(F.jsxs)("div",{className:"select",children:["Brand",Object(F.jsx)(Te.a,{options:p,onChange:function(e){return w(e)},isMulti:!0})]}),Object(F.jsxs)("div",{className:"select",children:["Model",Object(F.jsx)(Te.a,{options:m,onChange:function(e){return C(e)},isMulti:!0})]}),Object(F.jsxs)("div",{className:"select",children:["Fuel",Object(F.jsx)(Te.a,{options:[{label:"Octan-95",value:"OCTAN-95"},{label:"Octan-96",value:"OCTAN-96"},{label:"Octan-98",value:"OCTAN-98"},{label:"Soler",value:"SOLER"},{label:"Electric",value:"ELECTRIC"},{label:"Gas",value:"GAS"}],onChange:function(e){return P(e)},isMulti:!0})]}),Object(F.jsxs)("div",{className:"select",children:["Gear",Object(F.jsx)(Te.a,{options:[{label:"Manual",value:"Manual"},{label:"Auto",value:"Auto"}],onChange:function(e){return R(e)},isMulti:!0})]}),Object(F.jsxs)("div",{className:"slider",children:["Year",Object(F.jsx)(Ge,{})]}),Object(F.jsxs)("div",{className:"slider",children:["Price",Object(F.jsx)(Pe,{})]}),Object(F.jsxs)("div",{className:"slider",children:["Rating Of Cars Owners:",Object(F.jsx)(Ve,{})]})]})}function We(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.filteredCars})),a=Object(d.c)((function(e){return e.initialSearch})),s=Object(c.useState)(),n=Object(i.a)(s,2),r=n[0],l=n[1],o=function(a,c,s){"down"===c?(t.sort((function(e,t){return e[a]-t[a]})),e(y(t.slice()))):(t.sort((function(e,t){return t[a]-e[a]})),e(y(t.slice()))),console.log(s.target),l(s.target.innerText)};return Object(F.jsxs)("div",{className:"results-page",children:[Object(F.jsx)(qe,{}),Object(F.jsxs)("div",{className:"results-section",children:[Object(F.jsxs)("h1",{children:[""!==a.city?"Cars in ".concat(a.city):"All available cars"," "]}),Object(F.jsxs)("h3",{children:[" ",new Date(a.startDate).toDateString()," -"," ",new Date(a.endDate).toDateString()," "]}),Object(F.jsx)("div",{className:"search-bar-in-results-page",children:Object(F.jsx)(G,{})}),Object(F.jsxs)("div",{class:"dropdown",children:[Object(F.jsx)("button",{class:"dropbtn",children:"Order By:"}),Object(F.jsxs)("div",{class:"dropdown-content",children:[Object(F.jsxs)("div",{onClick:function(e){return o("price_per_day","down",e)},children:[Object(F.jsx)("i",{class:"fas fa-sort-amount-down-alt"})," Price - low to high"]}),Object(F.jsxs)("div",{onClick:function(e){return o("price_per_day","up",e)},children:[" ",Object(F.jsx)("i",{class:"fas fa-sort-amount-down"})," Price - high to low"]}),Object(F.jsxs)("div",{onClick:function(e){return o("year","down",e)},children:[Object(F.jsx)("i",{class:"fas fa-sort-numeric-down-alt"})," Year - new to old"]}),Object(F.jsxs)("div",{onClick:function(e){return o("year","up",e)},children:[Object(F.jsx)("i",{class:"fas fa-sort-numeric-down"})," Year - old to new"]})]}),Object(F.jsx)("div",{className:"order-label",children:r})]}),Object(F.jsx)("div",{className:"results",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(F.jsx)(De,{resultId:t,car:e},"car-".concat(t))}))})]})]})}var Be=a(62),He=a(54),ze=a(112);a(218);function Qe(){var e=Object(d.b)(),t=Object(p.h)().resultId,a=Object(c.useState)("/result/".concat(t)),s=Object(i.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)(!1),j=Object(i.a)(l,2),h=j[0],O=j[1],m=Object(c.useState)(!1),x=Object(i.a)(m,2),g=x[0],N=x[1],k=Object(c.useState)([]),E=Object(i.a)(k,2),C=E[0],S=E[1],_=Object(c.useState)({cvc:"",expiry:"",name:"",number:""}),P=Object(i.a)(_,2),M=P[0],G=P[1],Y=Object(d.c)((function(e){return e.availableCars})),U=Object(d.c)((function(e){return e.initialSearch})),V=Object(d.c)((function(e){return e.auth}));Object(c.useEffect)((function(){var a=["Photo",["car_id"],[Y[t].car_id]];return e(L(!0)),o.a.post("/api/v1/search/getitem",{data:a}).then((function(t){var a=t.data;e(D(a.data)),e(L(!1))})).catch((function(t){console.log(t.message),e(L(!1))})),function(){e(D([]))}}),[]),Object(c.useEffect)((function(){V&&e(T(!1))}),[V]),Object(c.useEffect)((function(){h&&setTimeout((function(){O(!1)}),4500)}),[h]);var q=function(e){G(Object(He.a)(Object(He.a)({},M),{},Object(Be.a)({},e.target.name,e.target.value)))},W=function(){return Math.round((new Date(U.endDate)-new Date(U.startDate))/864e5)},B=function(){var e=Y[t].price_per_day,a=Y[t].discount_for_week,c=Y[t].discount_for_month,s=W();if(s<7)return{price:e*s};if(s>=30){var n=c.slice(0,-1);return{price:(e-n/100*e)*s,percent:"".concat(n,"%"),days:"month"}}if(s>=7&&s<30){var r=a.slice(0,-1);return{price:(e-r/100*e)*s,percent:"".concat(r,"%"),days:"week"}}},H=function(){var a=Object(b.a)(u.a.mark((function a(c){var s,n,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s={carId:Y[t].car_id,ownerEmail:Y[t].owner_email,renterEmail:V.user_email,startDate:U.startDate,endDate:U.endDate,totalPrice:B().price},e(R(s)),a.prev=2,!V){a.next=14;break}if(null!==V.license&&""!==V.license||0!==C.length){a.next=8;break}return N("You must Upload license first"),setTimeout((function(){N(!1)}),3500),a.abrupt("return");case 8:return a.next=10,o.a.post("/api/v1/rentals/new",{data:{rentalDetails:s,userDetails:V}});case 10:201===(n=a.sent).status&&(e(A(n.data.data)),r("/summery")),a.next=17;break;case 14:e(T(!0)),O(!0),console.log("must log in first!");case 17:a.next=25;break;case 19:if(a.prev=19,a.t0=a.catch(2),400!==a.t0.response.status){a.next=24;break}return a.next=24,z();case 24:console.log(a.t0);case 25:if(a.prev=25,null!==V.license){a.next=31;break}return i=["User",["license"],V.user_email,[C]],a.next=30,o.a.post("/api/v1/users/updateitems",{data:i});case 30:e(I(C));case 31:a.next=36;break;case 33:a.prev=33,a.t1=a.catch(25),console.log(a.t1);case 36:case"end":return a.stop()}}),a,null,[[2,19],[25,33]])})));return function(e){return a.apply(this,arguments)}}(),z=function(){var t=Object(b.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.post("/api/v1/search/initial",{data:U});case 3:a=t.sent,c=a.data,N("Oops.. someone just pick the car. \nyou are redirect to all\n      results again:("),setTimeout((function(){r("/results"),e(v(c.data)),e(y(c.data)),N(!1)}),5e3),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),404===t.t0.response.status&&(N("".concat(t.t0.response.data.message,", \nYou will redirect to home")),setTimeout((function(){r("/"),N(!1),e(v([])),e(y([])),e(w([]))}),4e3)),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],(c=new FileReader).onloadend=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.result.split(",")[1];case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)}))),c.readAsDataURL(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"container-credit-and-summary",children:[Object(F.jsxs)("div",{className:"window",children:[Object(F.jsx)("div",{className:"order-info",children:Object(F.jsxs)("div",{className:"order-info-content",children:[Object(F.jsxs)("div",{className:"upper-info",children:[Object(F.jsx)("h2",{children:"Order Summary"}),Object(F.jsx)("div",{className:"line"}),new Date(U.startDate).toDateString()," -"," ",new Date(U.endDate).toDateString()]}),Object(F.jsxs)("div",{className:"lower-info",children:[Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-car"}),Object(F.jsx)("span",{className:"thin",children:" Car: "})," ",Y[t].brand,","," ",Y[t].model]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"far fa-clock"}),Object(F.jsx)("span",{className:"thin",children:" Year: "}),Y[t].year]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-gas-pump"}),Object(F.jsx)("span",{className:"thin",children:" Fuel: "}),Y[t].fuel]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-cogs"}),Object(F.jsx)("span",{className:"thin",children:" Gear: "}),Y[t].gear]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)(Ce.Icon,{icon:Se.a}),Object(F.jsx)("span",{className:"thin",children:" Passengers: "}),Y[t].passengers]})})})}),Object(F.jsx)("div",{className:"line"})]}),Object(F.jsxs)("div",{className:"total",children:[Object(F.jsxs)("span",{style:{float:"left"},children:[Object(F.jsx)("div",{className:"thin dense",children:"Initial Price:"}),B().percent&&Object(F.jsx)("div",{className:"thin dense",children:"discount for ".concat(B().days,":")}),"TOTAL"]}),Object(F.jsxs)("span",{style:{float:"right",textAlign:"right"},children:[Object(F.jsx)("div",{className:"thin dense",children:"".concat(W()," x\n                   ").concat(Y[t].price_per_day," =\n                   ").concat(W()*Y[t].price_per_day," $")}),B().percent&&Object(F.jsx)("div",{className:"thin dense",children:"".concat(B().percent," , - ").concat(Number(W()*Y[t].price_per_day-B().price).toFixed(2)," $")}),Number(B().price).toFixed(2),"$"]})]})]})}),Object(F.jsx)("div",{className:"credit-info",children:Object(F.jsxs)("div",{className:"credit-info-content",children:[Object(F.jsx)(ze.a,{cvc:M.cvc,expiry:M.expiry,focus:M.focus,name:M.name,number:M.number}),"Card Number",Object(F.jsx)("input",{className:"input-field",type:"text",name:"number",placeholder:"Card Number",onChange:q,maxLength:"16"}),"Card Holder",Object(F.jsx)("input",{className:"input-field",type:"text",name:"name",placeholder:"Your Name",onChange:q}),Object(F.jsx)("table",{className:"half-input-table",children:Object(F.jsx)("tbody",{children:Object(F.jsxs)("tr",{children:[Object(F.jsxs)("td",{children:["Expires",Object(F.jsx)("input",{className:"input-field",type:"date",name:"expiry",placeholder:"Expire Date",onChange:q})]}),Object(F.jsxs)("td",{children:["CVC",Object(F.jsx)("input",{className:"input-field",type:"number",name:"cvc",placeholder:"CVC",onChange:q})]})]})})}),null===V.license&&Object(F.jsxs)("div",{children:[Object(F.jsx)("label",{children:"Upload license"}),Object(F.jsx)("input",{className:"upload-photo-rental",type:"file",onChange:function(e){return Q(e)},placeholder:"upload license"})]}),Object(F.jsx)("button",{className:"pay-btn",onClick:H,children:"Order"})]})})]}),h&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"In our terms, you must login first"},"topcenter"),g&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:g},"topcenter"),Object(F.jsx)(p.a,{push:!0,to:n})]})}function Ke(){var e=Object(d.c)((function(e){return e.carToRental}));return Object(F.jsx)("div",{className:"order-summery-page",children:Object(F.jsx)("div",{className:"order-summery-outer-container",children:Object(F.jsxs)("div",{className:"order-summery-inner-container",children:[Object(F.jsx)("h1",{children:"Your order was successfully made! "}),Object(F.jsxs)("div",{className:"order-summery-details",children:[Object(F.jsx)("span",{className:"order-summery-description",children:"Owner Email:"}),Object(F.jsx)("span",{className:"order-summery-value",children:e.ownerEmail})]}),Object(F.jsxs)("div",{className:"order-summery-details",children:[Object(F.jsx)("span",{className:"order-summery-description",children:"Renter Email:"}),Object(F.jsx)("span",{className:"order-summery-value",children:e.renterEmail})]}),Object(F.jsxs)("div",{className:"order-summery-details",children:[Object(F.jsx)("span",{className:"order-summery-description",children:"Start Date:"}),Object(F.jsx)("span",{className:"order-summery-value",children:new Date(e.startDate).toDateString()})]}),Object(F.jsxs)("div",{className:"order-summery-details",children:[Object(F.jsx)("span",{className:"order-summery-description",children:"End Date:"}),Object(F.jsx)("span",{className:"order-summery-value",children:new Date(e.endDate).toDateString()})]}),Object(F.jsx)("p",{children:"Check your mail inbox! you've got a receipt"})]})})})}var Ze=a(469),Xe=a(462),Je=a.p+"static/media/message-photo.3b3c4de2.jpg";function $e(){var e=Object(d.b)(),t=Object(p.h)().messageId,a=Object(d.c)((function(e){return e.notifications})),s=Object(d.c)((function(e){return e.auth})),n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],j=r[1],h=Object(c.useState)(0),O=Object(i.a)(h,2),m=O[0],x=O[1],v=Object(c.useState)(!1),g=Object(i.a)(v,2),N=g[0],y=g[1],w=Object(c.useState)(!1),k=Object(i.a)(w,2),A=k[0],C=k[1],D=a[t];Object(c.useEffect)((function(){e(L(!0)),o.a.post("/api/v1/search/getitem",{data:["Rental",["transaction_id"],[D.transaction_id]]}).then((function(t){var a=t.data;"New Order incoming"===D.title&&"pending"===a.data[0].is_active&&j(!0),e(L(!1))})).catch((function(t){console.log(t),e(L(!1))}))}),[]);var T=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(L(!0)),t.prev=1,t.next=4,o.a.patch("/api/v1/notification/updateread",{data:{id:D.id,status:"unread"}});case 4:C((function(e){return!e})),e(L(!1)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e(L(!1));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){var t=0;try{s&&(e(L(!0)),o.a.post("/api/v1/notification/messages",{data:{email:s.user_email}}).then((function(a){var c,s=a.data;null===(c=s.data)||void 0===c||c.forEach((function(e){!1===e.read&&t++})),e(S(t)),e(E(s.data)),e(L(!1))})))}catch(a){console.log(a),e(L(!1))}}),[A]);var R=function(){var t=Object(b.a)(u.a.mark((function t(a){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c="accept"===a.target.innerText?"confirm":"reject",t.prev=1,e(L(!0)),t.next=5,o.a.patch("/api/v1/rentals/status",{data:{transactionId:D.transaction_id,status:c}});case 5:j(!1),e(L(!1)),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),e(L(!1));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=Object(b.a)(u.a.mark((function t(a){var c,s,n,r,i,l,d,j,b,p;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(a),t.prev=1,e(L(!0)),t.next=5,o.a.post("/api/v1/rentals/uniquerental",{id:String(D.transaction_id)});case 5:return c=t.sent,s=c.data,n=s.data.owner_email,t.next=10,o.a.post("/api/v1/users/uniqueuser",{email:n});case 10:return r=t.sent,i=r.data,l=i.data.rating,d=i.data.number_of_votes,j=i.data.number_of_votes+1,b=["User",["rating","number_of_votes"],n,[(l*d+m)/j,j]],t.next=19,o.a.post("/api/v1/users/updateitems",{data:b});case 19:p=t.sent,e(L(!1)),y(!0),console.log(p),t.next=29;break;case 25:t.prev=25,t.t0=t.catch(1),console.log(t.t0),e(L(!1));case 29:case"end":return t.stop()}}),t,null,[[1,25]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){setTimeout((function(){y(!1)}),4500)}),[N]),Object(F.jsxs)("div",{className:"message-details-container-blog-card",children:[Object(F.jsxs)("div",{className:"blog-card",children:[Object(F.jsxs)("div",{className:"meta",children:[Object(F.jsx)("img",{className:"photo",height:"255px",src:Je}),Object(F.jsxs)("div",{className:"details",children:[Object(F.jsxs)("div",{className:"upper-section-message-photo",children:[Object(F.jsxs)("div",{className:"author",children:[Object(F.jsx)("i",{className:"fas fa-user"})," ",s.first_name," ",s.last_name]}),Object(F.jsxs)("div",{className:"date",children:[Object(F.jsx)("i",{className:"far fa-calendar"})," ",new Date(D.updatedAt).toDateString()]})]}),Object(F.jsx)("div",{className:"tags",children:"Regards CarBnB"})]})]}),Object(F.jsxs)("div",{className:"description",children:[Object(F.jsxs)("h1",{children:[D.title," ",Object(F.jsxs)("div",{style:{visibility:"Order Finished"===D.title&&0===m?"visible":"hidden"},className:"rating-panel-container",children:[Object(F.jsxs)(Xe.a,{id:"rate-owner",component:"legend",children:[Object(F.jsx)("br",{})," Rate Owner:"]}),Object(F.jsx)(Ze.a,{id:"stars",size:"large",name:"simple-controlled",value:m,onChange:function(e,t){I(t)}})]})]}),Object(F.jsxs)("h2",{children:["Order Number ",D.transaction_id]}),Object(F.jsx)("p",{children:D.content.slice(3,D.content.length-4)}),Object(F.jsxs)("div",{className:"read-more",children:[l&&Object(F.jsxs)("div",{children:[Object(F.jsx)("a",{onClick:R,children:"Accept"})," |"," ",Object(F.jsx)("a",{onClick:R,children:"reject"})]}),Object(F.jsx)("a",{className:"read-later-hover",onClick:T,children:"Read Later"})]})]})]}),N&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"Your rating was successfully updated"},"topcenter")]})}function et(e){var t=e.message,a=e.messageId,c=e.setVisibility,s=Object(d.b)(),n=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(L(!0)),e.prev=1,e.next=4,o.a.patch("/api/v1/notification/updateread",{data:{id:null===t||void 0===t?void 0:t.id,status:"read"}});case 4:c(!1),s(L(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),s(L(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsx)("div",{className:"message-container",children:Object(F.jsx)(Z.b,{onClick:n,to:"/message/".concat(a),children:Object(F.jsxs)("div",{className:"read-".concat(String(null===t||void 0===t?void 0:t.read)),children:[Object(F.jsxs)("div",{className:"message-title",children:[" ",null===t||void 0===t?void 0:t.title]}),Object(F.jsxs)("div",{className:"footer-message",children:[Object(F.jsxs)("span",{className:"date-span-message",children:[new Date(null===t||void 0===t?void 0:t.createdAt).toDateString()," ",t.read?null:Object(F.jsx)("span",{className:"bullet-message",children:"\u2022"})]}),Object(F.jsxs)("span",{children:[" from: ",t.message_from]})]})]})})})}function tt(e){var t=e.setVisibility,a=Object(d.c)((function(e){return e.notifications}));return Object(F.jsx)("div",{className:"all-notifications-container",children:null===a||void 0===a?void 0:a.map((function(e,a){return Object(F.jsx)(et,{setVisibility:t,message:e,messageId:a},"message-".concat(a))}))})}function at(e){var t=e.order;return Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:["Barnd: ",t.brand," "]}),Object(F.jsxs)("li",{children:["Model: ",t.model," "]}),Object(F.jsxs)("li",{children:["Year: ",t.year," "]}),Object(F.jsxs)("li",{children:["Fuel: ",t.fuel," "]}),Object(F.jsxs)("li",{children:["Gear: ",t.gear," "]}),Object(F.jsxs)("li",{children:["Passengers: ",t.passengers," "]}),Object(F.jsxs)("li",{children:["Start date: ",new Date(t.startDate).toDateString()," "]}),Object(F.jsxs)("li",{children:["End date: ",new Date(t.endDate).toDateString()," "]}),Object(F.jsxs)("li",{children:["Order status: ",t.isActive," "]}),Object(F.jsxs)("li",{children:["Total price: ",t.totalPrice," $"]})]})}function ct(){var e=Object(p.h)().type,t=Object(d.b)(),a=Object(d.c)((function(e){return e.auth})),s=Object(c.useState)([]),n=Object(i.a)(s,2),r=n[0],l=n[1];return Object(c.useEffect)((function(){var c="orders"===e?"renter_email":"owner_email";t(L(!0)),o.a.post("/api/v1/rentals/myorders",{data:[a.user_email,c]}).then((function(e){var a=e.data;l(a.data),t(L(!1))})).catch((function(e){console.log(e),t(L(!1))}))}),[window.location.href]),Object(F.jsx)("div",{className:"my-order-page",children:r.map((function(t,a){return Object(F.jsx)("div",{className:"artboard",children:Object(F.jsxs)("div",{className:"card",children:[Object(F.jsxs)("div",{className:"card__side card__side--back",children:[Object(F.jsx)("div",{className:"card__cover",children:Object(F.jsx)("h4",{className:"card__heading",children:Object(F.jsxs)("span",{className:"card__heading-span",children:["Order number: ",t.transactionId]})})}),Object(F.jsx)("div",{className:"card__details",children:Object(F.jsx)(at,{order:t})})]}),Object(F.jsx)("div",{className:"card__side card__side--front",children:Object(F.jsx)("div",{className:"card__theme",children:Object(F.jsxs)("div",{className:"card__theme-box",children:[Object(F.jsxs)("p",{className:"card__title",children:[" ","Order number: ",t.transactionId]}),Object(F.jsx)("p",{className:"card__subject",children:"rentals"===e?"Order from you":"Cars you ordered"})]})})})]})},"order-".concat(a))}))})}var st=a(465),nt=a(463),rt=a(466),it=a(471),lt=a(464),ot=a(470),dt=a(233),jt=a.n(dt);function ut(e){var t=e.setVisibility,a=e.setAnchorEl,c=e.anchorEl,s=Object(d.b)(),n=Object(d.c)((function(e){return e.auth})),r=Boolean(c),i=function(){a(null)},l=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(L(!0)),e.prev=1,e.next=4,o.a.post("/api/v1/users/logout");case 4:s({type:"LOG-OUT",payload:!1}),s(L(!1)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error logout"),s(L(!1));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"Avatar",children:[Object(F.jsx)(nt.a,{"aria-controls":"fade-menu","aria-haspopup":"true",onClick:function(e){n&&(a(e.currentTarget),t(!1))},children:Object(F.jsx)(ot.a,{children:n?n.first_name.slice(0,1):Object(F.jsx)(jt.a,{})})}),Object(F.jsxs)(rt.a,{id:"fade-menu",anchorEl:c,keepMounted:!0,open:r,onClose:i,TransitionComponent:lt.a,disableScrollLock:!0,children:[Object(F.jsx)(Z.b,{exact:"true",to:"/profile",className:"menu-drop-down",children:Object(F.jsx)(it.a,{onClick:i,children:"Profile"})}),Object(F.jsx)(Z.b,{exact:"true",to:"/allmyorders/orders",className:"menu-drop-down",children:Object(F.jsx)(it.a,{onClick:i,children:"My orders"})}),Object(F.jsx)(Z.b,{exact:"true",to:"/allmyorders/rentals",className:"menu-drop-down",children:Object(F.jsx)(it.a,{onClick:i,children:"My rentals"})}),Object(F.jsx)(Z.b,{exact:"true",to:"/favorite",className:"menu-drop-down",children:Object(F.jsx)(it.a,{onClick:i,children:"My favorite"})}),Object(F.jsx)(Z.b,{onClick:l,exact:"true",to:"/",className:"menu-drop-down",children:Object(F.jsx)(it.a,{onClick:i,children:"Logout"})})]})]})}var bt=a(234),pt=a.n(bt);function ht(e){var t=e.car,a=Object(d.b)(),s=Object(c.useState)(null),n=Object(i.a)(s,2),r=n[0],l=n[1],j=Object(c.useState)(null),h=Object(i.a)(j,2),O=h[0],m=h[1],x=Object(c.useState)(null),v=Object(i.a)(x,2),g=v[0],N=v[1],y=Object(c.useState)(),w=Object(i.a)(y,2),k=w[0],A=w[1],E=Object(c.useState)(),C=Object(i.a)(E,2),S=C[0],D=C[1],T=Object(c.useState)([]),R=Object(i.a)(T,2),I=R[0],_=R[1];Object(c.useEffect)((function(){a(L(!0));var e=["Photo",["car_id"],[t.car_id]];o.a.post("/api/v1/search/getitem",{data:e}).then((function(e){var t=e.data;_(t.data),console.log(t.data),a(L(!1))})).catch((function(e){console.log(e.message),a(L(!1))}))}),[]);var P=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k?D(!0):(D("snack"),setTimeout((function(){D()}),3e3));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"ft-recipe",children:[Object(F.jsx)("div",{className:"ft-recipe__thumb",children:I.length>0?Object(F.jsx)(Ee,{photosArray:I,location:"result"}):Object(F.jsx)("img",{alt:"car-photo",className:"no-photos-replacement",src:Ae})}),Object(F.jsxs)("div",{className:"ft-recipe__content",children:[Object(F.jsxs)("header",{className:"content__header",children:[Object(F.jsxs)("div",{className:"row-wrapper",children:[Object(F.jsxs)("h2",{className:"recipe-title",children:[t.brand,", ",t.model]}),Object(F.jsx)("div",{className:"user-rating"})]}),Object(F.jsxs)("ul",{className:"recipe-details",children:[Object(F.jsxs)("li",{className:"recipe-details-item time",children:[Object(F.jsx)("i",{className:"fas fa-tools"}),Object(F.jsx)("span",{className:"value",children:t.year}),Object(F.jsx)("span",{className:"title",children:"Manufacture year"})]}),Object(F.jsxs)("li",{className:"recipe-details-item ingredients",children:[Object(F.jsx)("i",{className:"fas fa-dollar-sign ion"}),Object(F.jsx)("span",{className:"value",children:t.price_per_day}),Object(F.jsx)("span",{className:"title",children:"Per day"})]}),Object(F.jsxs)("li",{className:"recipe-details-item servings",children:[Object(F.jsx)(Ce.Icon,{icon:Se.a,className:"ion"}),Object(F.jsx)("span",{className:"value",children:t.passengers}),Object(F.jsx)("span",{className:"title",children:"Number of seats"})]})]})]}),Object(F.jsx)("div",{className:"description",children:Object(F.jsx)(M.DateRangePicker,{startDate:r,startDatePlaceholderText:"Start date:",startDateId:"tata-start-date",endDate:O,endDatePlaceholderText:"End date:",endDateId:"tata-end-date",onDatesChange:function(e){var t=e.startDate,a=e.endDate,c=new Date(t),s=new Date(a);l(t),m(a),A({startDate:c,endDate:s})},focusedInput:g,onFocusChange:function(e){return N(e)},small:!0})}),Object(F.jsx)("footer",{className:"content__footer",children:Object(F.jsx)("button",{onClick:P,children:"Book this car"})})]}),!0===S&&Object(F.jsx)(p.a,{push:!0,to:{pathname:"/favorite/".concat(t.car_id),state:{car:t,dates:k}}}),"snack"===S&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"You must choose dates"},"topcenter")]})}function Ot(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth})),a=Object(c.useState)(),s=Object(i.a)(a,2),n=s[0],r=s[1];return Object(c.useEffect)((function(){e(L(!0)),o.a.post("/api/v1/favorite/all",{userEmail:t.user_email}).then((function(t){var a=t.data;r(a.data),console.log(a.data),e(L(!1))})).catch((function(t){console.log(t),e(L(!1))}))}),[]),Object(F.jsx)("div",{className:"car-favorite-page",children:Object(F.jsx)("div",{className:"favorite-car-list",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(F.jsx)(ht,{car:e},"car-".concat(t))}))})})}function ft(){var e=Object(d.b)(),t=Object(p.g)().state,a=t.car,s=t.dates,n=Object(c.useState)(),r=Object(i.a)(n,2),l=r[0],j=r[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),m=O[0],x=O[1],v=Object(c.useState)(!1),g=Object(i.a)(v,2),N=g[0],y=g[1],w=Object(c.useState)([]),k=Object(i.a)(w,2),E=k[0],C=k[1],S=Object(c.useState)({cvc:"",expiry:"",name:"",number:""}),_=Object(i.a)(S,2),P=_[0],M=_[1],G=(Object(d.c)((function(e){return e.photosArray})),Object(d.c)((function(e){return e.auth})));Object(c.useEffect)((function(){e(L(!0));var t=["Photo",["car_id"],[a.car_id]];return o.a.post("/api/v1/search/getitem",{data:t}).then((function(t){var a=t.data;e(D(a.data)),e(L(!1))})).catch((function(t){console.log(t.message),e(L(!1))})),function(){e(D([]))}}),[]),Object(c.useEffect)((function(){G&&e(T(!1))}),[G]),Object(c.useEffect)((function(){m&&setTimeout((function(){x(!1)}),4500)}),[m]);var Y=function(e){M(Object(He.a)(Object(He.a)({},P),{},Object(Be.a)({},e.target.name,e.target.value)))},U=function(){return Math.round((new Date(s.endDate)-new Date(s.startDate))/864e5)},V=function(){var e=a.price_per_day,t=a.discount_for_week,c=a.discount_for_month,s=U();if(s<7)return{price:e*s};if(s>=30){var n=c.slice(0,-1);return{price:(e-n/100*e)*s,percent:"".concat(n,"%"),days:"month"}}if(s>=7&&s<30){var r=t.slice(0,-1);return{price:(e-r/100*e)*s,percent:"".concat(r,"%"),days:"week"}}},q=function(){var t=Object(b.a)(u.a.mark((function t(c){var n,r,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={carId:a.car_id,ownerEmail:a.owner_email,renterEmail:G.user_email,startDate:s.startDate,endDate:s.endDate,totalPrice:V().price},e(R(n)),t.prev=2,!G){t.next=14;break}if(null!==G.license&&""!==G.license||0!==E.length){t.next=8;break}return y("You must Upload license first"),setTimeout((function(){y(!1)}),3500),t.abrupt("return");case 8:return t.next=10,o.a.post("/api/v1/rentals/new",{data:{rentalDetails:n,userDetails:G}});case 10:201===(r=t.sent).status&&(e(A(r.data.data)),j("/summery")),t.next=17;break;case 14:e(T(!0)),x(!0),console.log("must log in first!");case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(2),400===t.t0.response.status&&(y("Oops.. someone just pick the car. \nyou are redirect to your favorite"),setTimeout((function(){j("/favorite"),y(!1)}),3500)),console.log(t.t0);case 23:if(t.prev=23,null!==G.license){t.next=29;break}return i=["User",["license"],G.user_email,[E]],t.next=28,o.a.post("/api/v1/users/updateitems",{data:i});case 28:e(I(E));case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(23),console.log(t.t1);case 34:case"end":return t.stop()}}),t,null,[[2,19],[23,31]])})));return function(e){return t.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],(c=new FileReader).onloadend=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.result.split(",")[1];case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)}))),c.readAsDataURL(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"container-credit-and-summary",children:[Object(F.jsxs)("div",{className:"window",children:[Object(F.jsx)("div",{className:"order-info",children:Object(F.jsxs)("div",{className:"order-info-content",children:[Object(F.jsxs)("div",{className:"upper-info",children:[Object(F.jsx)("h2",{children:"Order Summary"}),Object(F.jsx)("div",{className:"line"}),new Date(s.startDate).toDateString()," -"," ",new Date(s.endDate).toDateString()]}),Object(F.jsxs)("div",{className:"lower-info",children:[Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-car"}),Object(F.jsx)("span",{className:"thin",children:" Car: "})," ",a.brand,","," ",a.model]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"far fa-clock"}),Object(F.jsx)("span",{className:"thin",children:" Year: "}),a.year]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-gas-pump"}),Object(F.jsx)("span",{className:"thin",children:" Fuel: "}),a.fuel]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)("i",{className:"fas fa-cogs"}),Object(F.jsx)("span",{className:"thin",children:" Gear: "}),a.gear]})})})}),Object(F.jsx)("div",{className:"line"}),Object(F.jsx)("table",{className:"order-table",children:Object(F.jsx)("tbody",{children:Object(F.jsx)("tr",{children:Object(F.jsxs)("td",{children:[Object(F.jsx)(Ce.Icon,{icon:Se.a}),Object(F.jsx)("span",{className:"thin",children:" Passengers: "}),a.passengers]})})})}),Object(F.jsx)("div",{className:"line"})]}),Object(F.jsxs)("div",{className:"total",children:[Object(F.jsxs)("span",{style:{float:"left"},children:[Object(F.jsx)("div",{className:"thin dense",children:"Initial Price:"}),V().percent&&Object(F.jsx)("div",{className:"thin dense",children:"discount for ".concat(V().days,":")}),"TOTAL"]}),Object(F.jsxs)("span",{style:{float:"right",textAlign:"right"},children:[Object(F.jsx)("div",{className:"thin dense",children:"".concat(U()," x\n                   ").concat(a.price_per_day," =\n                   ").concat(U()*a.price_per_day," $")}),V().percent&&Object(F.jsx)("div",{className:"thin dense",children:"".concat(V().percent," , - ").concat(Number(U()*a.price_per_day-V().price).toFixed(2)," $")}),Number(V().price).toFixed(2),"$"]})]})]})}),Object(F.jsx)("div",{className:"credit-info",children:Object(F.jsxs)("div",{className:"credit-info-content",children:[Object(F.jsx)(ze.a,{cvc:P.cvc,expiry:P.expiry,focus:P.focus,name:P.name,number:P.number}),"Card Number",Object(F.jsx)("input",{className:"input-field",type:"text",name:"number",placeholder:"Card Number",onChange:Y,maxLength:"16"}),"Card Holder",Object(F.jsx)("input",{className:"input-field",type:"text",name:"name",placeholder:"Your Name",onChange:Y}),Object(F.jsx)("table",{className:"half-input-table",children:Object(F.jsx)("tbody",{children:Object(F.jsxs)("tr",{children:[Object(F.jsxs)("td",{children:["Expires",Object(F.jsx)("input",{className:"input-field",type:"date",name:"expiry",placeholder:"Expire Date",onChange:Y})]}),Object(F.jsxs)("td",{children:["CVC",Object(F.jsx)("input",{className:"input-field",type:"number",name:"cvc",placeholder:"CVC",onChange:Y})]})]})})}),null===G.license&&Object(F.jsxs)("div",{children:[Object(F.jsx)("label",{children:"Upload license"}),Object(F.jsx)("input",{className:"upload-photo-rental",type:"file",onChange:function(e){return W(e)},placeholder:"upload license"})]}),Object(F.jsx)("button",{className:"pay-btn",onClick:q,children:"Order"})]})})]}),m&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"In our terms, you must login first"},"topcenter"),N&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:N},"topcenter"),l&&Object(F.jsx)(p.a,{push:!0,to:l})]})}var mt=a.p+"static/media/top-owner-car.84754b42.jpeg",xt=a.p+"static/media/city1.f861a581.jpeg",vt=a.p+"static/media/city2.14657faf.jpeg",gt=a.p+"static/media/city3.257f857a.jpeg",Nt=a.p+"static/media/city4.40d89517.jpeg",yt=a.p+"static/media/city5.e6a90d09.jpeg";function wt(){var e=Object(d.b)(),t=Object(p.h)().type,a=Object(c.useState)(),s=Object(i.a)(a,2),n=s[0],r=s[1],l=Object(c.useState)([xt,vt,gt,Nt,yt]),j=Object(i.a)(l,2),u=j[0],b=j[1],h=Object(c.useState)(['" I enjoy being a part of carBnB host\'s team. there is nothing that makes me feel better then seeing a satisfied guest. "','" Since my family and i became car hosts, we got the opportunity to benefit from extra time together, while helping guests in our city to find a good, comfortable and cheap alternative to car rentals companies. "','" I invite all the visitors of my city to join many other  guests that already enjoyed driving my cars through the wonderful local landscape. "','" CarBnB gave me the possibility to benefit from my unused cars, and help others in the same time. "','" With the great experience of carBnB, i got the opportunity to offer my car to whoever needs it for a great deal and make everyone satisfied. "']),O=Object(i.a)(h,2),f=O[0],m=O[1];return Object(c.useEffect)((function(){e(L(!0)),o.a.get("/api/v1/top/".concat(t)).then((function(t){var a=t.data;r(a.data),console.log(a.data),e(L(!1))})).catch((function(t){console.log(t.message),e(L(!1))}))}),[]),Object(c.useEffect)((function(){for(var e=u.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),a=[u[t],u[e]];u[e]=a[0],u[t]=a[1];var c=[f[t],f[e]];f[e]=c[0],f[t]=c[1]}m(f),b(u)}),[]),Object(F.jsx)(F.Fragment,{children:"cars"===t?Object(F.jsx)("div",{className:"car-favorite-page",children:Object(F.jsx)("div",{className:"favorite-car-list",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(F.jsx)(ht,{car:e},"car-".concat(t))}))})}):"locations"===t?Object(F.jsx)("div",{className:"top-city-div",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(F.jsx)("section",{className:"city-section ".concat(t),children:Object(F.jsxs)("div",{children:[Object(F.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(F.jsxs)("div",{id:"container",children:[Object(F.jsxs)("div",{className:"product-details product-details-city",children:[Object(F.jsx)("h1",{children:e.city}),Object(F.jsx)("p",{className:"information top-city-information",children:e.description?e.description:"".concat(e.city.substring(0,1).toUpperCase()+e.city.substring(1).toLowerCase()," is ").concat("located in the unique landscape of Israel, and offers a special opportunity to travel, enjoy and absorb  the local culture.")}),Object(F.jsx)(Z.b,{push:!0,to:{pathname:"/top/city/".concat(e.city),state:{city:e}},children:Object(F.jsx)("div",{className:"control",children:Object(F.jsxs)("button",{className:"btn",children:[Object(F.jsx)("span",{className:"price",children:"\ud83d\ude97"}),Object(F.jsx)("span",{className:"shopping-cart",children:Object(F.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})}),Object(F.jsx)("span",{className:"buy",children:"Cars Collection"})]})})})]}),Object(F.jsx)("div",{className:"product-image",children:Object(F.jsx)("img",{src:u[t],alt:""})})]})]})},"city-".concat(t))}))}):Object(F.jsx)("div",{className:"top-owner-div",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(F.jsx)("section",{className:"owner-section ".concat(t),children:Object(F.jsxs)("div",{children:[Object(F.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(F.jsxs)("div",{id:"container",children:[Object(F.jsxs)("div",{className:"product-details",children:[Object(F.jsx)("h1",{children:e.first_name+" "+e.last_name}),Object(F.jsxs)("span",{className:"hint-star star",children:[Object(F.jsx)("i",{className:"fa fa-star".concat(e.rating>=1?"":"-o"),"aria-hidden":!0}),Object(F.jsx)("i",{className:"fa fa-star".concat(e.rating>=2?"":"-o"),"aria-hidden":!0}),Object(F.jsx)("i",{className:"fa fa-star".concat(e.rating>=3?"":"-o"),"aria-hidden":!0}),Object(F.jsx)("i",{className:"fa fa-star".concat(e.rating>=4?"":"-o"),"aria-hidden":!0}),Object(F.jsx)("i",{className:"fa fa-star".concat(e.rating>=5?"":"-o"),"aria-hidden":!0})]}),Object(F.jsx)("p",{className:"information top-car-information",children:f[t]}),Object(F.jsx)(Z.b,{push:!0,to:{pathname:"/top/ownercars/".concat(e.first_name),state:{owner:e}},children:Object(F.jsx)("div",{className:"control",children:Object(F.jsxs)("button",{className:"btn",children:[Object(F.jsx)("span",{className:"price",children:"\ud83d\ude97"}),Object(F.jsx)("span",{className:"shopping-cart",children:Object(F.jsx)("i",{className:"fa fa-shopping-cart","aria-hidden":"true"})}),Object(F.jsx)("span",{className:"buy",children:"Cars Collection"})]})})})]}),Object(F.jsxs)("div",{className:"product-image",children:[Object(F.jsx)("img",{src:mt,alt:""}),Object(F.jsxs)("div",{className:"info",children:[Object(F.jsx)("h2",{children:" Description"}),Object(F.jsxs)("ul",{children:[Object(F.jsxs)("li",{children:["City of hosting ",e.address]}),Object(F.jsxs)("li",{children:["Joined us on"," ",new Date(e.createdAt).toDateString()]})]})]})]})]})]})},"owner-".concat(t))}))})})}function kt(){var e,t,a,s,n=Object(c.useState)(),r=Object(i.a)(n,2),l=r[0],j=r[1],u=null===(e=Object(p.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.owner,b=null===(a=Object(p.g)())||void 0===a||null===(s=a.state)||void 0===s?void 0:s.city,h=Object(p.h)().brand,O=Object(d.b)();return Object(c.useEffect)((function(){u&&(O(L(!0)),o.a.post("/api/v1/search/getitem",{data:["Car",["owner_email"],[u.user_email]]}).then((function(e){var t=e.data;j(t.data),O(L(!1))})).catch((function(e){console.log(e),O(L(!1))}))),b&&(O(L(!0)),o.a.get("/api/v1/cars/bycity/".concat(b.city)).then((function(e){var t=e.data;j(t.data),O(L(!1))})).catch((function(e){console.log(e),O(L(!1))}))),h&&(O(L(!0)),o.a.get("/api/v1/top/brand/".concat(h)).then((function(e){var t=e.data;j(t.data),O(L(!1))})).catch((function(e){console.log(e),O(L(!1))})))}),[u,b,h]),Object(F.jsx)("div",{className:"top-page-car-results",children:Object(F.jsx)("div",{className:"top-container-car-results",children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(F.jsx)("div",{className:"top-owner-car",children:Object(F.jsx)(ht,{car:e},"car-".concat(t))})}))})})}function At(){var e=Object(d.b)(),t=Object(p.h)().id,a=Object(c.useRef)(),s=Object(c.useRef)(),n=Object(c.useRef)(),r=Object(c.useState)(!1),l=Object(i.a)(r,2),j=l[0],h=l[1],O=Object(c.useState)(),m=Object(i.a)(O,2),x=m[0],v=m[1],g=function(){var c=Object(b.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,a.current.value&&s.current.value&&n.current.value){c.next=3;break}return c.abrupt("return",alert("must fill all fields"));case 3:if(a.current.value===s.current.value){c.next=5;break}return c.abrupt("return",alert("Password does not match"));case 5:return e(L(!0)),c.next=8,o.a.put("/api/v1/auth/resetpassword/".concat(t),{resetCode:n.current.value,newPassword:a.current.value});case 8:e(L(!1)),h("Your password reset was successful you will redirect to login page"),setTimeout((function(){h(!1),v(!0),T(!0)}),2500),c.next=18;break;case 13:c.prev=13,c.t0=c.catch(0),e(L(!1)),h(c.t0.response.data.message),setTimeout((function(){h(!1)}),3500);case 18:case"end":return c.stop()}}),c,null,[[0,13]])})));return function(){return c.apply(this,arguments)}}();return Object(F.jsxs)("div",{className:"page-reset-password",children:[Object(F.jsx)("div",{className:"container-reset-password",children:Object(F.jsx)("div",{className:"row",children:Object(F.jsxs)("div",{className:"col-sm-4",children:[Object(F.jsx)("label",{children:"New Password"}),Object(F.jsxs)("div",{className:"form-group pass_show",children:[Object(F.jsx)("input",{ref:a,type:"password",className:"form-control",placeholder:"New Password"}),Object(F.jsx)("button",{onClick:function(){"text"===a.current.type?a.current.type="password":a.current.type="text"},children:Object(F.jsx)("i",{className:"far fa-eye"})})]}),Object(F.jsx)("label",{children:"Confirm Password"}),Object(F.jsxs)("div",{className:"form-group pass_show",children:[Object(F.jsx)("input",{ref:s,type:"password",className:"form-control",placeholder:"Confirm Password"}),Object(F.jsx)("button",{onClick:function(){"text"===s.current.type?s.current.type="password":s.current.type="text"},children:Object(F.jsx)("i",{className:"far fa-eye"})})]}),Object(F.jsx)("label",{children:"Confirm Reset Code from email"}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("input",Object(Be.a)({ref:s,type:"text",className:"form-control",placeholder:"Reset Code"},"ref",n))}),Object(F.jsx)("button",{onClick:g,children:"Reset Password"})]})})}),j&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:j},"topcenter"),x&&Object(F.jsx)(p.a,{push:!0,to:"/"})]})}var Et=a(9);var Ct=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.notificationCounter})),a=Object(d.c)((function(e){return e.auth})),s=Object(d.c)((function(e){return e.showLogin})),n=Object(d.c)((function(e){return e.spinner})),r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1],u=Object(c.useState)(null),b=Object(i.a)(u,2),h=b[0],O=b[1],x=Object(c.useState)(!1),v=Object(i.a)(x,2),g=v[0],N=v[1];return Object(c.useEffect)((function(){e(T(!1)),Et.get("https://vpic.nhtsa.dot.gov/api/vehicles/GetMakesForVehicleType/car?format=json").then((function(t){var a=t.data;console.log(a),e(m(a.Results))}))}),[]),Object(c.useEffect)((function(){var t=0;a&&Et.post("/api/v1/notification/messages",{data:{email:a.user_email}}).then((function(a){var c,s=a.data;null===(c=s.data)||void 0===c||c.forEach((function(e){!1===e.read&&t++})),e(S(t)),e(E(s.data))})).catch((function(t){403===t.response.status&&(e({type:"LOG-OUT",payload:!1}),N(!0),setTimeout((function(){N(!1)}),4500))}))}),[[],a,o]),Object(F.jsx)("div",{className:"App",children:Object(F.jsxs)(Z.a,{children:[Object(F.jsx)(Z.c,{className:"navlink",id:"navbar-logo",exact:!0,to:"/",children:Object(F.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABCCAYAAACywDOLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAhdEVYdENyZWF0aW9uIFRpbWUAMjAyMTowNjoyOSAxODowNjowMvvLhssAAAeVSURBVHhe7dx5rD33GMfxKtraq9ROita+xL7ELqhIVG2hoYg9drGL1hZbaKlEoqG0aLVUCH/YU7GU2IKiJYh93/et9Xmd332SMeacO/ec3nMm8X0n79xz5s49c+48892fmb0ajcYucoGtn31uGK8fz4tfi9+IjQlytyhAAtX1S/EOsTEhHhv/HfvBKv8VHxIbE+AW8Z9RYM6N74gPikfEd8UK2t+iqrKxYd4fKyiPsqHHU2P9/mQbGptjv/j3KBifsWEAnZOvRvv8Ie4dGxvAib9S3Gf2bn7AusG8RLzMnpeNdSNgf97zcsaiQNTvBO8ve142NsX3okD8Nl7Ohh5XjX+K9tHtb2yY50bB4BfjdWJhEN0dmz0pNjaMjodAVVB07c+O39p6Xds/GS8cGxNAVfiJWMHp+6O4f2xskAtu/YTOx0nxrHihqCv/y2iGQ8+Qb9va1pgwh8cqZW+xoTFtdP2/GQXMAPsqsbEhulXiPATKHOK9Y+3/4a2fjYmyb/xxFDxTU5eOjQ0wpoTBsouOiPUywftj1MVvTJhLxd9FpexnUSm7eGxMmFdEAetqcP3E2GbwJ8hLYz9g5TtjC9qEuHWsaSqD6ffFU2JNCvPRsTER3horMPezYQuTw3+NtkvWaUwEwRCU78/e/TeVYiAvZF7qXBeTzbeK94g3iK0q3QXOjILym1gr1MWno9/R9NUd41DgzEceEw0Lan/+ID4ujgl2YySvjHWC3xAvEpWMp2xt6/vd+MJ4jQirASaWh/YtJfiMHRs2tuFGsXtyze7/vvNeR+Tbnfeljoplm893tlmqeVHUSRF8KQf1u+fHxooYIH8u1knta67x4VGVdtv4xijdYGjfL8T+upqLofZXXRqkN5bEVNRHYp3wL8ej4ofix6M26VqxjypTMuoHo9JXfy9pdYhnxdrnATY0xnFQPDTePipZ7451IlV5l487xey+vzdxPA+BrOPIMWlsg0DViS3/0Xmt3bl6XIYPRJ+h6uz3MIu7xDrW021ozOfKsZZPhjSbsUpOvQ5GfdaRNgzQHZgbFjQW4OaHOlnGVI+JTrIqzDY9vVvGZTk41s0Wepb3ioVlGz3DmvY6J7au/QLMOqiqnCz5h90qy4m1na+1YQVeHOuzKO1AZ+annW2CetfYWIB2qU7Yq23ooJteJeO9NqyAz3pN7OY5dlXtPjA2tsGYp27k6+dq1G2zfJMN5wPGaapg01GqR7fjHhuvFhsj6SaQqvquF6UDOJm1XbpbYyKYOa97xIb8WGwz6hPjnvEXsR8sSydtqmgi9JczLH8cFq8bTe4qWeYQG41Go9FoNBr/TwwlvZh41Y3v3xprqcXMhKmlxoaogBkUS7d+RDQdNe8+ZvOKZj/eHk0nmdLaTaTWmZzeDhfTd+Lr4xk2LMnT4phkWOPTX0eT16+KJh3WQgXs6Pjs+ILorhQ3PfRLkpLnBog7R9lQx8Vnxt3EWPCjcdHEs/9BjeDBZabUzEkue1vvy6LHND1h9m4+VjTkoTw+SpeQwr5W3I2ixIxFppP8xH6Vam3ritH6l1WAMXe3XDRKhbPi3V+NFjDLMmOQ0uDKd0EN4btKb/DdPHfEd+0jYKr9sXjywqqrGDtCVegJN/4Rz5Iay6fiT6JEG9wkmhWxRGK73A95iRZAvxK7C5Zm661uW0qxOmAf1ZmHu3h9fFzm0RJVPVf1ZNXace4UfeavogvTd6uVAlX7KjcnOubaqsPCle3KXGUtyi1HrjYPwXT1HhhdBPLu3xy1MaoQKAGOZ2X5oVFJtL+qzLSYdLeHRYwtYf7eEw6kkcvywt2j4wjQ8+LN4hWihFbt9HOiNvnEWIwtYS4oc6+CJTNsragi/GP3n73bOaqaR8Ybz979L6qen0fpcKiAzcvtODW+fM/LWcDcaKFNnWfdiKHdkshTVMA8uHMegqXkFQKm7R46TqkWULLoYlzrKoaTfUhUQgTs9LgKEkRNIOugSDtwEv1jOg5+uvlBwOQzqhrl6y9CwLQRnh8yhJNVnSGlW8fDOp4qW8DkTkqfk7w6hFLm4nBR+X4CJvX8vnEI58sxNQVqhidHa4lqirVRKQLLVon+CdWW9sHndBU0bZvk0wpOlTD3m23HTjod+Gz0BFVUCbvp7N0wz4j2qc7OTjsdD47+fm2PwnC16CjgYls/x2DM5ov6G4+DMBxwpWqnrhm1i7KBVVGu8mtHgd1t9FyHnka3WzgetKFrQcDU4Q5sDDMWQTFwVAIESeP9uijrSu9Q46+x91BMA0vVxm7jglBbdNuksbj4lqHuzFnmmEshYL7sCVEuoo6AL3FANBjtqvuvvbOf2YBqV74e9ZoMvD22z9WmLfMZ3huE3iYui9Kp9zhPuSY6PapCxzstroL2bOg4XfUMTTYYMLsofxjXihMucdSBBXCR9nlJ7A5yBVHD3s8L0UVXwnS53RSB20WdkZvP3i1GSbXvIrWdchzfE+8TC+Mvv6/hxBAuJvvUuE9Ca/ezh5RG4Xvp2DgPa33IzFC7omRcNvazb92BohqsensIJVbpMhYy9rKvwDUajUajcX6jDdNoLpq+aUyH4wXskrH7oJTGZNnr9P8AceBF2pFJFkUAAAAASUVORK5CYII=",alt:"logo"})}),Object(F.jsx)(Z.c,{className:"navlink add-car-btn",activeStyle:{color:"navy"},to:a&&"/addnewcar",onClick:function(){!a&&e(T(!0))},children:"Rent Your Car"}),a?Object(F.jsx)("div",{className:"navlink messages",children:Object(F.jsxs)(st.a,{badgeContent:t,color:"secondary",children:[Object(F.jsx)(pt.a,{onClick:function(){j((function(e){return!e})),O(null)}}),Object(F.jsx)("div",{className:"tool-tip-text ".concat(o),children:Object(F.jsx)(tt,{setVisibility:j})})]})}):Object(F.jsx)("div",{className:"navlink login-btn",onClick:function(){e(T(!0))},children:"Login"}),g&&Object(F.jsx)(f.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!0,message:"your time expired, please login again"},"topcenter"),Object(F.jsx)(ut,{anchorEl:h,setAnchorEl:O,setVisibility:j}),n&&Object(F.jsx)("div",{className:"spinner",children:Object(F.jsxs)("div",{className:"sk-folding-cube",children:[Object(F.jsx)("div",{className:"sk-cube1 sk-cube"}),Object(F.jsx)("div",{className:"sk-cube2 sk-cube"}),Object(F.jsx)("div",{className:"sk-cube4 sk-cube"}),Object(F.jsx)("div",{className:"sk-cube3 sk-cube"})]})}),s&&Object(F.jsx)(ke,{}),Object(F.jsxs)(p.d,{children:[Object(F.jsx)(p.b,{exact:!0,path:"/",children:Object(F.jsx)(J,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/login",children:Object(F.jsx)(ke,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/register",children:Object(F.jsx)(ee,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/addnewcar",children:Object(F.jsx)(xe,{})}),a&&Object(F.jsx)(p.b,{exact:!0,path:"/profile",children:Object(F.jsx)(Oe,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/searchbar",children:Object(F.jsx)(G,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/results",children:Object(F.jsx)(We,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/summery",children:Object(F.jsx)(Ke,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/favorite",children:Object(F.jsx)(Ot,{})}),a&&Object(F.jsx)(p.b,{exact:!0,path:"/notifications",children:Object(F.jsx)(tt,{})}),Object(F.jsx)(p.b,{exact:!0,path:"/result/:resultId",component:Qe}),Object(F.jsx)(p.b,{exact:!0,path:"/favorite/:carId",component:ft}),Object(F.jsx)(p.b,{exact:!0,path:"/message/:messageId",component:$e}),Object(F.jsx)(p.b,{exact:!0,path:"/allmyorders/:type",component:ct}),Object(F.jsx)(p.b,{exact:!0,path:"/order/:orderId",component:at}),Object(F.jsx)(p.b,{exact:!0,path:"/top/:type",component:wt}),Object(F.jsx)(p.b,{exact:!0,path:"/resetpassword/:id",component:At}),Object(F.jsx)(p.b,{exact:!0,path:"/top/ownercars/:ownername",component:kt}),Object(F.jsx)(p.b,{exact:!0,path:"/top/city/:name",component:kt}),Object(F.jsx)(p.b,{exact:!0,path:"/top/car/:brand",component:kt}),Object(F.jsx)(p.b,{path:"/",component:fe})]}),g&&Object(F.jsx)(p.a,{push:!0,to:"/"})]})})},St=a(235),Dt=a(49),Tt=a(236),Rt=a(237),It=a(238),Lt=a(239),_t=a(240),Pt=a(241),Mt=a(242),Ft=a(243),Gt=a(244),Yt=a(245),Ut=a(246),Vt=a(247),qt=a(248),Wt=a(249),Bt=a(250),Ht=a(251),zt=a(252),Qt=a(253),Kt=a(254),Zt=Object(Dt.b)({allCars:Tt.carsReducer,allCarsApi:Rt.allCarsApiReducer,allModelsApi:It.allModelsApiReducer,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN-IN":return t.payload;case"LOG-OUT":return!1;case"SETAUTHLICENSE":return Object(He.a)(Object(He.a)({},e),{},{license:t.payload});default:return e}},availableCars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETAVAILABLE":return t.payload;default:return e}},yearsFilter:Lt.yearFilterReducer,priceFilter:_t.priceFilterReducer,ratingFilter:Pt.ratingFilterReducer,filteredCars:Mt.filteredCarsReducer,initialSearch:Ft.initialSearchReducer,isLoginPage:Gt.onLoginReducer,promptOrNormal:Yt.promptOrNormalReducer,rentalDetails:Ut.rentalDetailsReducer,notifications:Vt.notificationsReducer,notFoundMessage:qt.notFoundMessageReducer,notificationCounter:Wt.notificationCounterReducer,photosArray:Bt.photosArrayReducer,showLogin:Ht.showLoginReducer,carToRental:zt.carToRentalReducer,allCitiesApi:Qt.allCitiesApiReducer,spinner:Kt.spinnerReducer}),Xt=function(e,t){return"LOG-OUT"===t.type&&(window.localStorage.removeItem("persist:root"),e=void 0),Zt(e,t)},Jt=a(135),$t=a(255),ea=a.n($t),ta=a(256),aa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Dt.c,ca={key:"root",storage:ea.a},sa=Object(Jt.a)(ca,Xt),na=Object(Dt.d)(sa,aa(Object(Dt.a)(St.a))),ra=Object(Jt.b)(na);r.a.render(Object(F.jsx)(s.a.StrictMode,{children:Object(F.jsx)(d.a,{store:na,children:Object(F.jsx)(ta.a,{persistor:ra,children:Object(F.jsx)(Ct,{})})})}),document.getElementById("root"))}},[[426,1,2]]]);
//# sourceMappingURL=main.0b8f6276.chunk.js.map